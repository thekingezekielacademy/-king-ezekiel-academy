/*! For license information please see main.a1da0c76.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),a=n(43),s=n(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(i(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var L=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===L?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case k:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case f:return"Portal";case w:return(e.displayName||"Context")+".Provider";case y:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return A(e(t))}catch(n){}}return null}var O=Array.isArray,D=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},M=[],I=-1;function F(e){return{current:e}}function B(e){0>I||(e.current=M[I],M[I]=null,I--)}function U(e,t){I++,M[I]=e.current,e.current=t}var W=F(null),H=F(null),q=F(null),V=F(null);function K(e,t){switch(U(q,t),U(H,e),U(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?au(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=su(t=au(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(W),U(W,e)}function G(){B(W),B(H),B(q)}function Y(e){null!==e.memoizedState&&U(V,e);var t=W.current,n=su(t,e.type);t!==n&&(U(H,e),U(W,n))}function J(e){H.current===e&&(B(W),B(H)),V.current===e&&(B(V),Yu._currentValue=z)}var $=Object.prototype.hasOwnProperty,Q=r.unstable_scheduleCallback,X=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,se=r.unstable_NormalPriority,ie=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,de=null,ue=null;function me(e){if("function"===typeof le&&ce(e),ue&&"function"===typeof ue.setStrictMode)try{ue.setStrictMode(de,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(he(e)/fe|0)|0},he=Math.log,fe=Math.LN2;var ge=256,xe=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?a=ve(r):0!==(i&=o)?a=ve(i):n||0!==(n=o&~e)&&(a=ve(n)):0!==(o=r&~s)?a=ve(o):0!==i?a=ve(i):n||0!==(n=r&~e)&&(a=ve(n)),0===a?0:0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:a}function ye(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Ne(){var e=xe;return 0===(62914560&(xe<<=1))&&(xe=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Ee(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Te(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Pe(){var e=R.p;return 0!==e?e:void 0===(e=window.event)?32:cm(e.type)}var Le=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Le,Oe="__reactProps$"+Le,De="__reactContainer$"+Le,Re="__reactEvents$"+Le,ze="__reactListeners$"+Le,Me="__reactHandles$"+Le,Ie="__reactResources$"+Le,Fe="__reactMarker$"+Le;function Be(e){delete e[Ae],delete e[Oe],delete e[Re],delete e[ze],delete e[Me]}function Ue(e){var t=e[Ae];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[Ae]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bu(e);null!==e;){if(n=e[Ae])return n;e=bu(e)}return t}n=(e=n).parentNode}return null}function We(e){if(e=e[Ae]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function qe(e){var t=e[Ie];return t||(t=e[Ie]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[Fe]=!0}var Ke=new Set,Ge={};function Ye(e,t){Je(e,t),Je(e+"Capture",t)}function Je(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var $e,Qe,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(a=t,$.call(et,a)||!$.call(Ze,a)&&(Xe.test(a)?et[a]=!0:(Ze[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===$e)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$e=t&&t[1]||"",Qe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+$e+e+Qe}var st=!1;function it(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),i=s[0],o=s[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var d="\n"+l[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=a);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return it(e.type,!1);case 11:return it(e.type.render,!1);case 1:return it(e.type,!0);case 31:return at("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ht=/[\n"\\]/g;function ft(e){return e.replace(ht,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,a,s,i,o){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?vt(e,i,ct(t)):null!=n?vt(e,i,ct(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=s&&(e.defaultChecked=!!s),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function xt(e,t,n,r,a,s,i,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function vt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function yt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(O(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function jt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Nt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function St(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&kt(e,a,r)}else for(var s in t)t.hasOwnProperty(s)&&kt(e,s,t[s])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tt(e){return Et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var At=null,Ot=null;function Dt(e){var t=We(e);if(t&&(e=t.stateNode)){var n=e[Oe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Oe]||null;if(!a)throw Error(i(90));gt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&mt(r)}break e;case"textarea":yt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Rt=!1;function zt(e,t,n){if(Rt)return e(t,n);Rt=!0;try{return e(t)}finally{if(Rt=!1,(null!==At||null!==Ot)&&(Uc(),At&&(t=At,e=Ot,Ot=At=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Oe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var It=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(It)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Om){Ft=!1}var Ut=null,Wt=null,Ht=null;function qt(){if(Ht)return Ht;var e,t,n=Wt,r=n.length,a="value"in Ut?Ut.value:Ut.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Ht=a.slice(e,1<t?1-t:void 0)}function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Gt(){return!1}function Yt(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Kt:Gt,this.isPropagationStopped=Gt,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Jt,$t,Qt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Yt(Xt),en=m({},Xt,{view:0,detail:0}),tn=Yt(en),nn=m({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?(Jt=e.screenX-Qt.screenX,$t=e.screenY-Qt.screenY):$t=Jt=0,Qt=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),rn=Yt(nn),an=Yt(m({},nn,{dataTransfer:0})),sn=Yt(m({},en,{relatedTarget:0})),on=Yt(m({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Yt(m({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Yt(m({},Xt,{data:0})),dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function hn(){return pn}var fn=Yt(m({},en,{key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hn,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Yt(m({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=Yt(m({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hn})),vn=Yt(m({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Yt(m({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),yn=Yt(m({},Xt,{newState:0,oldState:0})),wn=[9,13,27,32],jn=It&&"CompositionEvent"in window,Nn=null;It&&"documentMode"in document&&(Nn=document.documentMode);var kn=It&&"TextEvent"in window&&!Nn,Sn=It&&(!jn||Nn&&8<Nn&&11>=Nn),_n=String.fromCharCode(32),Cn=!1;function En(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ln[e.type]:"textarea"===t}function On(e,t,n,r){At?Ot?Ot.push(r):Ot=[r]:At=r,0<(t=qd(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,Rn=null;function zn(e){zd(e,0)}function Mn(e){if(mt(He(e)))return e}function In(e,t){if("change"===e)return t}var Fn=!1;if(It){var Bn;if(It){var Un="oninput"in document;if(!Un){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Un="function"===typeof Wn.oninput}Bn=Un}else Bn=!1;Fn=Bn&&(!document.documentMode||9<document.documentMode)}function Hn(){Dn&&(Dn.detachEvent("onpropertychange",qn),Rn=Dn=null)}function qn(e){if("value"===e.propertyName&&Mn(Rn)){var t=[];On(t,Rn,e,Lt(e)),zt(zn,t)}}function Vn(e,t,n){"focusin"===e?(Hn(),Rn=n,(Dn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Hn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(Rn)}function Gn(e,t){if("click"===e)return Mn(t)}function Yn(e,t){if("input"===e||"change"===e)return Mn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!$.call(t,a)||!Jn(e[a],t[a]))return!1}return!0}function Qn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Qn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=It&&"documentMode"in document&&11>=document.documentMode,rr=null,ar=null,sr=null,ir=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ir||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&$n(sr,r)||(sr=r,0<(r=qd(ar,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},dr={},ur={};function mr(e){if(dr[e])return dr[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in ur)return dr[e]=n[t];return e}It&&(ur=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=mr("animationend"),hr=mr("animationiteration"),fr=mr("animationstart"),gr=mr("transitionrun"),xr=mr("transitionstart"),vr=mr("transitioncancel"),br=mr("transitionend"),yr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){yr.set(e,t),Ye(t,[e])}wr.push("scrollEnd");var Nr=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=Nr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Nr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Sr=[],_r=0,Cr=0;function Er(){for(var e=_r,t=Cr=_r=0;t<e;){var n=Sr[t];Sr[t++]=null;var r=Sr[t];Sr[t++]=null;var a=Sr[t];Sr[t++]=null;var s=Sr[t];if(Sr[t++]=null,null!==r&&null!==a){var i=r.pending;null===i?a.next=a:(a.next=i.next,i.next=a),r.pending=a}0!==s&&Ar(n,a,s)}}function Tr(e,t,n,r){Sr[_r++]=e,Sr[_r++]=t,Sr[_r++]=n,Sr[_r++]=r,Cr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Tr(e,t,n,r),Or(e)}function Lr(e,t){return Tr(e,null,null,t),Or(e)}function Ar(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(a=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,a&&null!==t&&(a=31-pe(n),null===(r=(e=s.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),s):null}function Or(e){if(50<Ac)throw Ac=0,Oc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Rr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Rr(e,t,n,r)}function Mr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ir(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,a,s){var o=0;if(r=e,"function"===typeof e)Mr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=zr(31,n,t,a)).elementType=C,e.lanes=s,e;case g:return Ur(n.children,a,s,t);case x:o=8,a|=24;break;case v:return(e=zr(12,n,t,2|a)).elementType=v,e.lanes=s,e;case N:return(e=zr(13,n,t,a)).elementType=N,e.lanes=s,e;case k:return(e=zr(19,n,t,a)).elementType=k,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:o=10;break e;case y:o=9;break e;case j:o=11;break e;case S:o=14;break e;case _:o=16,r=null;break e}o=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=zr(o,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Ur(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function Wr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function Hr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Vr=0,Kr=null,Gr=0,Yr=[],Jr=0,$r=null,Qr=1,Xr="";function Zr(e,t){qr[Vr++]=Gr,qr[Vr++]=Kr,Kr=e,Gr=t}function ea(e,t,n){Yr[Jr++]=Qr,Yr[Jr++]=Xr,Yr[Jr++]=$r,$r=e;var r=Qr;e=Xr;var a=32-pe(r)-1;r&=~(1<<a),n+=1;var s=32-pe(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Qr=1<<32-pe(t)+a|n<<a|r,Xr=s+e}else Qr=1<<s|n<<a|r,Xr=e}function ta(e){null!==e.return&&(Zr(e,1),ea(e,1,0))}function na(e){for(;e===Kr;)Kr=qr[--Vr],qr[Vr]=null,Gr=qr[--Vr],qr[Vr]=null;for(;e===$r;)$r=Yr[--Jr],Yr[Jr]=null,Xr=Yr[--Jr],Yr[Jr]=null,Qr=Yr[--Jr],Yr[Jr]=null}var ra=null,aa=null,sa=!1,ia=null,oa=!1,la=Error(i(519));function ca(e){throw fa(kr(Error(i(418,"")),e)),la}function da(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ae]=e,t[Oe]=r,n){case"dialog":Md("cancel",t),Md("close",t);break;case"iframe":case"object":case"embed":Md("load",t);break;case"video":case"audio":for(n=0;n<Dd.length;n++)Md(Dd[n],t);break;case"source":Md("error",t);break;case"img":case"image":case"link":Md("error",t),Md("load",t);break;case"details":Md("toggle",t);break;case"input":Md("invalid",t),xt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ut(t);break;case"select":Md("invalid",t);break;case"textarea":Md("invalid",t),wt(t,r.value,r.defaultValue,r.children),ut(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||$d(t.textContent,n)?(null!=r.popover&&(Md("beforetoggle",t),Md("toggle",t)),null!=r.onScroll&&Md("scroll",t),null!=r.onScrollEnd&&Md("scrollend",t),null!=r.onClick&&(t.onclick=Qd),t=!0):t=!1,t||ca(e)}function ua(e){for(ra=e.return;ra;)switch(ra.tag){case 5:case 13:return void(oa=!1);case 27:case 3:return void(oa=!0);default:ra=ra.return}}function ma(e){if(e!==ra)return!1;if(!sa)return ua(e),sa=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||iu(e.type,e.memoizedProps)),t=!t),t&&aa&&ca(e),ua(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){aa=xu(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}aa=null}}else 27===n?(n=aa,pu(e.type)?(e=vu,vu=null,aa=e):aa=n):aa=ra?xu(e.stateNode.nextSibling):null;return!0}function pa(){aa=ra=null,sa=!1}function ha(){var e=ia;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),ia=null),e}function fa(e){null===ia?ia=[e]:ia.push(e)}var ga=F(null),xa=null,va=null;function ba(e,t,n){U(ga,t._currentValue),t._currentValue=n}function ya(e){e._currentValue=ga.current,B(ga)}function wa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ja(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){var o=a.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),wa(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),wa(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function Na(e,t,n,r){e=null;for(var a=t,s=!1;null!==a;){if(!s)if(0!==(524288&a.flags))s=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=a.type;Jn(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===V.current){if(null===(o=a.alternate))throw Error(i(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Yu):e=[Yu])}a=a.return}null!==e&&ja(t,e,n,r),t.flags|=262144}function ka(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sa(e){xa=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _a(e){return Ea(xa,e)}function Ca(e,t){return null===xa&&Sa(e),Ea(e,t)}function Ea(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===va){if(null===e)throw Error(i(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return n}var Ta="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Pa=r.unstable_scheduleCallback,La=r.unstable_NormalPriority,Aa={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oa(){return{controller:new Ta,data:new Map,refCount:0}}function Da(e){e.refCount--,0===e.refCount&&Pa(La,function(){e.controller.abort()})}var Ra=null,za=0,Ma=0,Ia=null;function Fa(){if(0===--za&&null!==Ra){null!==Ia&&(Ia.status="fulfilled");var e=Ra;Ra=null,Ma=0,Ia=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ba=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ra){var n=Ra=[];za=0,Ma=Td(),Ia={status:"pending",value:void 0,then:function(e){n.push(e)}}}za++,t.then(Fa,Fa)}(0,t),null!==Ba&&Ba(e,t)};var Ua=F(null);function Wa(){var e=Ua.current;return null!==e?e:rc.pooledCache}function Ha(e,t){U(Ua,null===t?Ua.current:t.pool)}function qa(){var e=Wa();return null===e?null:{parent:Aa._currentValue,pool:e}}var Va=Error(i(460)),Ka=Error(i(474)),Ga=Error(i(542)),Ya={then:function(){}};function Ja(e){return"fulfilled"===(e=e.status)||"rejected"===e}function $a(){}function Qa(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then($a,$a),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"===typeof t.status)t.then($a,$a);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw Xa=t,Va}}var Xa=null;function Za(){if(null===Xa)throw Error(i(459));var e=Xa;return Xa=null,e}function es(e){if(e===Va||e===Ga)throw Error(i(483))}var ts=!1;function ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function as(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Or(e),Ar(e,null,n),t}return Tr(e,r,t,n),Or(e)}function is(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function os(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ls=!1;function cs(){if(ls){if(null!==Ia)throw Ia}}function ds(e,t,n,r){ls=!1;var a=e.updateQueue;ts=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=a.baseState;for(i=0,d=c=l=null,o=s;;){var p=-536870913&o.lane,h=p!==o.lane;if(h?(sc&p)===p:(r&p)===p){0!==p&&p===Ma&&(ls=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,g=o;p=t;var x=n;switch(g.tag){case 1:if("function"===typeof(f=g.payload)){u=f.call(x,u,p);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=g.payload)?f.call(x,u,p):f)||void 0===p)break e;u=m({},u,p);break e;case 2:ts=!0}}null!==(p=o.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=a.callbacks)?a.callbacks=[p]:h.push(p))}else h={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=h,l=u):d=d.next=h,i|=p;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null===s&&(a.shared.lanes=0),pc|=i,e.lanes=i,e.memoizedState=u}}function us(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function ms(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)us(n[e],t)}var ps=F(null),hs=F(0);function fs(e,t){U(hs,e=uc),U(ps,t),uc=e|t.baseLanes}function gs(){U(hs,uc),U(ps,ps.current)}function xs(){uc=hs.current,B(ps),B(hs)}var vs=0,bs=null,ys=null,ws=null,js=!1,Ns=!1,ks=!1,Ss=0,_s=0,Cs=null,Es=0;function Ts(){throw Error(i(321))}function Ps(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function Ls(e,t,n,r,a,s){return vs=s,bs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Vi:Ki,ks=!1,s=n(r,a),ks=!1,Ns&&(s=Os(t,n,r,a)),As(e),s}function As(e){D.H=qi;var t=null!==ys&&null!==ys.next;if(vs=0,ws=ys=bs=null,js=!1,_s=0,Cs=null,t)throw Error(i(300));null===e||Co||null!==(e=e.dependencies)&&ka(e)&&(Co=!0)}function Os(e,t,n,r){bs=e;var a=0;do{if(Ns&&(Cs=null),_s=0,Ns=!1,25<=a)throw Error(i(301));if(a+=1,ws=ys=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}D.H=Gi,s=t(n,r)}while(Ns);return s}function Ds(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?Bs(t):t,e=e.useState()[0],(null!==ys?ys.memoizedState:null)!==e&&(bs.flags|=1024),t}function Rs(){var e=0!==Ss;return Ss=0,e}function zs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ms(e){if(js){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}js=!1}vs=0,ws=ys=bs=null,Ns=!1,_s=Ss=0,Cs=null}function Is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ws?bs.memoizedState=ws=e:ws=ws.next=e,ws}function Fs(){if(null===ys){var e=bs.alternate;e=null!==e?e.memoizedState:null}else e=ys.next;var t=null===ws?bs.memoizedState:ws.next;if(null!==t)ws=t,ys=e;else{if(null===e){if(null===bs.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(ys=e).memoizedState,baseState:ys.baseState,baseQueue:ys.baseQueue,queue:ys.queue,next:null},null===ws?bs.memoizedState=ws=e:ws=ws.next=e}return ws}function Bs(e){var t=_s;return _s+=1,null===Cs&&(Cs=[]),e=Qa(Cs,e,t),t=bs,null===(null===ws?t.memoizedState:ws.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Vi:Ki),e}function Us(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Bs(e);if(e.$$typeof===w)return _a(e)}throw Error(i(438,String(e)))}function Ws(e){var t=null,n=bs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=E;return t.index++,n}function Hs(e,t){return"function"===typeof t?t(e):t}function qs(e){return Vs(Fs(),ys,e)}function Vs(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,s=r.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}t.baseQueue=a=s,r.pending=null}if(s=e.baseState,null===a)e.memoizedState=s;else{var l=o=null,c=null,d=t=a.next,u=!1;do{var m=-536870913&d.lane;if(m!==d.lane?(sc&m)===m:(vs&m)===m){var p=d.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),m===Ma&&(u=!0);else{if((vs&p)===p){d=d.next,p===Ma&&(u=!0);continue}m={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=m,o=s):c=c.next=m,bs.lanes|=p,pc|=p}m=d.action,ks&&n(s,m),s=d.hasEagerState?d.eagerState:n(s,m)}else p={lane:m,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=p,o=s):c=c.next=p,bs.lanes|=m,pc|=m;d=d.next}while(null!==d&&d!==t);if(null===c?o=s:c.next=l,!Jn(s,e.memoizedState)&&(Co=!0,u&&null!==(n=Ia)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ks(e){var t=Fs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);Jn(s,t.memoizedState)||(Co=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Gs(e,t,n){var r=bs,a=Fs(),s=sa;if(s){if(void 0===n)throw Error(i(407));n=n()}else n=t();var o=!Jn((ys||a).memoizedState,n);if(o&&(a.memoizedState=n,Co=!0),a=a.queue,gi(2048,8,$s.bind(null,r,a,e),[e]),a.getSnapshot!==t||o||null!==ws&&1&ws.memoizedState.tag){if(r.flags|=2048,pi(9,{destroy:void 0,resource:void 0},Js.bind(null,r,a,n,t),null),null===rc)throw Error(i(349));s||0!==(124&vs)||Ys(r,t,n)}return n}function Ys(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Js(e,t,n,r){t.value=n,t.getSnapshot=r,Qs(t)&&Xs(e)}function $s(e,t,n){return n(function(){Qs(t)&&Xs(e)})}function Qs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function Xs(e){var t=Lr(e,2);null!==t&&zc(t,e,2)}function Zs(e){var t=Is();if("function"===typeof e){var n=e;if(e=n(),ks){me(!0);try{n()}finally{me(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t}function ei(e,t,n,r){return e.baseState=n,Vs(e,ys,"function"===typeof r?r:Hs)}function ti(e,t,n,r,a){if(Ui(e))throw Error(i(485));if(null!==(e=t.action)){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==D.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,ni(t,s)):(s.next=n.next,t.pending=n.next=s)}}function ni(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var s=D.T,i={};D.T=i;try{var o=n(a,r),l=D.S;null!==l&&l(i,o),ri(e,t,o)}catch(c){si(e,t,c)}finally{D.T=s}}else try{ri(e,t,s=n(a,r))}catch(d){si(e,t,d)}}function ri(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ai(e,t,n)},function(n){return si(e,t,n)}):ai(e,t,n)}function ai(e,t,n){t.status="fulfilled",t.value=n,ii(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ni(e,n)))}function si(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ii(t),t=t.next}while(t!==r)}e.action=null}function ii(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oi(e,t){return t}function li(e,t){if(sa){var n=rc.formState;if(null!==n){e:{var r=bs;if(sa){if(aa){t:{for(var a=aa,s=oa;8!==a.nodeType;){if(!s){a=null;break t}if(null===(a=xu(a.nextSibling))){a=null;break t}}a="F!"===(s=a.data)||"F"===s?a:null}if(a){aa=xu(a.nextSibling),r="F!"===a.data;break e}}ca(r)}r=!1}r&&(t=n[0])}}return(n=Is()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:t},n.queue=r,n=Ii.bind(null,bs,r),r.dispatch=n,r=Zs(!1),s=Bi.bind(null,bs,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=Is()).queue=a,n=ti.bind(null,bs,a,s,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function ci(e){return di(Fs(),ys,e)}function di(e,t,n){if(t=Vs(e,t,oi)[0],e=qs(Hs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Bs(t)}catch(i){if(i===Va)throw Ga;throw i}else r=t;var a=(t=Fs()).queue,s=a.dispatch;return n!==t.memoizedState&&(bs.flags|=2048,pi(9,{destroy:void 0,resource:void 0},ui.bind(null,a,n),null)),[r,s,e]}function ui(e,t){e.action=t}function mi(e){var t=Fs(),n=ys;if(null!==n)return di(t,n,e);Fs(),t=t.memoizedState;var r=(n=Fs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function pi(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function hi(){return Fs().memoizedState}function fi(e,t,n,r){var a=Is();r=void 0===r?null:r,bs.flags|=e,a.memoizedState=pi(1|t,{destroy:void 0,resource:void 0},n,r)}function gi(e,t,n,r){var a=Fs();r=void 0===r?null:r;var s=a.memoizedState.inst;null!==ys&&null!==r&&Ps(r,ys.memoizedState.deps)?a.memoizedState=pi(t,s,n,r):(bs.flags|=e,a.memoizedState=pi(1|t,s,n,r))}function xi(e,t){fi(8390656,8,e,t)}function vi(e,t){gi(2048,8,e,t)}function bi(e,t){return gi(4,2,e,t)}function yi(e,t){return gi(4,4,e,t)}function wi(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ji(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gi(4,4,wi.bind(null,t,e),n)}function Ni(){}function ki(e,t){var n=Fs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ps(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Si(e,t){var n=Fs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ps(t,r[1]))return r[0];if(r=e(),ks){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[r,t],r}function _i(e,t,n){return void 0===n||0!==(1073741824&vs)?e.memoizedState=t:(e.memoizedState=n,e=Rc(),bs.lanes|=e,pc|=e,n)}function Ci(e,t,n,r){return Jn(n,t)?n:null!==ps.current?(e=_i(e,n,r),Jn(e,t)||(Co=!0),e):0===(42&vs)?(Co=!0,e.memoizedState=n):(e=Rc(),bs.lanes|=e,pc|=e,t)}function Ei(e,t,n,r,a){var s=R.p;R.p=0!==s&&8>s?s:8;var i=D.T,o={};D.T=o,Bi(e,!1,t,n);try{var l=a(),c=D.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Fi(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Dc());else Fi(e,t,r,Dc())}catch(d){Fi(e,t,{then:function(){},status:"rejected",reason:d},Dc())}finally{R.p=s,D.T=i}}function Ti(){}function Pi(e,t,n,r){if(5!==e.tag)throw Error(i(476));var a=Li(e).queue;Ei(e,a,t,z,null===n?Ti:function(){return Ai(e),n(r)})}function Li(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:z},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ai(e){Fi(e,Li(e).next.queue,{},Dc())}function Oi(){return _a(Yu)}function Di(){return Fs().memoizedState}function Ri(){return Fs().memoizedState}function zi(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=ss(t,e=as(n),n);return null!==r&&(zc(r,t,n),is(r,t,n)),t={cache:Oa()},void(e.payload=t)}t=t.return}}function Mi(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ui(e)?Wi(t,n):null!==(n=Pr(e,t,n,r))&&(zc(n,e,r),Hi(n,t,r))}function Ii(e,t,n){Fi(e,t,n,Dc())}function Fi(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ui(e))Wi(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,Jn(o,i))return Tr(e,t,a,0),null===rc&&Er(),!1}catch(l){}if(null!==(n=Pr(e,t,a,r)))return zc(n,e,r),Hi(n,t,r),!0}return!1}function Bi(e,t,n,r){if(r={lane:2,revertLane:Td(),action:r,hasEagerState:!1,eagerState:null,next:null},Ui(e)){if(t)throw Error(i(479))}else null!==(t=Pr(e,n,r,2))&&zc(t,e,2)}function Ui(e){var t=e.alternate;return e===bs||null!==t&&t===bs}function Wi(e,t){Ns=js=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hi(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var qi={readContext:_a,use:Us,useCallback:Ts,useContext:Ts,useEffect:Ts,useImperativeHandle:Ts,useLayoutEffect:Ts,useInsertionEffect:Ts,useMemo:Ts,useReducer:Ts,useRef:Ts,useState:Ts,useDebugValue:Ts,useDeferredValue:Ts,useTransition:Ts,useSyncExternalStore:Ts,useId:Ts,useHostTransitionStatus:Ts,useFormState:Ts,useActionState:Ts,useOptimistic:Ts,useMemoCache:Ts,useCacheRefresh:Ts},Vi={readContext:_a,use:Us,useCallback:function(e,t){return Is().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:xi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,fi(4194308,4,wi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fi(4194308,4,e,t)},useInsertionEffect:function(e,t){fi(4,2,e,t)},useMemo:function(e,t){var n=Is();t=void 0===t?null:t;var r=e();if(ks){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Is();if(void 0!==n){var a=n(t);if(ks){me(!0);try{n(t)}finally{me(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=Mi.bind(null,bs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Is().memoizedState=e},useState:function(e){var t=(e=Zs(e)).queue,n=Ii.bind(null,bs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ni,useDeferredValue:function(e,t){return _i(Is(),e,t)},useTransition:function(){var e=Zs(!1);return e=Ei.bind(null,bs,e.queue,!0,!1),Is().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bs,a=Is();if(sa){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===rc)throw Error(i(349));0!==(124&sc)||Ys(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,xi($s.bind(null,r,s,e),[e]),r.flags|=2048,pi(9,{destroy:void 0,resource:void 0},Js.bind(null,r,s,n,t),null),n},useId:function(){var e=Is(),t=rc.identifierPrefix;if(sa){var n=Xr;t="\xab"+t+"R"+(n=(Qr&~(1<<32-pe(Qr)-1)).toString(32)+n),0<(n=Ss++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Es++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Oi,useFormState:li,useActionState:li,useOptimistic:function(e){var t=Is();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bi.bind(null,bs,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ws,useCacheRefresh:function(){return Is().memoizedState=zi.bind(null,bs)}},Ki={readContext:_a,use:Us,useCallback:ki,useContext:_a,useEffect:vi,useImperativeHandle:ji,useInsertionEffect:bi,useLayoutEffect:yi,useMemo:Si,useReducer:qs,useRef:hi,useState:function(){return qs(Hs)},useDebugValue:Ni,useDeferredValue:function(e,t){return Ci(Fs(),ys.memoizedState,e,t)},useTransition:function(){var e=qs(Hs)[0],t=Fs().memoizedState;return["boolean"===typeof e?e:Bs(e),t]},useSyncExternalStore:Gs,useId:Di,useHostTransitionStatus:Oi,useFormState:ci,useActionState:ci,useOptimistic:function(e,t){return ei(Fs(),0,e,t)},useMemoCache:Ws,useCacheRefresh:Ri},Gi={readContext:_a,use:Us,useCallback:ki,useContext:_a,useEffect:vi,useImperativeHandle:ji,useInsertionEffect:bi,useLayoutEffect:yi,useMemo:Si,useReducer:Ks,useRef:hi,useState:function(){return Ks(Hs)},useDebugValue:Ni,useDeferredValue:function(e,t){var n=Fs();return null===ys?_i(n,e,t):Ci(n,ys.memoizedState,e,t)},useTransition:function(){var e=Ks(Hs)[0],t=Fs().memoizedState;return["boolean"===typeof e?e:Bs(e),t]},useSyncExternalStore:Gs,useId:Di,useHostTransitionStatus:Oi,useFormState:mi,useActionState:mi,useOptimistic:function(e,t){var n=Fs();return null!==ys?ei(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ws,useCacheRefresh:Ri},Yi=null,Ji=0;function $i(e){var t=Ji;return Ji+=1,null===Yi&&(Yi=[]),Qa(Yi,e,t)}function Qi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Xi(e,t){if(t.$$typeof===p)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zi(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Ir(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===g?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===_&&Zi(s)===t.type)?(Qi(t=a(t,n.props),n),t.return=e,t):(Qi(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=Ur(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case h:return Qi(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Hr(t,e.mode,n)).return=e,t;case _:return m(e,t=(0,t._init)(t._payload),n)}if(O(t)||P(t))return(t=Ur(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,$i(t),n);if(t.$$typeof===w)return m(e,Ca(e,t),n);Xi(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===a?c(e,t,n,r):null;case f:return n.key===a?d(e,t,n,r):null;case _:return p(e,t,n=(a=n._init)(n._payload),r)}if(O(n)||P(n))return null!==a?null:u(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,$i(n),r);if(n.$$typeof===w)return p(e,t,Ca(e,n),r);Xi(e,n)}return null}function x(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case h:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case f:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case _:return x(e,t,n,r=(0,r._init)(r._payload),a)}if(O(r)||P(r))return u(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return x(e,t,n,$i(r),a);if(r.$$typeof===w)return x(e,t,n,Ca(t,r),a);Xi(t,r)}return null}function v(l,c,d,u){if("object"===typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case h:e:{for(var b=d.key;null!==c;){if(c.key===b){if((b=d.type)===g){if(7===c.tag){n(l,c.sibling),(u=a(c,d.props.children)).return=l,l=u;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===_&&Zi(b)===c.type){n(l,c.sibling),Qi(u=a(c,d.props),d),u.return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}d.type===g?((u=Ur(d.props.children,l.mode,u,d.key)).return=l,l=u):(Qi(u=Br(d.type,d.key,d.props,null,l.mode,u),d),u.return=l,l=u)}return o(l);case f:e:{for(b=d.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(l,c.sibling),(u=a(c,d.children||[])).return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}(u=Hr(d,l.mode,u)).return=l,l=u}return o(l);case _:return v(l,c,d=(b=d._init)(d._payload),u)}if(O(d))return function(a,i,o,l){for(var c=null,d=null,u=i,h=i=0,f=null;null!==u&&h<o.length;h++){u.index>h?(f=u,u=null):f=u.sibling;var g=p(a,u,o[h],l);if(null===g){null===u&&(u=f);break}e&&u&&null===g.alternate&&t(a,u),i=s(g,i,h),null===d?c=g:d.sibling=g,d=g,u=f}if(h===o.length)return n(a,u),sa&&Zr(a,h),c;if(null===u){for(;h<o.length;h++)null!==(u=m(a,o[h],l))&&(i=s(u,i,h),null===d?c=u:d.sibling=u,d=u);return sa&&Zr(a,h),c}for(u=r(u);h<o.length;h++)null!==(f=x(u,a,h,o[h],l))&&(e&&null!==f.alternate&&u.delete(null===f.key?h:f.key),i=s(f,i,h),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach(function(e){return t(a,e)}),sa&&Zr(a,h),c}(l,c,d,u);if(P(d)){if("function"!==typeof(b=P(d)))throw Error(i(150));return function(a,o,l,c){if(null==l)throw Error(i(151));for(var d=null,u=null,h=o,f=o=0,g=null,v=l.next();null!==h&&!v.done;f++,v=l.next()){h.index>f?(g=h,h=null):g=h.sibling;var b=p(a,h,v.value,c);if(null===b){null===h&&(h=g);break}e&&h&&null===b.alternate&&t(a,h),o=s(b,o,f),null===u?d=b:u.sibling=b,u=b,h=g}if(v.done)return n(a,h),sa&&Zr(a,f),d;if(null===h){for(;!v.done;f++,v=l.next())null!==(v=m(a,v.value,c))&&(o=s(v,o,f),null===u?d=v:u.sibling=v,u=v);return sa&&Zr(a,f),d}for(h=r(h);!v.done;f++,v=l.next())null!==(v=x(h,a,f,v.value,c))&&(e&&null!==v.alternate&&h.delete(null===v.key?f:v.key),o=s(v,o,f),null===u?d=v:u.sibling=v,u=v);return e&&h.forEach(function(e){return t(a,e)}),sa&&Zr(a,f),d}(l,c,d=b.call(d),u)}if("function"===typeof d.then)return v(l,c,$i(d),u);if(d.$$typeof===w)return v(l,c,Ca(l,d),u);Xi(l,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(n(l,c.sibling),(u=a(c,d)).return=l,l=u):(n(l,c),(u=Wr(d,l.mode,u)).return=l,l=u),o(l)):n(l,c)}return function(e,t,n,r){try{Ji=0;var a=v(e,t,n,r);return Yi=null,a}catch(i){if(i===Va||i===Ga)throw i;var s=zr(29,i,null,e.mode);return s.lanes=r,s.return=e,s}}}var to=eo(!0),no=eo(!1),ro=F(null),ao=null;function so(e){var t=e.alternate;U(co,1&co.current),U(ro,e),null===ao&&(null===t||null!==ps.current||null!==t.memoizedState)&&(ao=e)}function io(e){if(22===e.tag){if(U(co,co.current),U(ro,e),null===ao){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ao=e)}}else oo()}function oo(){U(co,co.current),U(ro,ro.current)}function lo(e){B(ro),ao===e&&(ao=null),B(co)}var co=F(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gu(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function mo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:m({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),a=as(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ss(e,a,r))&&(zc(t,e,r),is(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),a=as(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ss(e,a,r))&&(zc(t,e,r),is(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=as(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ss(e,r,n))&&(zc(t,e,n),is(t,e,n))}};function ho(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,r)||!$n(a,s))}function fo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=m({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var xo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){xo(e)}function bo(e){console.error(e)}function yo(e){xo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function jo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function No(e,t,n){return(n=as(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function ko(e){return(e=as(e)).tag=3,e}function So(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var s=r.value;e.payload=function(){return a(s)},e.callback=function(){jo(t,n,r)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){jo(t,n,r),"function"!==typeof a&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var _o=Error(i(461)),Co=!1;function Eo(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function To(e,t,n,r,a){n=n.render;var s=t.ref;if("ref"in r){var i={};for(var o in r)"ref"!==o&&(i[o]=r[o])}else i=r;return Sa(t),r=Ls(e,t,n,i,s,a),o=Rs(),null===e||Co?(sa&&o&&ta(t),t.flags|=1,Eo(e,t,r,a),t.child):(zs(e,t,a),Jo(e,t,a))}function Po(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Mr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Lo(e,t,s,r,a))}if(s=e.child,!$o(e,a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(i,r)&&e.ref===t.ref)return Jo(e,t,a)}return t.flags|=1,(e=Ir(s,r)).ref=t.ref,e.return=t,t.child=e}function Lo(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if($n(s,r)&&e.ref===t.ref){if(Co=!1,t.pendingProps=r=s,!$o(e,a))return t.lanes=e.lanes,Jo(e,t,a);0!==(131072&e.flags)&&(Co=!0)}}return Ro(e,t,n,r,a)}function Ao(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(a=t.child=e.child,s=0;null!==a;)s=s|a.lanes|a.childLanes,a=a.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Oo(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Oo(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ha(0,null!==s?s.cachePool:null),null!==s?fs(t,s):gs(),io(t)}else null!==s?(Ha(0,s.cachePool),fs(t,s),oo(),t.memoizedState=null):(null!==e&&Ha(0,null),gs(),oo());return Eo(e,t,a,n),t.child}function Oo(e,t,n,r){var a=Wa();return a=null===a?null:{parent:Aa._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Ha(0,null),gs(),io(t),null!==e&&Na(e,t,r,!0),null}function Do(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ro(e,t,n,r,a){return Sa(t),n=Ls(e,t,n,r,void 0,a),r=Rs(),null===e||Co?(sa&&r&&ta(t),t.flags|=1,Eo(e,t,n,a),t.child):(zs(e,t,a),Jo(e,t,a))}function zo(e,t,n,r,a,s){return Sa(t),t.updateQueue=null,n=Os(t,r,n,a),As(e),r=Rs(),null===e||Co?(sa&&r&&ta(t),t.flags|=1,Eo(e,t,n,s),t.child):(zs(e,t,s),Jo(e,t,s))}function Mo(e,t,n,r,a){if(Sa(t),null===t.stateNode){var s=Dr,i=n.contextType;"object"===typeof i&&null!==i&&(s=_a(i)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=po,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ns(t),i=n.contextType,s.context="object"===typeof i&&null!==i?_a(i):Dr,s.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(mo(t,n,i,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(i=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&po.enqueueReplaceState(s,s.state,null),ds(t,r,s,a),cs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=go(n,o);s.props=l;var c=s.context,d=n.contextType;i=Dr,"object"===typeof d&&null!==d&&(i=_a(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==i)&&fo(t,s,r,i),ts=!1;var m=t.memoizedState;s.state=m,ds(t,r,s,a),cs(),c=t.memoizedState,o||m!==c||ts?("function"===typeof u&&(mo(t,n,u,r),c=t.memoizedState),(l=ts||ho(t,n,l,r,m,c,i))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=i,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,rs(e,t),d=go(n,i=t.memoizedProps),s.props=d,u=t.pendingProps,m=s.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=_a(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==u||m!==l)&&fo(t,s,r,l),ts=!1,m=t.memoizedState,s.state=m,ds(t,r,s,a),cs();var p=t.memoizedState;i!==u||m!==p||ts||null!==e&&null!==e.dependencies&&ka(e.dependencies)?("function"===typeof o&&(mo(t,n,o,r),p=t.memoizedState),(d=ts||ho(t,n,d,r,m,p,l)||null!==e&&null!==e.dependencies&&ka(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=d):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Do(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,a),t.child=to(t,null,n,a)):Eo(e,t,n,a),t.memoizedState=s.state,e=t.child):e=Jo(e,t,a),e}function Io(e,t,n,r){return pa(),t.flags|=256,Eo(e,t,n,r),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bo(e){return{baseLanes:e,cachePool:qa()}}function Uo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Wo(e,t,n){var r,a=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(sa){if(s?so(t):oo(),sa){var l,c=aa;if(l=c){e:{for(l=c,c=oa;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=xu(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==$r?{id:Qr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},(l=zr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ra=t,aa=null,l=!0):l=!1}l||ca(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gu(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=a.children,a=a.fallback,s?(oo(),c=qo({mode:"hidden",children:c},s=t.mode),a=Ur(a,s,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(s=t.child).memoizedState=Bo(n),s.childLanes=Uo(e,r,n),t.memoizedState=Fo,a):(so(t),Ho(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(so(t),t.flags&=-257,t=Vo(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),s=a.fallback,c=t.mode,a=qo({mode:"visible",children:a.children},c),(s=Ur(s,c,n,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,to(t,e.child,null,n),(a=t.child).memoizedState=Bo(n),a.childLanes=Uo(e,r,n),t.memoizedState=Fo,t=s);else if(so(t),gu(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var d=r.dgst;r=d,(a=Error(i(419))).stack="",a.digest=r,fa({value:a,source:null,stack:null}),t=Vo(e,t,n)}else if(Co||Na(e,t,n,!1),r=0!==(n&e.childLanes),Co||r){if(null!==(r=rc)&&(0!==(a=0!==((a=0!==(42&(a=n&-n))?1:Ee(a))&(r.suspendedLanes|n))?0:a)&&a!==l.retryLane))throw l.retryLane=a,Lr(e,a),zc(r,e,a),_o;"$?"===c.data||Gc(),t=Vo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,aa=xu(c.nextSibling),ra=t,sa=!0,ia=null,oa=!1,null!==e&&(Yr[Jr++]=Qr,Yr[Jr++]=Xr,Yr[Jr++]=$r,Qr=e.id,Xr=e.overflow,$r=t),(t=Ho(t,a.children)).flags|=4096);return t}return s?(oo(),s=a.fallback,c=t.mode,d=(l=e.child).sibling,(a=Ir(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==d?s=Ir(d,s):(s=Ur(s,c,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,null===(c=e.child.memoizedState)?c=Bo(n):(null!==(l=c.cachePool)?(d=Aa._currentValue,l=l.parent!==d?{parent:d,pool:d}:l):l=qa(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=Uo(e,r,n),t.memoizedState=Fo,a):(so(t),e=(n=e.child).sibling,(n=Ir(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ho(e,t){return(t=qo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qo(e,t){return(e=zr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Vo(e,t,n){return to(t,e.child,null,n),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wa(e.return,t,n)}function Go(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Yo(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(Eo(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,n,t);else if(19===e.tag)Ko(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(U(co,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Go(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===uo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Go(t,!0,n,null,s);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Na(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ir(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ir(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $o(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ka(e))}function Qo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Co=!0;else{if(!$o(e,n)&&0===(128&t.flags))return Co=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),ba(0,Aa,e.memoizedState.cache),pa();break;case 27:case 5:Y(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:ba(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(so(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Wo(e,t,n):(so(t),null!==(e=Jo(e,t,n))?e.sibling:null);so(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Na(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return Yo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),U(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Ao(e,t,n);case 24:ba(0,Aa,e.memoizedState.cache)}return Jo(e,t,n)}(e,t,n);Co=0!==(131072&e.flags)}else Co=!1,sa&&0!==(1048576&t.flags)&&ea(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((a=r.$$typeof)===j){t.tag=11,t=To(null,t,r,e,n);break e}if(a===S){t.tag=14,t=Po(null,t,r,e,n);break e}}throw t=A(r)||r,Error(i(306,t,""))}Mr(r)?(e=go(r,e),t.tag=1,t=Mo(null,t,r,e,n)):(t.tag=0,t=Ro(null,t,r,e,n))}return t;case 0:return Ro(e,t,t.type,t.pendingProps,n);case 1:return Mo(e,t,r=t.type,a=go(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var s=t.memoizedState;a=s.element,rs(e,t),ds(t,r,null,n);var o=t.memoizedState;if(r=o.cache,ba(0,Aa,r),r!==s.cache&&ja(t,[Aa],n,!0),cs(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Io(e,t,r,n);break e}if(r!==a){fa(a=kr(Error(i(424)),t)),t=Io(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=xu(e.firstChild),ra=t,sa=!0,ia=null,oa=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===a){t=Jo(e,t,n);break e}Eo(e,t,r,n)}t=t.child}return t;case 26:return Do(e,t),null===e?(n=Eu(t.type,null,t.pendingProps,null))?t.memoizedState=n:sa||(n=t.type,e=t.pendingProps,(r=ru(q.current).createElement(n))[Ae]=t,r[Oe]=e,eu(r,n,e),Ve(r),t.stateNode=r):t.memoizedState=Eu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&sa&&(r=t.stateNode=yu(t.type,t.pendingProps,q.current),ra=t,oa=!0,a=aa,pu(t.type)?(vu=a,aa=xu(r.firstChild)):aa=a),Eo(e,t,t.pendingProps.children,n),Do(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&sa&&((a=r=aa)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===s)return e}if(null===(e=xu(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oa))?(t.stateNode=r,ra=t,aa=xu(r.firstChild),oa=!1,a=!0):a=!1),a||ca(t)),Y(t),a=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,iu(a,s)?r=null:null!==o&&iu(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=Ls(e,t,Ds,null,null,n),Yu._currentValue=a),Do(e,t),Eo(e,t,r,n),t.child;case 6:return null===e&&sa&&((e=n=aa)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=xu(e.nextSibling)))return null}return e}(n,t.pendingProps,oa))?(t.stateNode=n,ra=t,aa=null,e=!0):e=!1),e||ca(t)),null;case 13:return Wo(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):Eo(e,t,r,n),t.child;case 11:return To(e,t,t.type,t.pendingProps,n);case 7:return Eo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Eo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ba(0,t.type,r.value),Eo(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Sa(t),r=r(a=_a(a)),t.flags|=1,Eo(e,t,r,n),t.child;case 14:return Po(e,t,t.type,t.pendingProps,n);case 15:return Lo(e,t,t.type,t.pendingProps,n);case 19:return Yo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=qo(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Ir(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ao(e,t,n);case 24:return Sa(t),r=_a(Aa),null===e?(null===(a=Wa())&&(a=rc,s=Oa(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:r,cache:a},ns(t),ba(0,Aa,a)):(0!==(e.lanes&n)&&(rs(e,t),ds(t,null,null,n),cs()),a=e.memoizedState,s=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ba(0,Aa,r)):(r=s.cache,ba(0,Aa,r),r!==a.cache&&ja(t,[Aa],n,!0))),Eo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Xo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Uu(t)){if(null!==(t=ro.current)&&((4194048&sc)===sc?null!==ao:(62914560&sc)!==sc&&0===(536870912&sc)||t!==ao))throw Xa=Ya,Ka;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,xc|=t)}function tl(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ya(Aa),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ma(t)?Xo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ha())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Xo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Xo(t),nl(t),t.flags&=-16777217),null;case 27:J(t),n=q.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return nl(t),null}e=W.current,ma(t)?da(t):(e=yu(a,r,n),t.stateNode=e,Xo(t))}return nl(t),null;case 5:if(J(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return nl(t),null}if(e=W.current,ma(t))da(t);else{switch(a=ru(q.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Ae]=t,e[Oe]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(eu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=q.current,ma(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ra))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Ae]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||$d(e.nodeValue,n)))||ca(t)}else(e=ru(e).createTextNode(r))[Ae]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ma(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[Ae]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),a=!1}else a=ha(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&Bd(t.stateNode.containerInfo),nl(t),null;case 10:return ya(t.type),nl(t),null;case 19:if(B(co),null===(a=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(s=a.rendering))if(r)tl(a,!1);else{if(0!==mc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=uo(e))){for(t.flags|=128,tl(a,!1),e=s.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fr(n,e),n=n.sibling;return U(co,1&co.current|2),t.child}e=e.sibling}null!==a.tail&&te()>jc&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!sa)return nl(t),null}else 2*te()-a.renderingStartTime>jc&&536870912!==n&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=a.last)?e.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=co.current,U(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),xs(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(Ua),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ya(Aa),nl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function al(e,t){switch(na(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ya(Aa),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(co),null;case 4:return G(),null;case 10:return ya(t.type),null;case 22:case 23:return lo(t),xs(),null!==e&&B(Ua),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ya(Aa),null;default:return null}}function sl(e,t){switch(na(t),t.tag){case 3:ya(Aa),G();break;case 26:case 27:case 5:J(t);break;case 4:G();break;case 13:lo(t);break;case 19:B(co);break;case 10:ya(t.type);break;case 22:case 23:lo(t),xs(),null!==e&&B(Ua);break;case 24:ya(Aa)}}function il(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var s=n.create,i=n.inst;r=s(),i.destroy=r}n=n.next}while(n!==a)}}catch(o){dd(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var s=a.next;r=s;do{if((r.tag&e)===e){var i=r.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,a=t;var l=n,c=o;try{c()}catch(d){dd(a,l,d)}}}r=r.next}while(r!==s)}}catch(d){dd(t,t.return,d)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ms(t,n)}catch(r){dd(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){dd(e,t,r)}}function dl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){dd(e,t,a)}}function ul(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){dd(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){dd(e,t,s)}else n.current=null}function ml(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){dd(e,e.return,a)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,o=null,l=null,c=null,d=null,u=null;for(h in n){var m=n[h];if(n.hasOwnProperty(h)&&null!=m)switch(h){case"checked":case"value":break;case"defaultValue":c=m;default:r.hasOwnProperty(h)||Xd(e,t,h,null,r,m)}}for(var p in r){var h=r[p];if(m=n[p],r.hasOwnProperty(p)&&(null!=h||null!=m))switch(p){case"type":s=h;break;case"name":a=h;break;case"checked":d=h;break;case"defaultChecked":u=h;break;case"value":o=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(i(137,t));break;default:h!==m&&Xd(e,t,p,h,r,m)}}return void gt(e,o,l,c,d,u,s,a);case"select":for(s in h=o=l=p=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":h=c;default:r.hasOwnProperty(s)||Xd(e,t,s,null,r,c)}for(a in r)if(s=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=s||null!=c))switch(a){case"value":p=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&Xd(e,t,a,s,r,c)}return t=l,n=o,r=h,void(null!=p?bt(e,!!n,p,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in h=p=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xd(e,t,l,null,r,a)}for(o in r)if(a=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=a||null!=s))switch(o){case"value":p=a;break;case"defaultValue":h=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(i(91));break;default:a!==s&&Xd(e,t,o,a,r,s)}return void yt(e,p,h);case"option":for(var f in n)if(p=n[f],n.hasOwnProperty(f)&&null!=p&&!r.hasOwnProperty(f))if("selected"===f)e.selected=!1;else Xd(e,t,f,null,r,p);for(c in r)if(p=r[c],h=n[c],r.hasOwnProperty(c)&&p!==h&&(null!=p||null!=h))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Xd(e,t,c,p,r,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Xd(e,t,g,null,r,p);for(d in r)if(p=r[d],h=n[d],r.hasOwnProperty(d)&&p!==h&&(null!=p||null!=h))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:Xd(e,t,d,p,r,h)}return;default:if(_t(t)){for(var x in n)p=n[x],n.hasOwnProperty(x)&&void 0!==p&&!r.hasOwnProperty(x)&&Zd(e,t,x,void 0,r,p);for(u in r)p=r[u],h=n[u],!r.hasOwnProperty(u)||p===h||void 0===p&&void 0===h||Zd(e,t,u,p,r,h);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!r.hasOwnProperty(v)&&Xd(e,t,v,null,r,p);for(m in r)p=r[m],h=n[m],!r.hasOwnProperty(m)||p===h||null==p&&null==h||Xd(e,t,m,p,r,h)}(r,e.type,n,t),r[Oe]=t}catch(a){dd(e,e.return,a)}}function hl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pu(e.type)||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||hl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qd));else if(4!==r&&(27===r&&pu(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function xl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pu(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(xl(e,t,n),e=e.sibling;null!==e;)xl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);eu(t,r,n),t[Ae]=e,t[Oe]=n}catch(s){dd(e,e.return,s)}}var bl=!1,yl=!1,wl=!1,jl="function"===typeof WeakSet?WeakSet:Set,Nl=null;function kl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ml(e,n),4&r&&il(5,n);break;case 1:if(Ml(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){dd(n,n.return,i)}else{var a=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){dd(n,n.return,o)}}64&r&&ll(n),512&r&&dl(n,n.return);break;case 3:if(Ml(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ms(e,t)}catch(i){dd(n,n.return,i)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Ml(e,n),null===t&&4&r&&ml(n),512&r&&dl(n,n.return);break;case 12:Ml(e,n);break;case 13:Ml(e,n),4&r&&Pl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=hd.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||yl,a=bl;var s=yl;bl=r,(yl=t)&&!s?Fl(e,n,0!==(8772&n.subtreeFlags)):Ml(e,n),bl=a,yl=s}break;case 30:break;default:Ml(e,n)}}function Sl(e){var t=e.alternate;null!==t&&(e.alternate=null,Sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _l=null,Cl=!1;function El(e,t,n){for(n=n.child;null!==n;)Tl(e,t,n),n=n.sibling}function Tl(e,t,n){if(ue&&"function"===typeof ue.onCommitFiberUnmount)try{ue.onCommitFiberUnmount(de,n)}catch(s){}switch(n.tag){case 26:yl||ul(n,t),El(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:yl||ul(n,t);var r=_l,a=Cl;pu(n.type)&&(_l=n.stateNode,Cl=!1),El(e,t,n),wu(n.stateNode),_l=r,Cl=a;break;case 5:yl||ul(n,t);case 6:if(r=_l,a=Cl,_l=null,El(e,t,n),Cl=a,null!==(_l=r))if(Cl)try{(9===_l.nodeType?_l.body:"HTML"===_l.nodeName?_l.ownerDocument.body:_l).removeChild(n.stateNode)}catch(i){dd(n,t,i)}else try{_l.removeChild(n.stateNode)}catch(i){dd(n,t,i)}break;case 18:null!==_l&&(Cl?(hu(9===(e=_l).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Cm(e)):hu(_l,n.stateNode));break;case 4:r=_l,a=Cl,_l=n.stateNode.containerInfo,Cl=!0,El(e,t,n),_l=r,Cl=a;break;case 0:case 11:case 14:case 15:yl||ol(2,n,t),yl||ol(4,n,t),El(e,t,n);break;case 1:yl||(ul(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),El(e,t,n);break;case 21:El(e,t,n);break;case 22:yl=(r=yl)||null!==n.memoizedState,El(e,t,n),yl=r;break;default:El(e,t,n)}}function Pl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Cm(e)}catch(n){dd(t,t.return,n)}}function Ll(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new jl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new jl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){var r=fd.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Al(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(pu(l.type)){_l=l.stateNode,Cl=!1;break e}break;case 5:_l=l.stateNode,Cl=!1;break e;case 3:case 4:_l=l.stateNode.containerInfo,Cl=!0;break e}l=l.return}if(null===_l)throw Error(i(160));Tl(s,o,a),_l=null,Cl=!1,null!==(s=a.alternate)&&(s.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Ol=null;function Dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Al(t,e),Rl(e),4&r&&(ol(3,e,e.return),il(3,e),ol(5,e,e.return));break;case 1:Al(t,e),Rl(e),512&r&&(yl||null===n||ul(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Ol;if(Al(t,e),Rl(e),512&r&&(yl||null===n||ul(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(s=a.getElementsByTagName("title")[0])||s[Fe]||s[Ae]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=a.createElement(r),a.head.insertBefore(s,a.querySelector("head > title"))),eu(s,r,n),s[Ae]=e,Ve(s),r=s;break e;case"link":var o=Fu("link","href",a).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}eu(s=a.createElement(r),r,n),a.head.appendChild(s);break;case"meta":if(o=Fu("meta","content",a).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}eu(s=a.createElement(r),r,n),a.head.appendChild(s);break;default:throw Error(i(468,r))}s[Ae]=e,Ve(s),r=s}e.stateNode=r}else Bu(a,e.type,e.stateNode);else e.stateNode=Du(a,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?Bu(a,e.type,e.stateNode):Du(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Al(t,e),Rl(e),512&r&&(yl||null===n||ul(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Al(t,e),Rl(e),512&r&&(yl||null===n||ul(n,n.return)),32&e.flags){a=e.stateNode;try{jt(a,"")}catch(h){dd(e,e.return,h)}}4&r&&null!=e.stateNode&&pl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(wl=!0);break;case 6:if(Al(t,e),Rl(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(h){dd(e,e.return,h)}}break;case 3:if(Iu=null,a=Ol,Ol=ku(t.containerInfo),Al(t,e),Ol=a,Rl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Cm(t.containerInfo)}catch(h){dd(e,e.return,h)}wl&&(wl=!1,zl(e));break;case 4:r=Ol,Ol=ku(e.stateNode.containerInfo),Al(t,e),Rl(e),Ol=r;break;case 12:default:Al(t,e),Rl(e);break;case 13:Al(t,e),Rl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ll(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=bl,u=yl;if(bl=d||a,yl=u||c,Al(t,e),yl=u,bl=d,Rl(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||bl||yl||Il(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,a)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var m=c.memoizedProps.style,p=void 0!==m&&null!==m&&m.hasOwnProperty("display")?m.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(h){dd(c,c.return,h)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(h){dd(c,c.return,h)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Ll(e,n))));break;case 19:Al(t,e),Rl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ll(e,r)));case 30:case 21:}}function Rl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(hl(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;xl(e,fl(e),a);break;case 5:var s=n.stateNode;32&n.flags&&(jt(s,""),n.flags&=-33),xl(e,fl(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,fl(e),o);break;default:throw Error(i(161))}}catch(l){dd(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function zl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;zl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ml(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function Il(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Il(t);break;case 1:ul(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Il(t);break;case 27:wu(t.stateNode);case 26:case 5:ul(t,t.return),Il(t);break;case 22:null===t.memoizedState&&Il(t);break;default:Il(t)}e=e.sibling}}function Fl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Fl(a,s,n),il(4,s);break;case 1:if(Fl(a,s,n),"function"===typeof(a=(r=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){dd(r,r.return,c)}if(null!==(a=(r=s).updateQueue)){var o=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)us(l[a],o)}catch(c){dd(r,r.return,c)}}n&&64&i&&ll(s),dl(s,s.return);break;case 27:vl(s);case 26:case 5:Fl(a,s,n),n&&null===r&&4&i&&ml(s),dl(s,s.return);break;case 12:Fl(a,s,n);break;case 13:Fl(a,s,n),n&&4&i&&Pl(a,s);break;case 22:null===s.memoizedState&&Fl(a,s,n),dl(s,s.return);break;case 30:break;default:Fl(a,s,n)}t=t.sibling}}function Bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Da(n))}function Ul(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e))}function Wl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,n,r),t=t.sibling}function Hl(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Wl(e,t,n,r),2048&a&&il(9,t);break;case 1:case 13:default:Wl(e,t,n,r);break;case 3:Wl(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e)));break;case 12:if(2048&a){Wl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,o=s.onPostCommit;"function"===typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){dd(t,t.return,l)}}else Wl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?Wl(e,t,n,r):Vl(e,t):2&s._visibility?Wl(e,t,n,r):(s._visibility|=2,ql(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&a&&Bl(i,t);break;case 24:Wl(e,t,n,r),2048&a&&Ul(t.alternate,t)}}function ql(e,t,n,r,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,i=t,o=n,l=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:ql(s,i,o,l,a),il(8,i);break;case 23:break;case 22:var d=i.stateNode;null!==i.memoizedState?2&d._visibility?ql(s,i,o,l,a):Vl(s,i):(d._visibility|=2,ql(s,i,o,l,a)),a&&2048&c&&Bl(i.alternate,i);break;case 24:ql(s,i,o,l,a),a&&2048&c&&Ul(i.alternate,i);break;default:ql(s,i,o,l,a)}t=t.sibling}}function Vl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Vl(n,r),2048&a&&Bl(r.alternate,r);break;case 24:Vl(n,r),2048&a&&Ul(r.alternate,r);break;default:Vl(n,r)}t=t.sibling}}var Kl=8192;function Gl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 26:Gl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Wu)throw Error(i(475));var r=Wu;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Tu(n.href),s=e.querySelector(Pu(a));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=qu.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void Ve(s);s=e.ownerDocument||e,n=Lu(n),(a=ju.get(a))&&zu(n,a),Ve(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),eu(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=qu.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ol,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Ol;Ol=ku(e.stateNode.containerInfo),Gl(e),Ol=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Gl(e),Kl=t):Gl(e))}}function Jl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function $l(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Nl=r,Zl(r,e)}Jl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 0:case 11:case 15:$l(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:$l(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):$l(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Nl=r,Zl(r,e)}Jl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Zl(e,t){for(;null!==Nl;){var n=Nl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Da(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Nl=r;else e:for(n=e;null!==Nl;){var a=(r=Nl).sibling,s=r.return;if(Sl(r),r===n){Nl=null;break e}if(null!==a){a.return=s,Nl=a;break e}Nl=s}}}var ec={getCacheForType:function(e){var t=_a(Aa),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ac=null,sc=0,ic=0,oc=null,lc=!1,cc=!1,dc=!1,uc=0,mc=0,pc=0,hc=0,fc=0,gc=0,xc=0,vc=null,bc=null,yc=!1,wc=0,jc=1/0,Nc=null,kc=null,Sc=0,_c=null,Cc=null,Ec=0,Tc=0,Pc=null,Lc=null,Ac=0,Oc=null;function Dc(){if(0!==(2&nc)&&0!==sc)return sc&-sc;if(null!==D.T){return 0!==Ma?Ma:Td()}return Pe()}function Rc(){0===gc&&(gc=0===(536870912&sc)||sa?je():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function zc(e,t,n){(e!==rc||2!==ic&&9!==ic)&&null===e.cancelPendingCommit||(Hc(e,0),Bc(e,sc,gc,!1)),Se(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(hc|=n),4===mc&&Bc(e,sc,gc,!1)),jd(e))}function Mc(e,t,n){if(0!==(6&nc))throw Error(i(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||ye(e,t),a=r?function(e,t){var n=nc;nc|=2;var r=Vc(),a=Kc();rc!==e||sc!==t?(Nc=null,jc=te()+500,Hc(e,t)):cc=ye(e,t);e:for(;;)try{if(0!==ic&&null!==ac){t=ac;var s=oc;t:switch(ic){case 1:ic=0,oc=null,Zc(e,t,s,1);break;case 2:case 9:if(Ja(s)){ic=0,oc=null,Xc(t);break}t=function(){2!==ic&&9!==ic||rc!==e||(ic=7),jd(e)},s.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:Ja(s)?(ic=0,oc=null,Xc(t)):(ic=0,oc=null,Zc(e,t,s,7));break;case 5:var o=null;switch(ac.tag){case 26:o=ac.memoizedState;case 5:case 27:var l=ac;if(!o||Uu(o)){ic=0,oc=null;var c=l.sibling;if(null!==c)ac=c;else{var d=l.return;null!==d?(ac=d,ed(d)):ac=null}break t}}ic=0,oc=null,Zc(e,t,s,5);break;case 6:ic=0,oc=null,Zc(e,t,s,6);break;case 8:Wc(),mc=6;break e;default:throw Error(i(462))}}$c();break}catch(u){qc(e,u)}return va=xa=null,D.H=r,D.A=a,nc=n,null!==ac?0:(rc=null,sc=0,Er(),mc)}(e,t):Yc(e,t,!0),s=r;;){if(0===a){cc&&!r&&Bc(e,t,0,!1);break}if(n=e.current.alternate,!s||Fc(n)){if(2===a){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,o).flags|=256),2!==(o=Yc(l,o,!1))){if(dc&&!c){l.errorRecoveryDisabledLanes|=s,hc|=s,a=4;break e}s=bc,bc=a,null!==s&&(null===bc?bc=s:bc.push.apply(bc,s))}a=o}if(s=!1,2!==a)continue}}if(1===a){Hc(e,0),Bc(e,t,0,!0);break}e:{switch(r=e,s=a){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Bc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(a=wc+300-te())){if(Bc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=lu(Ic.bind(null,r,n,bc,Nc,yc,t,gc,hc,xc,lc,s,2,-0,0),a)}else Ic(r,n,bc,Nc,yc,t,gc,hc,xc,lc,s,0,-0,0)}break}a=Yc(e,t,!1),s=!1}jd(e)}function Ic(e,t,n,r,a,s,o,l,c,d,u,m,p,h){if(e.timeoutHandle=-1,(8192&(m=t.subtreeFlags)||16785408===(16785408&m))&&(Wu={stylesheets:null,count:0,unsuspend:Hu},Yl(t),null!==(m=function(){if(null===Wu)throw Error(i(475));var e=Wu;return e.stylesheets&&0===e.count&&Ku(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Ku(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=m(nd.bind(null,e,t,s,n,r,a,o,l,c,u,1,p,h)),void Bc(e,s,o,!d);nd(e,t,s,n,r,a,o,l,c)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!Jn(s(),a))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,n,r){t&=~fc,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var s=31-pe(a),i=1<<s;r[s]=-1,a&=~i}0!==n&&_e(e,n,t)}function Uc(){return 0!==(6&nc)||(Nd(0,!1),!1)}function Wc(){if(null!==ac){if(0===ic)var e=ac.return;else va=xa=null,Ms(e=ac),Yi=null,Ji=0,e=ac;for(;null!==e;)sl(e.alternate,e),e=e.return;ac=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Wc(),rc=e,ac=n=Ir(e.current,null),sc=t,ic=0,oc=null,lc=!1,cc=ye(e,t),dc=!1,xc=gc=fc=hc=pc=mc=0,bc=vc=null,yc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-pe(r),s=1<<a;t|=e[a],r&=~s}return uc=t,Er(),n}function qc(e,t){bs=null,D.H=qi,t===Va||t===Ga?(t=Za(),ic=3):t===Ka?(t=Za(),ic=4):ic=t===_o?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ac&&(mc=1,wo(e,kr(t,e.current)))}function Vc(){var e=D.H;return D.H=qi,null===e?qi:e}function Kc(){var e=D.A;return D.A=ec,e}function Gc(){mc=4,lc||(4194048&sc)!==sc&&null!==ro.current||(cc=!0),0===(134217727&pc)&&0===(134217727&hc)||null===rc||Bc(rc,sc,gc,!1)}function Yc(e,t,n){var r=nc;nc|=2;var a=Vc(),s=Kc();rc===e&&sc===t||(Nc=null,Hc(e,t)),t=!1;var i=mc;e:for(;;)try{if(0!==ic&&null!==ac){var o=ac,l=oc;switch(ic){case 8:Wc(),i=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=ic;if(ic=0,oc=null,Zc(e,o,l,c),n&&cc){i=0;break e}break;default:c=ic,ic=0,oc=null,Zc(e,o,l,c)}}Jc(),i=mc;break}catch(d){qc(e,d)}return t&&e.shellSuspendCounter++,va=xa=null,nc=r,D.H=a,D.A=s,null===ac&&(rc=null,sc=0,Er()),i}function Jc(){for(;null!==ac;)Qc(ac)}function $c(){for(;null!==ac&&!Z();)Qc(ac)}function Qc(e){var t=Qo(e.alternate,e,uc);e.memoizedProps=e.pendingProps,null===t?ed(e):ac=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=zo(n,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=zo(n,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:Ms(t);default:sl(n,t),t=Qo(n,t=ac=Fr(t,uc),uc)}e.memoizedProps=e.pendingProps,null===t?ed(e):ac=t}function Zc(e,t,n,r){va=xa=null,Ms(t),Yi=null,Ji=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Na(t,n,a,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===ao?Gc():null===n.alternate&&0===mc&&(mc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Ya?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ud(e,r,a)),!1;case 22:return n.flags|=65536,r===Ya?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ud(e,r,a)),!1}throw Error(i(435,n.tag))}return ud(e,r,a),Gc(),!1}if(sa)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==la&&fa(kr(e=Error(i(422),{cause:r}),n))):(r!==la&&fa(kr(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=kr(r,n),os(e,a=No(e.stateNode,r,a)),4!==mc&&(mc=2)),!1;var s=Error(i(520),{cause:r});if(s=kr(s,n),null===vc?vc=[s]:vc.push(s),4!==mc&&(mc=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,os(n,e=No(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===kc||!kc.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,So(a=ko(a),e,n,r),os(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,sc))return mc=1,wo(e,kr(n,e.current)),void(ac=null)}catch(s){if(null!==a)throw ac=a,s;return mc=1,wo(e,kr(n,e.current)),void(ac=null)}32768&t.flags?(sa||1===r?e=!0:cc||0!==(536870912&sc)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),td(t,e)):ed(t)}function ed(e){var t=e;do{if(0!==(32768&t.flags))return void td(t,lc);e=t.return;var n=rl(t.alternate,t,uc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===mc&&(mc=5)}function td(e,t){do{var n=al(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);mc=6,ac=null}function nd(e,t,n,r,a,s,o,l,c){e.cancelPendingCommit=null;do{od()}while(0!==Sc);if(0!==(6&nc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,a,s){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var d=31-pe(n),u=1<<d;o[d]=0,l[d]=-1;var m=c[d];if(null!==m)for(c[d]=null,d=0;d<m.length;d++){var p=m[d];null!==p&&(p.lane&=-536870913)}n&=~u}0!==r&&_e(e,r,0),0!==s&&0===a&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,n,s|=Cr,o,l,c),e===rc&&(ac=rc=null,sc=0),Cc=t,_c=e,Ec=n,Tc=s,Pc=a,Lc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Q(se,function(){return ld(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,a=R.p,R.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,tu=nm,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var h;m!==n||0!==a&&3!==m.nodeType||(l=o+a),m!==s||0!==r&&3!==m.nodeType||(c=o+r),3===m.nodeType&&(o+=m.nodeValue.length),null!==(h=m.firstChild);)p=m,m=h;for(;;){if(m===e)break t;if(p===n&&++d===a&&(l=o),p===s&&++u===r&&(c=o),null!==(h=m.nextSibling))break;p=(m=p).parentNode}m=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nu={focusedElem:e,selectionRange:n},nm=!1,Nl=t;null!==Nl;)if(e=(t=Nl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Nl=e;else for(;null!==Nl;){switch(s=(t=Nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var f=go(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(f,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(x){dd(n,n.return,x)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))fu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Nl=e;break}Nl=t.return}}(e,t)}finally{nc=o,R.p=a,D.T=r}}Sc=1,rd(),ad(),sd()}}function rd(){if(1===Sc){Sc=0;var e=_c,t=Cc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=R.p;R.p=2;var a=nc;nc|=4;try{Dl(t,e);var s=nu,i=er(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,m=u&&u.defaultView||window;if(m.getSelection){var p=m.getSelection(),h=o.textContent.length,f=Math.min(l.start,h),g=void 0===l.end?f:Math.min(l.end,h);!p.extend&&f>g&&(i=g,g=f,f=i);var x=Xn(o,f),v=Xn(o,g);if(x&&v&&(1!==p.rangeCount||p.anchorNode!==x.node||p.anchorOffset!==x.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var b=u.createRange();b.setStart(x.node,x.offset),p.removeAllRanges(),f>g?(p.addRange(b),p.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),p.addRange(b))}}}}for(u=[],p=o;p=p.parentNode;)1===p.nodeType&&u.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<u.length;o++){var y=u[o];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}nm=!!tu,nu=tu=null}finally{nc=a,R.p=r,D.T=n}}e.current=t,Sc=2}}function ad(){if(2===Sc){Sc=0;var e=_c,t=Cc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=R.p;R.p=2;var a=nc;nc|=4;try{kl(e,t.alternate,t)}finally{nc=a,R.p=r,D.T=n}}Sc=3}}function sd(){if(4===Sc||3===Sc){Sc=0,ee();var e=_c,t=Cc,n=Ec,r=Lc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Sc=5:(Sc=0,Cc=_c=null,id(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(kc=null),Te(n),t=t.stateNode,ue&&"function"===typeof ue.onCommitFiberRoot)try{ue.onCommitFiberRoot(de,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,a=R.p,R.p=2,D.T=null;try{for(var s=e.onRecoverableError,i=0;i<r.length;i++){var o=r[i];s(o.value,{componentStack:o.stack})}}finally{D.T=t,R.p=a}}0!==(3&Ec)&&od(),jd(e),a=e.pendingLanes,0!==(4194090&n)&&0!==(42&a)?e===Oc?Ac++:(Ac=0,Oc=e):Ac=0,Nd(0,!1)}}function id(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Da(t)))}function od(e){return rd(),ad(),sd(),ld()}function ld(){if(5!==Sc)return!1;var e=_c,t=Tc;Tc=0;var n=Te(Ec),r=D.T,a=R.p;try{R.p=32>n?32:n,D.T=null,n=Pc,Pc=null;var s=_c,o=Ec;if(Sc=0,Cc=_c=null,Ec=0,0!==(6&nc))throw Error(i(331));var l=nc;if(nc|=4,Ql(s.current),Hl(s,s.current,o,n),nc=l,Nd(0,!1),ue&&"function"===typeof ue.onPostCommitFiberRoot)try{ue.onPostCommitFiberRoot(de,s)}catch(c){}return!0}finally{R.p=a,D.T=r,id(e,t)}}function cd(e,t,n){t=kr(n,t),null!==(e=ss(e,t=No(e.stateNode,t,2),2))&&(Se(e,2),jd(e))}function dd(e,t,n){if(3===e.tag)cd(e,e,n);else for(;null!==t;){if(3===t.tag){cd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=kr(n,e),null!==(r=ss(t,n=ko(2),2))&&(So(n,r,t,e),Se(r,2),jd(r));break}}t=t.return}}function ud(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(dc=!0,a.add(n),e=md.bind(null,e,t,n),t.then(e,e))}function md(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(sc&n)===n&&(4===mc||3===mc&&(62914560&sc)===sc&&300>te()-wc?0===(2&nc)&&Hc(e,0):fc|=n,xc===sc&&(xc=0)),jd(e)}function pd(e,t){0===t&&(t=Ne()),null!==(e=Lr(e,t))&&(Se(e,t),jd(e))}function hd(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pd(e,n)}function fd(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),pd(e,n)}var gd=null,xd=null,vd=!1,bd=!1,yd=!1,wd=0;function jd(e){e!==xd&&null===e.next&&(null===xd?gd=xd=e:xd=xd.next=e),bd=!0,vd||(vd=!0,uu(function(){0!==(6&nc)?Q(re,kd):Sd()}))}function Nd(e,t){if(!yd&&bd){yd=!0;do{for(var n=!1,r=gd;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var s=0;else{var i=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-pe(42|e)+1)-1,s=201326741&(s&=a&~(i&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Ed(r,s))}else s=sc,0===(3&(s=be(r,r===rc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ye(r,s)||(n=!0,Ed(r,s));r=r.next}}while(n);yd=!1}}function kd(){Sd()}function Sd(){bd=vd=!1;var e=0;0!==wd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ou&&(ou=e,!0);return ou=null,!1}()&&(e=wd),wd=0);for(var t=te(),n=null,r=gd;null!==r;){var a=r.next,s=_d(r,t);0===s?(r.next=null,null===n?gd=a:n.next=a,null===a&&(xd=n)):(n=r,(0!==e||0!==(3&s))&&(bd=!0)),r=a}Nd(e,!1)}function _d(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-pe(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=we(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=sc,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ic||9===ic)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&X(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||ye(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&X(r),Te(n)){case 2:case 8:n=ae;break;case 32:default:n=se;break;case 268435456:n=oe}return r=Cd.bind(null,e),n=Q(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&X(r),e.callbackPriority=2,e.callbackNode=null,2}function Cd(e,t){if(0!==Sc&&5!==Sc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(od()&&e.callbackNode!==n)return null;var r=sc;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Mc(e,r,t),_d(e,te()),null!=e.callbackNode&&e.callbackNode===n?Cd.bind(null,e):null)}function Ed(e,t){if(od())return null;Mc(e,t,!0)}function Td(){return 0===wd&&(wd=je()),wd}function Pd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Tt(""+e)}function Ld(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ad=0;Ad<wr.length;Ad++){var Od=wr[Ad];jr(Od.toLowerCase(),"on"+(Od[0].toUpperCase()+Od.slice(1)))}jr(pr,"onAnimationEnd"),jr(hr,"onAnimationIteration"),jr(fr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(gr,"onTransitionRun"),jr(xr,"onTransitionStart"),jr(vr,"onTransitionCancel"),jr(br,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dd));function zd(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=c;try{s(a)}catch(d){xo(d)}a.currentTarget=null,s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=c;try{s(a)}catch(d){xo(d)}a.currentTarget=null,s=l}}}}function Md(e,t){var n=t[Re];void 0===n&&(n=t[Re]=new Set);var r=e+"__bubble";n.has(r)||(Ud(t,e,2,!1),n.add(r))}function Id(e,t,n){var r=0;t&&(r|=4),Ud(n,e,r,t)}var Fd="_reactListening"+Math.random().toString(36).slice(2);function Bd(e){if(!e[Fd]){e[Fd]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Rd.has(t)||Id(t,!1,e),Id(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fd]||(t[Fd]=!0,Id("selectionchange",!1,t))}}function Ud(e,t,n,r){switch(cm(t)){case 2:var a=rm;break;case 8:a=am;break;default:a=sm}n=a.bind(null,t,n,e),a=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wd(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===a)return;i=i.return}for(;null!==o;){if(null===(i=Ue(o)))return;if(5===(c=i.tag)||6===c||26===c||27===c){r=s=i;continue e}o=o.parentNode}}r=r.return}zt(function(){var r=s,a=Lt(n),i=[];e:{var o=yr.get(e);if(void 0!==o){var c=Zt,d=e;switch(e){case"keypress":if(0===Vt(n))break e;case"keydown":case"keyup":c=fn;break;case"focusin":d="focus",c=sn;break;case"focusout":d="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case pr:case hr:case fr:c=on;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=yn}var u=0!==(4&t),m=!u&&("scroll"===e||"scrollend"===e),p=u?null!==o?o+"Capture":null:o;u=[];for(var h,f=r;null!==f;){var g=f;if(h=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===h||null===p||null!=(g=Mt(f,p))&&u.push(Hd(f,g,h)),m)break;f=f.return}0<u.length&&(o=new c(o,d,null,n,a),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Pt||!(d=n.relatedTarget||n.fromElement)||!Ue(d)&&!d[De])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(d=(d=n.relatedTarget||n.toElement)?Ue(d):null)&&(m=l(d),u=d.tag,d!==m||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=r),c!==d)){if(u=rn,g="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=gn,g="onPointerLeave",p="onPointerEnter",f="pointer"),m=null==c?o:He(c),h=null==d?o:He(d),(o=new u(g,f+"leave",c,n,a)).target=m,o.relatedTarget=h,g=null,Ue(a)===r&&((u=new u(p,f+"enter",d,n,a)).target=h,u.relatedTarget=m,g=u),m=g,c&&d)e:{for(p=d,f=0,h=u=c;h;h=Vd(h))f++;for(h=0,g=p;g;g=Vd(g))h++;for(;0<f-h;)u=Vd(u),f--;for(;0<h-f;)p=Vd(p),h--;for(;f--;){if(u===p||null!==p&&u===p.alternate)break e;u=Vd(u),p=Vd(p)}u=null}else u=null;null!==c&&Kd(i,o,c,u,!1),null!==d&&null!==m&&Kd(i,m,d,u,!0)}if("select"===(c=(o=r?He(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var x=In;else if(An(o))if(Fn)x=Yn;else{x=Kn;var v=Vn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&_t(r.elementType)&&(x=In):x=Gn;switch(x&&(x=x(e,r))?On(i,x,n,a):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),v=r?He(r):window,e){case"focusin":(An(v)||"true"===v.contentEditable)&&(rr=v,ar=r,sr=null);break;case"focusout":sr=ar=rr=null;break;case"mousedown":ir=!0;break;case"contextmenu":case"mouseup":case"dragend":ir=!1,or(i,n,a);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(i,n,a)}var b;if(jn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Pn?En(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Sn&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Pn&&(b=qt()):(Wt="value"in(Ut=a)?Ut.value:Ut.textContent,Pn=!0)),0<(v=qd(r,y)).length&&(y=new cn(y,e,null,n,a),i.push({event:y,listeners:v}),b?y.data=b:null!==(b=Tn(n))&&(y.data=b))),(b=kn?function(e,t){switch(e){case"compositionend":return Tn(t);case"keypress":return 32!==t.which?null:(Cn=!0,_n);case"textInput":return(e=t.data)===_n&&Cn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!jn&&En(e,t)?(e=qt(),Ht=Wt=Ut=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(y=qd(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,a),i.push({event:v,listeners:y}),v.data=b)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var s=Pd((a[Oe]||null).action),i=r.submitter;i&&null!==(t=(t=i[Oe]||null)?Pd(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var o=new Zt("action","action",null,r,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wd){var e=i?Ld(a,i):new FormData(a);Pi(n,{pending:!0,data:e,method:a.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=i?Ld(a,i):new FormData(a),Pi(n,{pending:!0,data:e,method:a.method,action:s},s,e))},currentTarget:a}]})}}(i,e,r,n,a)}zd(i,t)})}function Hd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qd(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===s||(null!=(a=Mt(e,n))&&r.unshift(Hd(e,a,s)),null!=(a=Mt(e,t))&&r.push(Hd(e,a,s))),3===e.tag)return r;e=e.return}return[]}function Vd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Kd(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=Mt(n,s))&&i.unshift(Hd(n,c,l)):a||null!=(c=Mt(n,s))&&i.push(Hd(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Gd=/\r\n?/g,Yd=/\u0000|\uFFFD/g;function Jd(e){return("string"===typeof e?e:""+e).replace(Gd,"\n").replace(Yd,"")}function $d(e,t){return t=Jd(t),Jd(e)===t}function Qd(){}function Xd(e,t,n,r,a,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||jt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&jt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":St(e,r,s);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Tt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Xd(e,t,"name",a.name,a,null),Xd(e,t,"formEncType",a.formEncType,a,null),Xd(e,t,"formMethod",a.formMethod,a,null),Xd(e,t,"formTarget",a.formTarget,a,null)):(Xd(e,t,"encType",a.encType,a,null),Xd(e,t,"method",a.method,a,null),Xd(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Tt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Qd);break;case"onScroll":null!=r&&Md("scroll",e);break;case"onScrollEnd":null!=r&&Md("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Tt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Md("beforetoggle",e),Md("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Ct.get(n)||n,r)}}function Zd(e,t,n,r,a,s){switch(n){case"style":St(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof r?jt(e,r):("number"===typeof r||"bigint"===typeof r)&&jt(e,""+r);break;case"onScroll":null!=r&&Md("scroll",e);break;case"onScrollEnd":null!=r&&Md("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Qd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Oe]||null)?s[n]:null)&&e.removeEventListener(t,s,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function eu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Md("error",e),Md("load",e);var r,a=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Xd(e,t,r,o,n,null)}}return s&&Xd(e,t,"srcSet",n.srcSet,n,null),void(a&&Xd(e,t,"src",n.src,n,null));case"input":Md("invalid",e);var l=r=o=s=null,c=null,d=null;for(a in n)if(n.hasOwnProperty(a)){var u=n[a];if(null!=u)switch(a){case"name":s=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":r=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(i(137,t));break;default:Xd(e,t,a,u,n,null)}}return xt(e,r,l,c,d,o,s,!1),void ut(e);case"select":for(s in Md("invalid",e),a=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:Xd(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!a,void(null!=t?bt(e,!!a,t,!1):null!=n&&bt(e,!!a,n,!0));case"textarea":for(o in Md("invalid",e),r=s=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:Xd(e,t,o,l,n,null)}return wt(e,a,s,r),void ut(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Xd(e,t,c,a,n,null);return;case"dialog":Md("beforetoggle",e),Md("toggle",e),Md("cancel",e),Md("close",e);break;case"iframe":case"object":Md("load",e);break;case"video":case"audio":for(a=0;a<Dd.length;a++)Md(Dd[a],e);break;case"image":Md("error",e),Md("load",e);break;case"details":Md("toggle",e);break;case"embed":case"source":case"link":Md("error",e),Md("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(a=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Xd(e,t,d,a,n,null)}return;default:if(_t(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(a=n[u])&&Zd(e,t,u,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&Xd(e,t,l,a,n,null))}var tu=null,nu=null;function ru(e){return 9===e.nodeType?e:e.ownerDocument}function au(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function su(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function iu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ou=null;var lu="function"===typeof setTimeout?setTimeout:void 0,cu="function"===typeof clearTimeout?clearTimeout:void 0,du="function"===typeof Promise?Promise:void 0,uu="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof du?function(e){return du.resolve(null).then(e).catch(mu)}:lu;function mu(e){setTimeout(function(){throw e})}function pu(e){return"head"===e}function hu(e,t){var n=t,r=0,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var i=e.ownerDocument;if(1&n&&wu(i.documentElement),2&n&&wu(i.body),4&n)for(wu(n=i.head),i=n.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=o}}if(0===a)return e.removeChild(s),void Cm(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Cm(t)}function fu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":fu(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gu(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function xu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vu=null;function bu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function yu(e,t,n){switch(t=ru(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function wu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var ju=new Map,Nu=new Set;function ku(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Su=R.d;R.d={f:function(){var e=Su.f(),t=Uc();return e||t},r:function(e){var t=We(e);null!==t&&5===t.tag&&"form"===t.type?Ai(t):Su.r(e)},D:function(e){Su.D(e),Cu("dns-prefetch",e,null)},C:function(e,t){Su.C(e,t),Cu("preconnect",e,t)},L:function(e,t,n){Su.L(e,t,n);var r=_u;if(r&&e&&t){var a='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+ft(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+ft(n.imageSizes)+'"]')):a+='[href="'+ft(e)+'"]';var s=a;switch(t){case"style":s=Tu(e);break;case"script":s=Au(e)}ju.has(s)||(e=m({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ju.set(s,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Pu(s))||"script"===t&&r.querySelector(Ou(s))||(eu(t=r.createElement("link"),"link",e),Ve(t),r.head.appendChild(t)))}},m:function(e,t){Su.m(e,t);var n=_u;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+ft(r)+'"][href="'+ft(e)+'"]',s=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Au(e)}if(!ju.has(s)&&(e=m({rel:"modulepreload",href:e},t),ju.set(s,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ou(s)))return}eu(r=n.createElement("link"),"link",e),Ve(r),n.head.appendChild(r)}}},X:function(e,t){Su.X(e,t);var n=_u;if(n&&e){var r=qe(n).hoistableScripts,a=Au(e),s=r.get(a);s||((s=n.querySelector(Ou(a)))||(e=m({src:e,async:!0},t),(t=ju.get(a))&&Mu(e,t),Ve(s=n.createElement("script")),eu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}},S:function(e,t,n){Su.S(e,t,n);var r=_u;if(r&&e){var a=qe(r).hoistableStyles,s=Tu(e);t=t||"default";var i=a.get(s);if(!i){var o={loading:0,preload:null};if(i=r.querySelector(Pu(s)))o.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ju.get(s))&&zu(e,n);var l=i=r.createElement("link");Ve(l),eu(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Ru(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:o},a.set(s,i)}}},M:function(e,t){Su.M(e,t);var n=_u;if(n&&e){var r=qe(n).hoistableScripts,a=Au(e),s=r.get(a);s||((s=n.querySelector(Ou(a)))||(e=m({src:e,async:!0,type:"module"},t),(t=ju.get(a))&&Mu(e,t),Ve(s=n.createElement("script")),eu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}}};var _u="undefined"===typeof document?null:document;function Cu(e,t,n){var r=_u;if(r&&"string"===typeof t&&t){var a=ft(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),Nu.has(a)||(Nu.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(eu(t=r.createElement("link"),"link",e),Ve(t),r.head.appendChild(t)))}}function Eu(e,t,n,r){var a,s,o,l,c=(c=q.current)?ku(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Tu(n.href),(r=(n=qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Tu(n.href);var d=qe(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Pu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),ju.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ju.set(e,n),d||(a=c,s=e,o=n,l=u.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=a.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),eu(s,"link",o),Ve(s),a.head.appendChild(s))))),t&&null===r)throw Error(i(528,""));return u}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Au(n),(r=(n=qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Tu(e){return'href="'+ft(e)+'"'}function Pu(e){return'link[rel="stylesheet"]['+e+"]"}function Lu(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Au(e){return'[src="'+ft(e)+'"]'}function Ou(e){return"script[async]"+e}function Du(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+ft(n.href)+'"]');if(r)return t.instance=r,Ve(r),r;var a=m({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ve(r=(e.ownerDocument||e).createElement("style")),eu(r,"style",a),Ru(r,n.precedence,e),t.instance=r;case"stylesheet":a=Tu(n.href);var s=e.querySelector(Pu(a));if(s)return t.state.loading|=4,t.instance=s,Ve(s),s;r=Lu(n),(a=ju.get(a))&&zu(r,a),Ve(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),eu(s,"link",r),t.state.loading|=4,Ru(s,n.precedence,e),t.instance=s;case"script":return s=Au(n.src),(a=e.querySelector(Ou(s)))?(t.instance=a,Ve(a),a):(r=n,(a=ju.get(s))&&Mu(r=m({},n),a),Ve(a=(e=e.ownerDocument||e).createElement("script")),eu(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Ru(r,n.precedence,e));return t.instance}function Ru(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,s=a,i=0;i<r.length;i++){var o=r[i];if(o.dataset.precedence===t)s=o;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function zu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Mu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Iu=null;function Fu(e,t,n){if(null===Iu){var r=new Map,a=Iu=new Map;a.set(n,r)}else(r=(a=Iu).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[Fe]||s[Ae]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var o=r.get(i);o?o.push(s):r.set(i,[s])}}return r}function Bu(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Uu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Wu=null;function Hu(){}function qu(){if(this.count--,0===this.count)if(this.stylesheets)Ku(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Vu=null;function Ku(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Vu=new Map,t.forEach(Gu,e),Vu=null,qu.call(e))}function Gu(e,t){if(!(4&t.state.loading)){var n=Vu.get(e);if(n)var r=n.get(null);else{n=new Map,Vu.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var i=a[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(a=t.instance).getAttribute("data-precedence"),(s=n.get(i)||r)===r&&n.set(null,a),n.set(i,a),this.count++,r=qu.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),s?s.parentNode.insertBefore(a,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Yu={$$typeof:w,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function Ju(e,t,n,r,a,s,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function $u(e,t,n,r,a,s,i,o,l,c,d,u){return e=new Ju(e,t,n,i,o,l,c,u),t=1,!0===s&&(t|=24),s=zr(3,null,null,t),e.current=s,s.stateNode=e,(t=Oa()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ns(s),e}function Qu(e){return e?e=Dr:Dr}function Xu(e,t,n,r,a,s){a=Qu(a),null===r.context?r.context=a:r.pendingContext=a,(r=as(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ss(e,r,t))&&(zc(n,0,t),is(n,e,t))}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function em(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function tm(e){if(13===e.tag){var t=Lr(e,67108864);null!==t&&zc(t,0,67108864),em(e,67108864)}}var nm=!0;function rm(e,t,n,r){var a=D.T;D.T=null;var s=R.p;try{R.p=2,sm(e,t,n,r)}finally{R.p=s,D.T=a}}function am(e,t,n,r){var a=D.T;D.T=null;var s=R.p;try{R.p=8,sm(e,t,n,r)}finally{R.p=s,D.T=a}}function sm(e,t,n,r){if(nm){var a=im(r);if(null===a)Wd(e,t,r,om,n),vm(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return um=bm(um,e,t,n,r,a),!0;case"dragenter":return mm=bm(mm,e,t,n,r,a),!0;case"mouseover":return pm=bm(pm,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return hm.set(s,bm(hm.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,fm.set(s,bm(fm.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(vm(e,r),4&t&&-1<xm.indexOf(e)){for(;null!==a;){var s=We(a);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=ve(s.pendingLanes);if(0!==i){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-pe(i);o.entanglements[1]|=l,i&=~l}jd(s),0===(6&nc)&&(jc=te()+500,Nd(0,!1))}}break;case 13:null!==(o=Lr(s,2))&&zc(o,0,2),Uc(),em(s,2)}if(null===(s=im(r))&&Wd(e,t,r,om,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Wd(e,t,r,null,n)}}function im(e){return lm(e=Lt(e))}var om=null;function lm(e){if(om=null,null!==(e=Ue(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return om=e,null}function cm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ae:return 8;case se:case ie:return 32;case oe:return 268435456;default:return 32}default:return 32}}var dm=!1,um=null,mm=null,pm=null,hm=new Map,fm=new Map,gm=[],xm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vm(e,t){switch(e){case"focusin":case"focusout":um=null;break;case"dragenter":case"dragleave":mm=null;break;case"mouseover":case"mouseout":pm=null;break;case"pointerover":case"pointerout":hm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fm.delete(t.pointerId)}}function bm(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=We(t))&&tm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function ym(e){var t=Ue(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=R.p;try{return R.p=e,t()}finally{R.p=n}}(e.priority,function(){if(13===n.tag){var e=Dc();e=Ee(e);var t=Lr(n,e);null!==t&&zc(t,0,e),em(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wm(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=im(e.nativeEvent);if(null!==n)return null!==(t=We(n))&&tm(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function jm(e,t,n){wm(e)&&n.delete(t)}function Nm(){dm=!1,null!==um&&wm(um)&&(um=null),null!==mm&&wm(mm)&&(mm=null),null!==pm&&wm(pm)&&(pm=null),hm.forEach(jm),fm.forEach(jm)}function km(e,t){e.blockedOn===t&&(e.blockedOn=null,dm||(dm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Nm)))}var Sm=null;function _m(e){Sm!==e&&(Sm=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sm===e&&(Sm=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===lm(r||n))continue;break}var s=We(n);null!==s&&(e.splice(t,3),t-=3,Pi(s,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Cm(e){function t(t){return km(t,e)}null!==um&&km(um,e),null!==mm&&km(mm,e),null!==pm&&km(pm,e),hm.forEach(t),fm.forEach(t);for(var n=0;n<gm.length;n++){var r=gm[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gm.length&&null===(n=gm[0]).blockedOn;)ym(n),null===n.blockedOn&&gm.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],s=n[r+1],i=a[Oe]||null;if("function"===typeof s)i||_m(n);else if(i){var o=null;if(s&&s.hasAttribute("formAction")){if(a=s,i=s[Oe]||null)o=i.formAction;else if(null!==lm(a))continue}else o=i.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),_m(n)}}}function Em(e){this._internalRoot=e}function Tm(e){this._internalRoot=e}Tm.prototype.render=Em.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Xu(t.current,Dc(),e,t,null,null)},Tm.prototype.unmount=Em.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xu(e.current,2,null,e,null,null),Uc(),t[De]=null}},Tm.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gm.length&&0!==t&&t<gm[n].priority;n++);gm.splice(n,0,e),0===n&&ym(e)}};var Pm=a.version;if("19.1.1"!==Pm)throw Error(i(527,Pm,"19.1.1"));R.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return d(a),e;if(s===r)return d(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,c=a.child;c;){if(c===n){o=!0,n=a,r=s;break}if(c===r){o=!0,r=a,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=a;break}if(c===r){o=!0,r=s,n=a;break}c=c.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Lm={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Am=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Am.isDisabled&&Am.supportsFiber)try{de=Am.inject(Lm),ue=Am}catch(Dm){}}t.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,r="",a=vo,s=bo,l=yo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=$u(e,1,!1,null,0,n,r,a,s,l,0,null),e[De]=t.current,Bd(e),new Em(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var r=!1,a="",s=vo,l=bo,c=yo,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(d=n.formState)),(t=$u(e,1,!0,t,0,r,a,s,l,c,0,d)).context=Qu(null),n=t.current,(a=as(r=Ee(r=Dc()))).callback=null,ss(n,a,r),n=r,t.current.lanes=n,Se(t,n),jd(t),e[De]=t.current,Bd(e),new Tm(t)},t.version="19.1.1"},43:(e,t,n)=>{"use strict";e.exports=n(288)},173:(e,t,n)=>{e.exports=n(497)()},210:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(829)),s=r(n(736)),i=n(745);class o{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new a.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:a=!1,count:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new URL("".concat(this.url,"/rpc/").concat(e));let l;r||a?(t=r?"HEAD":"GET",Object.entries(n).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;o.searchParams.append(t,n)})):(t="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer="count=".concat(i)),new s.default({method:t,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=o},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},286:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(630)),s=r(n(611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r;let a=null,i=null,o=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),s=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&s&&s.length>1&&(o=parseInt(s[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(a={code:"PGRST116",details:"Results contain ".concat(i.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,o=null,l=406,c="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(i=[],a=null,l=200,c="OK")}catch(d){404===e.status&&""===t?(l=204,c="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(r=null===a||void 0===a?void 0:a.details)||void 0===r?void 0:r.includes("0 rows"))&&(a=null,l=200,c="OK"),a&&this.shouldThrowOnError)throw new s.default(a)}return{error:a,data:i,count:o,status:l,statusText:c}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=x.prototype;var y=b.prototype=new v;y.constructor=b,f(y,x.prototype),y.isPureReactComponent=!0;var w=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function k(e,t,r,a,s,i){return r=i.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:i}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(){}function T(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case r:d=!0;break;case m:return T((d=e._init)(e._payload),t,a,s,i)}}if(d)return i=i(e),d=""===s?"."+C(e,0):s,w(i)?(a="",null!=d&&(a=d.replace(_,"$&/")+"/"),T(i,t,a,"",function(e){return e})):null!=i&&(S(i)&&(l=i,c=a+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(_,"$&/")+"/")+d,i=k(l.type,c,void 0,0,0,l.props)),t.push(i)),1;d=0;var u,h=""===s?".":s+":";if(w(e))for(var f=0;f<e.length;f++)d+=T(s=e[f],t,a,o=h+C(s,f),i);else if("function"===typeof(f=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=p&&u[p]||u["@@iterator"])?u:null))for(e=f.call(e),f=0;!(s=e.next()).done;)d+=T(s=s.value,t,a,o=h+C(s,f++),i);else if("object"===o){if("function"===typeof e.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,s,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function P(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",function(e){return t.call(n,e,a++)}),r}function L(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=s,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return j.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=f({},e.props),a=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!N.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var i=Array(s),o=0;o<s;o++)i[o]=arguments[o+2];r.children=i}return k(e.type,a,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,a={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)N.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var i=arguments.length-2;if(1===i)a.children=n;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===a[r]&&(a[r]=i[r]);return k(e,s,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.T,n={};j.T=n;try{var r=e(),a=j.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(O,A)}catch(s){A(s)}finally{j.T=t}},t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},t.use=function(e){return j.H.use(e)},t.useActionState=function(e,t,n){return j.H.useActionState(e,t,n)},t.useCallback=function(e,t){return j.H.useCallback(e,t)},t.useContext=function(e){return j.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return j.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=j.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return j.H.useId()},t.useImperativeHandle=function(e,t,n){return j.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.H.useMemo(e,t)},t.useOptimistic=function(e,t){return j.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return j.H.useReducer(e,t,n)},t.useRef=function(e){return j.H.useRef(e)},t.useState=function(e){return j.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.H.useTransition()},t.version="19.1.1"},374:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(286));class s extends a.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=a?"".concat(a,".order"):"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(i?"".concat(i,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof r?"offset":"".concat(r,".offset"),s="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(s,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:s="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.Accept)&&void 0!==i?i:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(s,'; for="').concat(l,'"; options=').concat(o,";"),this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=s},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},497:(e,t,n)=>{"use strict";var r=n(218);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,s,i){if(i!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(799)},611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},628:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(0===n.length)return!0;var r=e.name||"",a=(e.type||"").toLowerCase(),s=a.replace(/\/.*$/,"");return n.some(function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?s===t.replace(/\/.*$/,""):a===t})}return!0}},630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Headers:()=>i,Request:()=>o,Response:()=>l,default:()=>s,fetch:()=>a});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const a=r.fetch,s=r.fetch.bind(r),i=r.Headers,o=r.Request,l=r.Response},672:(e,t,n)=>{"use strict";var r=n(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:s}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},736:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(374));class s extends a.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const s=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(s,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=s},745:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=n(400);t.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(r.version)}},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},829:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:a}=t;this.url=e,this.headers=n,this.schema=r,this.fetch=a}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let s=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer="count=".concat(n)),new a.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push("count=".concat(t)),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=["resolution=".concat(n?"ignore":"merge","-duplicates")];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push("count=".concat(r)),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push("count=".concat(t)),this.headers.Prefer=n.join(","),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push("count=".concat(e)),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,n))c<a&&0>s(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>s(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,p=3,h=!1,f=!1,g=!1,x=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function j(e){if(g=!1,w(e),!f)if(null!==r(c))f=!0,k||(k=!0,N());else{var t=r(d);null!==t&&A(j,t.startTime-e)}}var N,k=!1,S=-1,_=5,C=-1;function E(){return!!x||!(t.unstable_now()-C<_)}function T(){if(x=!1,k){var e=t.unstable_now();C=e;var n=!0;try{e:{f=!1,g&&(g=!1,b(S),S=-1),h=!0;var s=p;try{t:{for(w(e),m=r(c);null!==m&&!(m.expirationTime>e&&E());){var i=m.callback;if("function"===typeof i){m.callback=null,p=m.priorityLevel;var o=i(m.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){m.callback=o,w(e),n=!0;break t}m===r(c)&&a(c),w(e)}else a(c);m=r(c)}if(null!==m)n=!0;else{var l=r(d);null!==l&&A(j,l.startTime-e),n=!1}}break e}finally{m=null,p=s,h=!1}n=void 0}}finally{n?N():k=!1}}}if("function"===typeof y)N=function(){y(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,L=P.port2;P.port1.onmessage=T,N=function(){L.postMessage(null)}}else N=function(){v(T,0)};function A(e,n){S=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(d,e),null===r(c)&&e===r(d)&&(g?(b(S),S=-1):g=!0,A(j,s-i))):(e.sortIndex=o,n(c,e),f||h||(f=!0,k||(k=!0,N()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},980:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=r(n(210));t.PostgrestClient=a.default;const s=r(n(829));t.PostgrestQueryBuilder=s.default;const i=r(n(736));t.PostgrestFilterBuilder=i.default;const o=r(n(374));t.PostgrestTransformBuilder=o.default;const l=r(n(286));t.PostgrestBuilder=l.default;const c=r(n(611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}},986:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=986,e.exports=t}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".a3c1d153.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="client:";n.l=(r,a,s,i)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+s){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[a];var m=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(n)),t)return t(n)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=m.bind(null,o.onerror),o.onload=m.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/-king-ezekiel-academy/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var s=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=s);var i=n.p+n.u(t),o=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,a[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,s,i=r[0],o=r[1],l=r[2],c=0;if(i.some(t=>0!==e[t])){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkclient=self.webpackChunkclient||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(43),t=n(391);function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function i(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const c=["sri"],d=["page"],u=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],h=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var f="popstate";function g(){return N(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return y("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:w(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function x(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function v(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function b(e,t){return{usr:e.state,key:e.key,idx:t}}function y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return l(l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?j(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function w(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function j(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function N(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:s=!1}=r,i=a.history,o="POP",c=null,d=u();function u(){return(i.state||{idx:null}).idx}function m(){o="POP";let e=u(),t=null==e?null:e-d;d=e,c&&c({action:o,location:h.location,delta:t})}function p(e){return k(e)}null==d&&(d=0,i.replaceState(l(l({},i.state),{},{idx:d}),""));let h={get action(){return o},get location(){return e(a,i)},listen(e){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(f,m),c=e,()=>{a.removeEventListener(f,m),c=null}},createHref:e=>t(a,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=y(h.location,e,t);n&&n(r,e),d=u()+1;let l=b(r,d),m=h.createHref(r);try{i.pushState(l,"",m)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;a.location.assign(m)}s&&c&&c({action:o,location:h.location,delta:1})},replace:function(e,t){o="REPLACE";let r=y(h.location,e,t);n&&n(r,e),d=u();let a=b(r,d),l=h.createHref(r);i.replaceState(a,"",l),s&&c&&c({action:o,location:h.location,delta:0})},go:e=>i.go(e)};return h}function k(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),x(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:w(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function S(e,t){return _(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function _(e,t,n,r){let a=U(("string"===typeof t?j(t):t).pathname||"/",n);if(null==a)return null;let s=C(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=B(a);i=M(s[o],e,r)}return i}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(x(i.relativePath.startsWith(r),'Absolute route path "'.concat(i.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),i.relativePath=i.relativePath.slice(r.length));let o=K([r,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(x(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(o,'".')),C(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:z(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of E(e.path))a(e,t,r);else a(e,t)}),t}function E(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let i=E(r.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var T=/^:[\w-]+$/,P=3,L=2,A=1,O=10,D=-2,R=e=>"*"===e;function z(e,t){let n=e.split("/"),r=n.length;return n.some(R)&&(r+=D),t&&(r+=L),n.filter(e=>!R(e)).reduce((e,t)=>e+(T.test(t)?P:""===t?A:O),r)}function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},s="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",d=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),i.push({params:a,pathname:K([s,d.pathname]),pathnameBase:G(K([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=K([s,d.pathnameBase]))}return i}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=F(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function F(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];v("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function B(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return v(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function U(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function W(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function H(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function q(e){let t=H(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function V(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=j(e):(r=l({},e),x(!r.pathname||!r.pathname.includes("?"),W("?","pathname","search",r)),x(!r.pathname||!r.pathname.includes("#"),W("#","pathname","hash",r)),x(!r.search||!r.search.includes("#"),W("#","search","hash",r)));let s,i=""===e||""===r.pathname,o=i?"/":r.pathname;if(null==o)s=n;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:a=""}="string"===typeof e?j(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:Y(r),hash:J(a)}}(r,s),d=o&&"/"!==o&&o.endsWith("/"),u=(i||"."===o)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!u||(c.pathname+="/"),c}var K=e=>e.join("/").replace(/\/\/+/g,"/"),G=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",J=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Q=["POST","PUT","PATCH","DELETE"],X=(new Set(Q),["GET",...Q]);new Set(X),Symbol("ResetLoaderData");var Z=e.createContext(null);Z.displayName="DataRouter";var ee=e.createContext(null);ee.displayName="DataRouterState";var te=e.createContext(!1);var ne=e.createContext({isTransitioning:!1});ne.displayName="ViewTransition";var re=e.createContext(new Map);re.displayName="Fetchers";var ae=e.createContext(null);ae.displayName="Await";var se=e.createContext(null);se.displayName="Navigation";var ie=e.createContext(null);ie.displayName="Location";var oe=e.createContext({outlet:null,matches:[],isDataRoute:!1});oe.displayName="Route";var le=e.createContext(null);le.displayName="RouteError";function ce(){return null!=e.useContext(ie)}function de(){return x(ce(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(ie).location}var ue="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function me(t){e.useContext(se).static||e.useLayoutEffect(t)}function pe(){let{isDataRoute:t}=e.useContext(oe);return t?function(){let{router:t}=Ne("useNavigate"),n=Se("useNavigate"),r=e.useRef(!1);me(()=>{r.current=!0});let a=e.useCallback(async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(r.current,ue),r.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,l({fromRouteId:n},a)))},[t,n]);return a}():function(){x(ce(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(Z),{basename:n,navigator:r}=e.useContext(se),{matches:a}=e.useContext(oe),{pathname:s}=de(),i=JSON.stringify(q(a)),o=e.useRef(!1);me(()=>{o.current=!0});let l=e.useCallback(function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(o.current,ue),!o.current)return;if("number"===typeof e)return void r.go(e);let l=V(e,JSON.parse(i),s,"path"===a.relative);null==t&&"/"!==n&&(l.pathname="/"===l.pathname?n:K([n,l.pathname])),(a.replace?r.replace:r.push)(l,a.state,a)},[n,r,i,s,t]);return l}()}e.createContext(null);function he(){let{matches:t}=e.useContext(oe),n=t[t.length-1];return n?n.params:{}}function fe(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(oe),{pathname:a}=de(),s=JSON.stringify(q(r));return e.useMemo(()=>V(t,JSON.parse(s),a,"path"===n),[t,s,a,n])}function ge(t,n,r,a){x(ce(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=e.useContext(se),{matches:i}=e.useContext(oe),o=i[i.length-1],c=o?o.params:{},d=o?o.pathname:"/",u=o?o.pathnameBase:"/",m=o&&o.route;{let e=m&&m.path||"";Ee(d,!m||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,h=de();if(n){var f;let e="string"===typeof n?j(n):n;x("/"===u||(null===(f=e.pathname)||void 0===f?void 0:f.startsWith(u)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(u,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=h;let g=p.pathname||"/",b=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=S(t,{pathname:b});v(m||null!=y,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),v(null==y||void 0!==y[y.length-1].route.element||void 0!==y[y.length-1].route.Component||void 0!==y[y.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let w=we(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:K([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:K([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,r,a);return n&&w?e.createElement(ie.Provider,{value:{location:l({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},w):w}function xe(){let t=_e(),n=$(t)?"".concat(t.status," ").concat(t.statusText):t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:i},"ErrorBoundary")," or"," ",e.createElement("code",{style:i},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:s},r):null,o)}var ve=e.createElement(xe,null),be=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(oe.Provider,{value:this.props.routeContext},e.createElement(le.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ye(t){let{routeContext:n,match:r,children:a}=t,s=e.useContext(Z);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(oe.Provider,{value:n},a)}function we(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let a=t,s=null===r||void 0===r?void 0:r.errors;if(null!=s){let e=a.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));x(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let i=!1,o=-1;if(r)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(o=e),t.route.id){let{loaderData:e,errors:n}=r,s=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||s){i=!0,a=o>=0?a.slice(0,o+1):[a[0]];break}}}return a.reduceRight((t,l,c)=>{let d,u=!1,m=null,p=null;r&&(d=s&&l.route.id?s[l.route.id]:void 0,m=l.route.errorElement||ve,i&&(o<0&&0===c?(Ee("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,p=null):o===c&&(u=!0,p=l.route.hydrateFallbackElement||null)));let h=n.concat(a.slice(0,c+1)),f=()=>{let n;return n=d?m:u?p:l.route.Component?e.createElement(l.route.Component,null):l.route.element?l.route.element:t,e.createElement(ye,{match:l,routeContext:{outlet:t,matches:h,isDataRoute:null!=r},children:n})};return r&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?e.createElement(be,{location:r.location,revalidation:r.revalidation,component:m,error:d,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}function je(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ne(t){let n=e.useContext(Z);return x(n,je(t)),n}function ke(t){let n=e.useContext(ee);return x(n,je(t)),n}function Se(t){let n=function(t){let n=e.useContext(oe);return x(n,je(t)),n}(t),r=n.matches[n.matches.length-1];return x(r.route.id,"".concat(t,' can only be used on routes that contain a unique "id"')),r.route.id}function _e(){var t;let n=e.useContext(le),r=ke("useRouteError"),a=Se("useRouteError");return void 0!==n?n:null===(t=r.errors)||void 0===t?void 0:t[a]}var Ce={};function Ee(e,t,n){t||Ce[e]||(Ce[e]=!0,v(!1,n))}var Te={};function Pe(e,t){e||Te[t]||(Te[t]=!0,console.warn(t))}e.memo(function(e){let{routes:t,future:n,state:r}=e;return ge(t,void 0,r,n)});function Le(e){x(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ae(t){let{basename:n="/",children:r=null,location:a,navigationType:s="POP",navigator:i,static:o=!1}=t;x(!ce(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=e.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);"string"===typeof a&&(a=j(a));let{pathname:d="/",search:u="",hash:m="",state:p=null,key:h="default"}=a,f=e.useMemo(()=>{let e=U(d,l);return null==e?null:{location:{pathname:e,search:u,hash:m,state:p,key:h},navigationType:s}},[l,d,u,m,p,h,s]);return v(null!=f,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(d).concat(u).concat(m,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==f?null:e.createElement(se.Provider,{value:c},e.createElement(ie.Provider,{children:r,value:f}))}function Oe(e){let{children:t,location:n}=e;return ge(De(t),n)}e.Component;function De(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.Children.forEach(t,(t,a)=>{if(!e.isValidElement(t))return;let s=[...n,a];if(t.type===e.Fragment)return void r.push.apply(r,De(t.props.children,s));x(t.type===Le,"[".concat("string"===typeof t.type?t.type:t.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),x(!t.props.index||!t.props.children,"An index route cannot have child routes.");let i={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(i.children=De(t.props.children,s)),r.push(i)}),r}var Re="get",ze="application/x-www-form-urlencoded";function Me(e){return null!=e&&"string"===typeof e.tagName}var Ie=null;var Fe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Be(e){return null==e||Fe.has(e)?e:(v(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(ze,'"')),null)}function Ue(e,t){let n,r,a,s,i;if(Me(o=e)&&"form"===o.tagName.toLowerCase()){let i=e.getAttribute("action");r=i?U(i,t):null,n=e.getAttribute("method")||Re,a=Be(e.getAttribute("enctype"))||ze,s=new FormData(e)}else if(function(e){return Me(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Me(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(r=o?U(o,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||Re,a=Be(e.getAttribute("formenctype"))||Be(i.getAttribute("enctype"))||ze,s=new FormData(i,e),!function(){if(null===Ie)try{new FormData(document.createElement("form"),0),Ie=!1}catch(e){Ie=!0}return Ie}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(Me(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Re,r=null,a=ze,i=e}var o;return s&&"text/plain"===a&&(i=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function We(e){return{__html:e}}function He(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function qe(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===U(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function Ve(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ke(e){return null!=e&&"string"===typeof e.page}function Ge(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ye(e,t,n,r,a,s){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>i(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Je(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1),[...new Set(r)];var r}function $e(e,t){let n=new Set,r=new Set(t);return e.reduce((e,a)=>{if(t&&!Ke(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(s)||(n.add(s),e.push({key:s,link:a})),e},[])}function Qe(e,t){return"lazy"===e.mode&&!0===t}function Xe(){let t=e.useContext(Z);return He(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ze(){let t=e.useContext(ee);return He(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var et=e.createContext(void 0);function tt(){let t=e.useContext(et);return He(t,"You must render this element inside a <HydratedRouter> element"),t}function nt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function rt(e,t,n){if(n&&!ot)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}et.displayName="FrameworkContext";function at(t){let{page:n}=t,a=r(t,d),{router:s}=Xe(),i=e.useMemo(()=>S(s.routes,n,s.basename),[s.routes,n,s.basename]);return i?e.createElement(it,l({page:n,matches:i},a)):null}function st(t){let{manifest:n,routeModules:r}=tt(),[a,s]=e.useState([]);return e.useEffect(()=>{let e=!1;return async function(e,t,n){return $e((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Ve(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ge).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?l(l({},e),{},{rel:"prefetch",as:"style"}):l(l({},e),{},{rel:"prefetch"})))}(t,n,r).then(t=>{e||s(t)}),()=>{e=!0}},[t,n,r]),a}function it(t){let{page:n,matches:a}=t,s=r(t,u),i=de(),{manifest:o,routeModules:c}=tt(),{basename:d}=Xe(),{loaderData:m,matches:p}=Ze(),h=e.useMemo(()=>Ye(n,a,p,o,i,"data"),[n,a,p,o,i]),f=e.useMemo(()=>Ye(n,a,p,o,i,"assets"),[n,a,p,o,i]),g=e.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(a.forEach(n=>{var r;let a=o.routes[n.route.id];a&&a.hasLoader&&(!h.some(e=>e.route.id===n.route.id)&&n.route.id in m&&null!==(r=c[n.route.id])&&void 0!==r&&r.shouldRevalidate||a.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let r=qe(n,d,"data");return t&&e.size>0&&r.searchParams.set("_routes",a.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[r.pathname+r.search]},[d,m,i,o,h,a,n,c]),x=e.useMemo(()=>Je(f,o),[f,o]),v=st(f);return e.createElement(e.Fragment,null,g.map(t=>e.createElement("link",l({key:t,rel:"prefetch",as:"fetch",href:t},s))),x.map(t=>e.createElement("link",l({key:t,rel:"modulepreload",href:t},s))),v.map(t=>{let{key:n,link:r}=t;return e.createElement("link",l({key:n,nonce:s.nonce},r))}))}var ot=!1;function lt(t){let{manifest:n,serverHandoffString:a,isSpaMode:s,renderMeta:i,routeDiscovery:o,ssr:d}=tt(),{router:u,static:m,staticContext:p}=Xe(),{matches:h}=Ze(),f=e.useContext(te),g=Qe(o,d);i&&(i.didRenderScripts=!0);let x=rt(h,null,s);e.useEffect(()=>{0},[]);let v=e.useMemo(()=>{var s;if(f)return null;let i=p?"window.__reactRouterContext = ".concat(a,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=m?"".concat(null!==n.hmr&&void 0!==s&&s.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(x.map((e,t)=>{let r="route".concat(t),a=n.routes[e.route.id];He(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:i,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,d=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===d.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,a=r(e,c),s=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(i.pop();i.length>0;)o.push("/".concat(i.join("/"))),i.pop();o.forEach(e=>{let n=S(t.routes,e,t.basename);n&&n.forEach(e=>s.add(e.route.id))});let d=[...s].reduce((e,t)=>Object.assign(e,{[t]:a.routes[t]}),{});return l(l({},a),{},{routes:d,sri:!!n||void 0})}(n,u),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(x.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return e.createElement(e.Fragment,null,e.createElement("script",l(l({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:We(i),type:void 0})),e.createElement("script",l(l({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:We(o),type:"module",async:!0})))},[]),b=ot||f?[]:(n.entry.imports.concat(Je(x,n,{includeHydrateFallback:!0})),[...new Set(y)]);var y;let w="object"===typeof n.sri?n.sri:{};return Pe(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ot||f?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,g?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:w[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:w[n.entry.module],suppressHydrationWarning:!0}),b.map(n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:w[n],suppressHydrationWarning:!0})),v)}function ct(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}e.Component;function dt(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let a,s=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if($(n))return e.createElement(ut,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(ut,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),s)}function ut(t){var n;let{title:r,renderScripts:a,isOutsideRemixApp:s,children:i}=t,{routeModules:o}=tt();return null!==o.root&&void 0!==n&&n.Layout&&!s?i:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,r)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,a?e.createElement(lt,null):null)))}var mt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{mt&&(window.__reactRouterVersion="7.8.0")}catch(Pc){}function pt(t){let{basename:n,children:r,window:a}=t,s=e.useRef();null==s.current&&(s.current=g({window:a,v5Compat:!0}));let i=s.current,[o,l]=e.useState({action:i.action,location:i.location}),c=e.useCallback(t=>{e.startTransition(()=>l(t))},[l]);return e.useLayoutEffect(()=>i.listen(c),[i,c]),e.createElement(Ae,{basename:n,children:r,location:o.location,navigationType:o.action,navigator:i})}var ht=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=e.forwardRef(function(t,n){let a,{onClick:s,discover:i="render",prefetch:o="none",relative:c,reloadDocument:d,replace:u,state:p,target:h,to:f,preventScrollReset:g,viewTransition:b}=t,y=r(t,m),{basename:j}=e.useContext(se),N="string"===typeof f&&ht.test(f),k=!1;if("string"===typeof f&&N&&(a=f,mt))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=U(t.pathname,j);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:k=!0}catch(Pc){v(!1,'<Link to="'.concat(f,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let S=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(ce(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=e.useContext(se),{hash:s,pathname:i,search:o}=fe(t,{relative:n}),l=i;return"/"!==r&&(l="/"===i?r:K([r,i])),a.createHref({pathname:l,search:o,hash:s})}(f,{relative:c}),[_,C,E]=function(t,n){let r=e.useContext(et),[a,s]=e.useState(!1),[i,o]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:m}=n,p=e.useRef(null);e.useEffect(()=>{if("render"===t&&o(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(a){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[a]);let h=()=>{s(!0)},f=()=>{s(!1),o(!1)};return r?"intent"!==t?[i,p,{}]:[i,p,{onFocus:nt(l,h),onBlur:nt(c,f),onMouseEnter:nt(d,h),onMouseLeave:nt(u,f),onTouchStart:nt(m,h)}]:[!1,p,{}]}(o,y),T=function(t){let{target:n,replace:r,state:a,preventScrollReset:s,relative:i,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=pe(),c=de(),d=fe(t,{relative:i});return e.useCallback(e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:w(c)===w(d);l(t,{replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,d,r,a,n,t,s,i,o])}(f,{replace:u,state:p,target:h,preventScrollReset:g,relative:c,viewTransition:b});let P=e.createElement("a",l(l(l({},y),E),{},{href:a||S,onClick:k||d?s:function(e){s&&s(e),e.defaultPrevented||T(e)},ref:ct(n,C),target:h,"data-discover":N||"render"!==i?void 0:"true"}));return _&&!N?e.createElement(e.Fragment,null,P,e.createElement(at,{page:S})):P});ft.displayName="Link",e.forwardRef(function(t,n){let{"aria-current":a="page",caseSensitive:s=!1,className:i="",end:o=!1,style:c,to:d,viewTransition:u,children:m}=t,h=r(t,p),f=fe(d,{relative:h.relative}),g=de(),v=e.useContext(ee),{navigator:b,basename:y}=e.useContext(se),w=null!=v&&function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(ne);x(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=vt("useViewTransitionState"),s=fe(t,{relative:n});if(!r.isTransitioning)return!1;let i=U(r.currentLocation.pathname,a)||r.currentLocation.pathname,o=U(r.nextLocation.pathname,a)||r.nextLocation.pathname;return null!=I(s.pathname,o)||null!=I(s.pathname,i)}(f)&&!0===u,j=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,N=g.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(N=N.toLowerCase(),k=k?k.toLowerCase():null,j=j.toLowerCase()),k&&y&&(k=U(k,y)||k);const S="/"!==j&&j.endsWith("/")?j.length-1:j.length;let _,C=N===j||!o&&N.startsWith(j)&&"/"===N.charAt(S),E=null!=k&&(k===j||!o&&k.startsWith(j)&&"/"===k.charAt(j.length)),T={isActive:C,isPending:E,isTransitioning:w},P=C?a:void 0;_="function"===typeof i?i(T):[i,C?"active":null,E?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let L="function"===typeof c?c(T):c;return e.createElement(ft,l(l({},h),{},{"aria-current":P,className:_,ref:n,style:L,to:d,viewTransition:u}),"function"===typeof m?m(T):m)}).displayName="NavLink";var gt=e.forwardRef((t,n)=>{let{discover:a="render",fetcherKey:s,navigate:i,reloadDocument:o,replace:c,state:d,method:u=Re,action:m,onSubmit:p,relative:f,preventScrollReset:g,viewTransition:v}=t,b=r(t,h),y=wt(),j=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(se),a=e.useContext(oe);x(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),i=l({},fe(t||".",{relative:n})),o=de();if(null==t){i.search=o.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();i.search=n?"?".concat(n):""}}t&&"."!==t||!s.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(i.pathname="/"===i.pathname?r:K([r,i.pathname]));return w(i)}(m,{relative:f}),N="get"===u.toLowerCase()?"get":"post",k="string"===typeof m&&ht.test(m);return e.createElement("form",l(l({ref:n,method:N,action:j,onSubmit:o?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u;y(t||e.currentTarget,{fetcherKey:s,method:n,navigate:i,replace:c,state:d,relative:f,preventScrollReset:g,viewTransition:v})}},b),{},{"data-discover":k||"render"!==a?void 0:"true"}))});function xt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function vt(t){let n=e.useContext(Z);return x(n,xt(t)),n}gt.displayName="Form";var bt=0,yt=()=>"__".concat(String(++bt),"__");function wt(){let{router:t}=vt("useSubmit"),{basename:n}=e.useContext(se),r=Se("useRouteId");return e.useCallback(async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:i,encType:o,formData:l,body:c}=Ue(e,n);if(!1===a.navigate){let e=a.fetcherKey||yt();await t.fetch(e,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||i,formEncType:a.encType||o,flushSync:a.flushSync})}else await t.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||i,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,n,r])}class jt extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class Nt extends jt{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class kt extends jt{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class St extends jt{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var _t;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(_t||(_t={}));var Ct=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(Pc){s(Pc)}}function o(e){try{l(r.throw(e))}catch(Pc){s(Pc)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class Et{constructor(e){let{headers:t={},customFetch:r,region:a=_t.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return Ct(this,void 0,void 0,function*(){try{const{headers:r,method:a,body:s}=t;let i={},{region:o}=t;o||(o=this.region);const l=new URL("".concat(this.url,"/").concat(e));let c;o&&"any"!==o&&(i["x-region"]=o,l.searchParams.set("forceFunctionRegion",o)),s&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&s instanceof Blob||s instanceof ArrayBuffer?(i["Content-Type"]="application/octet-stream",c=s):"string"===typeof s?(i["Content-Type"]="text/plain",c=s):"undefined"!==typeof FormData&&s instanceof FormData?c=s:(i["Content-Type"]="application/json",c=JSON.stringify(s)));const d=yield this.fetch(l.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},i),this.headers),r),body:c}).catch(e=>{throw new Nt(e)}),u=d.headers.get("x-relay-error");if(u&&"true"===u)throw new kt(d);if(!d.ok)throw new St(d);let m,p=(null!==(n=d.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return m="application/json"===p?yield d.json():"application/octet-stream"===p?yield d.blob():"text/event-stream"===p?d:"multipart/form-data"===p?yield d.formData():yield d.text(),{data:m,error:null,response:d}}catch(r){return{data:null,error:r,response:r instanceof St||r instanceof kt?r.context:void 0}}})}}var Tt=n(980);const{PostgrestClient:Pt,PostgrestQueryBuilder:Lt,PostgrestFilterBuilder:At,PostgrestTransformBuilder:Ot,PostgrestBuilder:Dt,PostgrestError:Rt}=Tt;const zt=class{static dynamicRequire(e){try{return"undefined"!==typeof process&&process.versions&&process.versions.node?n(986)(e):null}catch(t){return null}}static detectEnvironment(){var e,t;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);if(e>=22)try{if("undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};const e=this.dynamicRequire("undici");if(e&&e.WebSocket)return{type:"native",constructor:e.WebSocket};throw new Error("undici not available")}catch(r){return{type:"unsupported",error:"Node.js ".concat(e," detected but native WebSocket not found."),workaround:'Install the "ws" package or check your Node.js installation.'}}try{const e=this.dynamicRequire("ws");if(e)return{type:"ws",constructor:null!==(t=e.WebSocket)&&void 0!==t?t:e};throw new Error("ws package not available")}catch(r){return{type:"unsupported",error:"Node.js ".concat(e," detected without WebSocket support."),workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},Mt="realtime-js/".concat("2.15.0"),It=1e4;var Ft,Bt,Ut,Wt,Ht,qt;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Ft||(Ft={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Bt||(Bt={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Ut||(Ut={})),function(e){e.websocket="websocket"}(Wt||(Wt={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Ht||(Ht={}));class Vt{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2);let s=this.HEADER_LENGTH+2;const i=n.decode(e.slice(s,s+r));s+=r;const o=n.decode(e.slice(s,s+a));s+=a;return{ref:null,topic:i,event:o,payload:JSON.parse(n.decode(e.slice(s,e.byteLength)))}}}class Kt{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(qt||(qt={}));const Gt=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,a)=>(n[a]=Yt(a,e,t,r),n),{})},Yt=(e,t,n,r)=>{const a=t.find(t=>t.name===e),s=null===a||void 0===a?void 0:a.type,i=n[e];return s&&!r.includes(s)?Jt(s,i):$t(i)},Jt=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return en(t,n)}switch(e){case qt.bool:return Qt(t);case qt.float4:case qt.float8:case qt.int2:case qt.int4:case qt.int8:case qt.numeric:case qt.oid:return Xt(t);case qt.json:case qt.jsonb:return Zt(t);case qt.timestamp:return tn(t);case qt.abstime:case qt.date:case qt.daterange:case qt.int4range:case qt.int8range:case qt.money:case qt.reltime:case qt.text:case qt.time:case qt.timestamptz:case qt.timetz:case qt.tsrange:case qt.tstzrange:default:return $t(t)}},$t=e=>e,Qt=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Xt=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Zt=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},en=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const s=e.slice(1,n);try{r=JSON.parse("["+s+"]")}catch(a){r=s?s.split(","):[]}return r.map(e=>Jt(t,e))}return e},tn=e=>"string"===typeof e?e.replace(" ","T"):e,nn=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class rn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:It;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var an,sn,on,ln;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(an||(an={}));class cn{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cn.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=cn.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=cn.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const a=this.cloneDeep(e),s=this.transformState(t),i={},o={};return this.map(a,(e,t)=>{s[e]||(o[e]=t)}),this.map(s,(e,t)=>{const n=a[e];if(n){const r=t.map(e=>e.presence_ref),a=n.map(e=>e.presence_ref),s=t.filter(e=>a.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);s.length>0&&(i[e]=s),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(a,{joins:i,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,(t,r)=>{var a;const s=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),s.length>0){const n=e[t].map(e=>e.presence_ref),r=s.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,s,r)}),this.map(s,(t,n)=>{let a=e[t];if(!a)return;const s=n.map(e=>e.presence_ref);a=a.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=a,r(t,a,n),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(sn||(sn={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(on||(on={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(ln||(ln={}));class dn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new rn(this,Ut.join,this.params,this.timeout),this.rejoinTimer=new Kt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=Bt.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ut.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new cn(this),this.broadcastEndpointURL=nn(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:a,presence:s,private:i}}=this.params,o=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],l=!!this.bindings[on.PRESENCE]&&this.bindings[on.PRESENCE].length>0,c={},d={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:l}),postgres_changes:o,private:i};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(ln.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(ln.CLOSED)),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,a=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,s=[];for(let r=0;r<a;r++){const a=t[r],{filter:{event:i,schema:o,table:l,filter:c}}=a,d=n&&n[r];if(!d||d.event!==i||d.schema!==o||d.table!==l||d.filter!==c)return this.unsubscribe(),this.state=Bt.errored,void(null===e||void 0===e||e(ln.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},a),{id:d.id}))}return this.bindings.postgres_changes=s,void(e&&e(ln.SUBSCRIBED))}null===e||void 0===e||e(ln.SUBSCRIBED)}).receive("error",t=>{this.state=Bt.errored,null===e||void 0===e||e(ln.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(ln.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===Bt.joined&&e===on.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,a,s;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===s?void 0:s.ack)||n("ok"),i.receive("ok",()=>n("ok")),i.receive("error",()=>n("error")),i.receive("timeout",()=>n("timed out"))});{const{event:s,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Bt.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(Ut.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new rn(this,Ut.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout(()=>r.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),s}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new rn(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const s=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=Ut;if(n&&[i,o,l,c].indexOf(s)>=0&&n!==this._joinRef())return;let d=this._onMessage(s,t,n);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===s}).map(e=>e.callback(d,n)):null===(a=this.bindings[s])||void 0===a||a.filter(e=>{var n,r,a,i,o,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,i=null===(n=e.filter)||void 0===n?void 0:n.event;return s&&(null===(r=t.ids)||void 0===r?void 0:r.includes(s))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const n=null===(o=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"===typeof d&&"ids"in d){const e=d.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:s}=e,i={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:s};d=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(d,n)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&dn.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ut.close,{},e)}_onError(e){this._on(Ut.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Gt(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Gt(e.columns,e.old_record)),t}}const un=()=>{},mn=25e3,pn=10,hn=100,fn=[1e3,2e3,5e3,1e4];class gn{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=It,this.transport=null,this.heartbeatIntervalMs=mn,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=un,this.ref=0,this.reconnectTimer=null,this.logger=un,this.conn=null,this.sendBuffer=[],this.serializer=new Vt,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)}).catch(e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")})}:fetch),function(){return t(...arguments)}},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(Wt.websocket),this.httpEndpoint=nn(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zt.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error("WebSocket not available: ".concat(e.message))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ft.connecting:return Ht.Connecting;case Ft.open:return Ht.Open;case Ft.closing:return Ht.Closing;default:return Ht.Closed}}isConnected(){return this.connectionState()===Ht.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new dn("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:a}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(a,")"),r),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},hn);this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{"phoenix"===e.topic&&"phx_reply"===e.event&&this.heartbeatCallback("ok"===e.payload.status?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:r,ref:a}=e,s=a?"(".concat(a,")"):"",i=r.status||"";this.log("receive","".concat(i," ").concat(t," ").concat(n," ").concat(s).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ut.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:Mt};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(Ut.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(Pc){this.log("error","error in ".concat(e," callback"),Pc)}})}catch(Pc){this.log("error","error triggering ".concat(e," callbacks"),Pc)}}_setupReconnectionTimer(){this.reconnectTimer=new Kt(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pn)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,a,s,i,o,l;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:It,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:mn,this.worker=null!==(a=null===e||void 0===e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(s=null===e||void 0===e?void 0:e.accessToken)&&void 0!==s?s:null,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(i=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==i?i:e=>fn[e-1]||1e4,this.encode=null!==(o=null===e||void 0===e?void 0:e.encode)&&void 0!==o?o:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(l=null===e||void 0===e?void 0:e.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class xn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function vn(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class bn extends xn{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yn extends xn{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var wn=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(Pc){s(Pc)}}function o(e){try{l(r.throw(e))}catch(Pc){s(Pc)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const jn=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Nn=e=>{if(Array.isArray(e))return e.map(e=>Nn(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const a=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=Nn(r)}),t};var kn=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(Pc){s(Pc)}}function o(e){try{l(r.throw(e))}catch(Pc){s(Pc)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const Sn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_n=(e,t,r)=>kn(void 0,void 0,void 0,function*(){const a=yield wn(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response});e instanceof a&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(n=>{const r=e.status||500,a=(null===n||void 0===n?void 0:n.statusCode)||r+"";t(new bn(Sn(n),r,a))}).catch(e=>{t(new yn(Sn(e),e))}):t(new yn(Sn(e),e))}),Cn=(e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,Object.assign(Object.assign({},a),n)):a};function En(e,t,n,r,a,s){return kn(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(n,Cn(t,r,a,s)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>_n(e,o,r))})})}function Tn(e,t,n,r){return kn(this,void 0,void 0,function*(){return En(e,"GET",t,n,r)})}function Pn(e,t,n,r,a){return kn(this,void 0,void 0,function*(){return En(e,"POST",t,r,a,n)})}function Ln(e,t,n,r,a){return kn(this,void 0,void 0,function*(){return En(e,"PUT",t,r,a,n)})}function An(e,t,n,r,a){return kn(this,void 0,void 0,function*(){return En(e,"DELETE",t,r,a,n)})}var On=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(Pc){s(Pc)}}function o(e){try{l(r.throw(e))}catch(Pc){s(Pc)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const Dn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=jn(r)}uploadOrUpdate(e,t,n,r){return On(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},Rn),r);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const o=s.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=n,i["cache-control"]="max-age=".concat(s.cacheControl),i["content-type"]=s.contentType,o&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===r||void 0===r?void 0:r.headers)&&(i=Object.assign(Object.assign({},i),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=yield("PUT"==e?Ln:Pn)(this.fetch,"".concat(this.url,"/object/").concat(c),a,Object.assign({headers:i},(null===s||void 0===s?void 0:s.duplex)?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(vn(a))return{data:null,error:a};throw a}})}upload(e,t,n){return On(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return On(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),i=new URL(this.url+"/object/upload/sign/".concat(s));i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Rn.upsert},r),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,s["cache-control"]="max-age=".concat(t.cacheControl),s["content-type"]=t.contentType);return{data:{path:a,fullPath:(yield Ln(this.fetch,i.toString(),e,{headers:s})).Key},error:null}}catch(o){if(vn(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return On(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const a=yield Pn(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:r}),s=new URL(this.url+a.url),i=s.searchParams.get("token");if(!i)throw new xn("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:i},error:null}}catch(n){if(vn(n))return{data:null,error:n};throw n}})}update(e,t,n){return On(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return On(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(vn(r))return{data:null,error:r};throw r}})}copy(e,t,n){return On(this,void 0,void 0,function*(){try{return{data:{path:(yield Pn(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(vn(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return On(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),a=yield Pn(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const s=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return a={signedUrl:encodeURI("".concat(this.url).concat(a.signedURL).concat(s))},{data:a,error:null}}catch(r){if(vn(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return On(this,void 0,void 0,function*(){try{const r=yield Pn(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),a=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(a)):null})),error:null}}catch(r){if(vn(r))return{data:null,error:r};throw r}})}download(e,t){return On(this,void 0,void 0,function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=r?"?".concat(r):"";try{const t=this._getFinalPath(e),r=yield Tn(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(t).concat(a),{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(s){if(vn(s))return{data:null,error:s};throw s}})}info(e){return On(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield Tn(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:Nn(e),error:null}}catch(n){if(vn(n))return{data:null,error:n};throw n}})}exists(e){return On(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return kn(this,void 0,void 0,function*(){return En(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(n){if(vn(n)&&n instanceof yn){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&r.push(a);const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&r.push(i);let o=r.join("&");return""!==o&&(o="?".concat(o)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(s,"/public/").concat(n).concat(o))}}}remove(e){return On(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(vn(t))return{data:null,error:t};throw t}})}list(e,t,n){return On(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Dn),t),{prefix:e||""});return{data:yield Pn(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},n),error:null}}catch(r){if(vn(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const Mn={"X-Client-Info":"storage-js/".concat("2.10.4")};var In=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(Pc){s(Pc)}}function o(e){try{l(r.throw(e))}catch(Pc){s(Pc)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class Fn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const a=new URL(e);if(null===r||void 0===r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."))}this.url=a.href,this.headers=Object.assign(Object.assign({},Mn),t),this.fetch=jn(n)}listBuckets(){return In(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(vn(e))return{data:null,error:e};throw e}})}getBucket(e){return In(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(vn(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return In(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(vn(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return In(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(vn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return In(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(vn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return In(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(vn(t))return{data:null,error:t};throw t}})}}class Bn extends Fn{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new zn(this.url,this.headers,e,this.fetch)}}let Un="";Un="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Wn={headers:{"X-Client-Info":"supabase-js-".concat(Un,"/").concat("2.54.0")}},Hn={schema:"public"},qn={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vn={};var Kn=n(630),Gn=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(Pc){s(Pc)}}function o(e){try{l(r.throw(e))}catch(Pc){s(Pc)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const Yn=e=>{let t;return t=e||("undefined"===typeof fetch?Kn.default:fetch),function(){return t(...arguments)}},Jn=(e,t,n)=>{const r=Yn(n),a="undefined"===typeof Headers?Kn.Headers:Headers;return(n,s)=>Gn(void 0,void 0,void 0,function*(){var i;const o=null!==(i=yield t())&&void 0!==i?i:e;let l=new a(null===s||void 0===s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(o)),r(n,Object.assign(Object.assign({},s),{headers:l}))})};var $n=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(Pc){s(Pc)}}function o(e){try{l(r.throw(e))}catch(Pc){s(Pc)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const Qn="2.71.1",Xn=3e4,Zn=9e4,er={"X-Client-Info":"gotrue-js/".concat(Qn)},tr="X-Supabase-Api-Version",nr={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},rr=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class ar extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function sr(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class ir extends ar{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class or extends ar{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class lr extends ar{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class cr extends lr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class dr extends lr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ur extends lr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class mr extends lr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pr extends lr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hr extends lr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function fr(e){return sr(e)&&"AuthRetryableFetchError"===e.name}class gr extends lr{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class xr extends lr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const vr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),br=" \t\n\r=".split(""),yr=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<br.length;t+=1)e[br[t].charCodeAt(0)]=-2;for(let t=0;t<vr.length;t+=1)e[vr[t].charCodeAt(0)]=t;return e})();function wr(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(vr[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(vr[e]),t.queuedBits-=6}}function jr(e,t,n){const r=yr[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Nr(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let i=0;i<e.length;i+=1)jr(e.charCodeAt(i),a,s);return t.join("")}function kr(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function Sr(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}kr(r,t)}}function _r(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)jr(e.charCodeAt(a),n,r);return new Uint8Array(t)}function Cr(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>wr(e,n,r)),wr(null,n,r),t.join("")}const Er=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Tr={tested:!1,writable:!1},Pr=()=>{if(!Er())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(Pc){return!1}if(Tr.tested)return Tr.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Tr.tested=!0,Tr.writable=!0}catch(Pc){Tr.tested=!0,Tr.writable=!1}return Tr.writable};const Lr=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Ar=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Or=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},Dr=async(e,t)=>{await e.removeItem(t)};class Rr{constructor(){this.promise=new Rr.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function zr(e){const t=e.split(".");if(3!==t.length)throw new xr("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!rr.test(t[n]))throw new xr("JWT not in base64url format");return{header:JSON.parse(Nr(t[0])),payload:JSON.parse(Nr(t[1])),signature:_r(t[2]),raw:{header:t[0],payload:t[1]}}}function Mr(e){return("0"+e.toString(16)).substr(-2)}async function Ir(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Mr).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await Ar(e,"".concat(t,"-code-verifier"),a);const s=await Ir(r);return[s,r===s?"plain":"s256"]}Rr.promiseConstructor=Promise;const Br=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Ur=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wr(e){if(!Ur.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hr(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function qr(e){return JSON.parse(JSON.stringify(e))}var Vr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const Kr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Gr=[502,503,504];async function Yr(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new hr(Kr(e),0);if(Gr.includes(e.status))throw new hr(Kr(e),e.status);let r,a;try{r=await e.json()}catch(Pc){throw new or(Kr(Pc),Pc)}const s=function(e){const t=e.headers.get(tr);if(!t)return null;if(!t.match(Br))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(Pc){return null}}(e);if(s&&s.getTime()>=nr.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?a=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new gr(Kr(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new cr}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new gr(Kr(r),e.status,r.weak_password.reasons);throw new ir(Kr(r),e.status||500,a)}async function Jr(e,t,n,r){var a;const s=Object.assign({},null===r||void 0===r?void 0:r.headers);s[tr]||(s[tr]=nr.name),(null===r||void 0===r?void 0:r.jwt)&&(s.Authorization="Bearer ".concat(r.jwt));const i=null!==(a=null===r||void 0===r?void 0:r.query)&&void 0!==a?a:{};(null===r||void 0===r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,n,r,a,s){const i=((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,s);let o;try{o=await e(n,Object.assign({},i))}catch(Pc){throw console.error(Pc),new hr(Kr(Pc),0)}o.ok||await Yr(o);if(null===r||void 0===r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(Pc){await Yr(Pc)}}(e,t,n+o,{headers:s,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function $r(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Qr(e){const t=$r(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Xr(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Zr(e){return{data:e,error:null}}function ea(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s}=e,i=Vr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s},user:Object.assign({},i)},error:null}}function ta(e){return e}const na=["global","local","others"];var ra=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};class aa{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=Lr(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:na[0];if(na.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(na.join(", ")));try{return await Jr(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(sr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Jr(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Xr})}catch(n){if(sr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=ra(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await Jr(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:ea,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(sr(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Jr(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:Xr})}catch(t){if(sr(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Jr(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:ta});if(c.error)throw c.error;const d=await c.json(),u=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,m=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return m.length>0&&(m.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(sr(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Wr(e);try{return await Jr(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:Xr})}catch(t){if(sr(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Wr(e);try{return await Jr(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:Xr})}catch(n){if(sr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Wr(e);try{return await Jr(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:Xr})}catch(n){if(sr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Wr(e.userId);try{const{data:t,error:n}=await Jr(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(sr(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Wr(e.userId),Wr(e.id);try{return{data:await Jr(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(sr(t))return{data:null,error:t};throw t}}}function sa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ia=!!(globalThis&&Pr()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class oa extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class la extends oa{}async function ca(e,t,n){ia&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ia&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw ia&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new la('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(ia)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(Pc){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",Pc)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}ia&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{ia&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Pc){"undefined"!==typeof self&&(self.globalThis=self)}}();const da={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:er,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ua(e,t,n){return await n()}const ma={};class pa{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pa.nextInstanceID,pa.nextInstanceID+=1,this.instanceID>0&&Er()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},da),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new aa({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Lr(r.fetch),this.lock=r.lock||ua,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Er()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=ca:this.lock=ua,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:Pr()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sa(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=sa(this.memoryStorage)),Er()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Pc){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",Pc)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=ma[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){ma[this.storageKey]=Object.assign(Object.assign({},ma[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=ma[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ma[this.storageKey]=Object.assign(Object.assign({},ma[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(Qn,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(Pc){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Er()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return sr(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return sr(t)?{error:t}:{error:new or("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await Jr(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:$r}),{data:s,error:i}=a;if(i||!s)return{data:{user:null,session:null},error:i};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(sr(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:s}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await Fr(this.storage,this.storageKey)),a=await Jr(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},xform:$r})}else{if(!("phone"in e))throw new ur("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:i}=e;a=await Jr(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:s,data:null!==(n=null===i||void 0===i?void 0:i.data)&&void 0!==n?n:{},channel:null!==(r=null===i||void 0===i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:$r})}}const{data:s,error:i}=a;if(i||!s)return{data:{user:null,session:null},error:i};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(sr(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await Jr(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Qr})}else{if(!("phone"in e))throw new ur("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await Jr(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Qr})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new dr}}catch(t){if(sr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,n,r,a,s,i,o,l,c,d,u,m;let p,h;if("message"in e)p=e.message,h=e.signature;else{const{chain:u,wallet:m,statement:f,options:g}=e;let x;if(Er())if("object"===typeof m)x=m;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");x=e.solana}else{if("object"!==typeof m||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=m}const v=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in x&&x.signIn){const e=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),h=t.signature}else{if(!("signMessage"in x)||"function"!==typeof x.signMessage||!("publicKey"in x)||"object"!==typeof x||!x.publicKey||!("toBase58"in x.publicKey)||"function"!==typeof x.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=["".concat(v.host," wants you to sign in with your Solana account:"),x.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1","URI: ".concat(v.href),"Issued At: ".concat(null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(d=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===d?void 0:d.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await x.signMessage((new TextEncoder).encode(p),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");h=e}}try{const{data:t,error:n}=await Jr(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Cr(h)},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(m=e.options)||void 0===m?void 0:m.captchaToken}}:null),xform:$r});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new dr}}catch(f){if(sr(f))return{data:{user:null,session:null},error:f};throw f}}async _exchangeCodeForSession(e){const t=await Or(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await Jr(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:$r});if(await Dr(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new dr}}catch(a){if(sr(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:s}=e,i=await Jr(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:$r}),{data:o,error:l}=i;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new dr}}catch(t){if(sr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,a,s;try{if("email"in e){const{email:r,options:a}=e;let s=null,i=null;"pkce"===this.flowType&&([s,i]=await Fr(this.storage,this.storageKey));const{error:o}=await Jr(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:i},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:n}=e,{data:i,error:o}=await Jr(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(s=null===n||void 0===n?void 0:n.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o}}throw new ur("You must provide either an email or phone number.")}catch(i){if(sr(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:s,error:i}=await Jr(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:$r});if(i)throw i;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,l=s.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(r){if(sr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let a=null,s=null;return"pkce"===this.flowType&&([a,s]=await Fr(this.storage,this.storageKey)),await Jr(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:Zr})}catch(a){if(sr(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new cr;const{error:r}=await Jr(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(sr(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:a}=e,{error:s}=await Jr(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:s,error:i}=await Jr(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:i}}throw new ur("You must provide either an email or phone number and a type")}catch(t){if(sr(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(Pc){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Pc){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Zn;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await Or(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Hr()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Jr(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:Xr}):await this._useSession(async e=>{var t,n,r;const{data:a,error:s}=e;if(s)throw s;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Jr(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:Xr}):{data:{user:null},error:new cr}})}catch(t){if(sr(t))return function(e){return sr(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Dr(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new cr;const s=r.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await Fr(this.storage,this.storageKey));const{data:l,error:c}=await Jr(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:s.access_token,xform:Xr});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(sr(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new cr;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:s}=zr(e.access_token);if(s.exp&&(n=s.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:s}=await this._getUser(e.access_token);if(s)throw s;a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(sr(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new cr;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(sr(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Er())throw new mr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new mr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new pr("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new mr("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new pr("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:s,expires_in:i,expires_at:o,token_type:l}=e;if(!a||!i||!s||!l)throw new mr("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(i);let u=c+d;o&&(u=parseInt(o));const m=u-c;1e3*m<=Xn&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(m,"s, should have been closer to ").concat(d,"s"));const p=u-d;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,u,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,u,c);const{data:h,error:f}=await this._getUser(a);if(f)throw f;const g={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:d,expires_at:u,refresh_token:s,token_type:l,user:h.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(sr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Or(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{error:a};const s=null===(n=r.session)||void 0===n?void 0:n.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return sr(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Dr(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await Fr(this.storage,this.storageKey,!0));try{return await Jr(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(sr(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(sr(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,a,s,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await Jr(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(s=o.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0})});if(r)throw r;return Er()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(sr(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)throw s;return await Jr(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(sr(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const a=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Jr(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:$r})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&fr(t)&&Date.now()+n-a<Xn},new Promise((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await n(a);if(!r(a,null,t))return void e(t)}catch(Pc){if(!r(a,Pc))return void t(Pc)}})()}))}catch(a){if(this._debug(t,"error",a),sr(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Er()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Or(this.storage,this.storageKey);if(a&&this.userStorage){let t=await Or(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await Ar(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Hr()}else if(a&&!a.user&&!a.user){const e=await Or(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await Dr(this.storage,this.storageKey+"-user"),await Ar(this.storage,this.storageKey,a)):a.user=Hr()}if(this._debug(n,"session from storage",a),!this._isValidSession(a))return this._debug(n,"session is not valid"),void(null!==a&&await this._removeSession());const s=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<Zn;if(this._debug(n,"session has".concat(s?"":" not"," expired with margin of ").concat(Zn,"s")),s){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),fr(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(n,"error",a),void console.error(a)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new cr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new Rr;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new cr;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),sr(a)){const e={session:null,error:a};return fr(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(Pc){r.push(Pc)}});if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await Ar(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=qr(e);await Ar(this.storage,this.storageKey,r)}else{const e=qr(t);await Ar(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await Dr(this.storage,this.storageKey),await Dr(this.storage,this.storageKey+"-code-verifier"),await Dr(this.storage,this.storageKey+"-user"),this.userStorage&&await Dr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Er()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Pc){console.error("removing visibilitychange callback failed",Pc)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Xn);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/Xn);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(Xn,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(Pc){console.error("Auto refresh tick failed with error. This is likely a transient error.",Pc)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(Pc){if(!(Pc.isAcquireTimeout||Pc instanceof oa))throw Pc;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Er()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await Fr(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await Jr(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(sr(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)return{data:null,error:s};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await Jr(this.fetch,"POST","".concat(this.url,"/factors"),{body:i,headers:this.headers,jwt:null===(n=null===a||void 0===a?void 0:a.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===o||void 0===o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code="data:image/svg+xml;utf-8,".concat(o.totp.qr_code)),{data:o,error:null})})}catch(t){if(sr(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{data:null,error:a};const{data:s,error:i}=await Jr(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:i})})}catch(t){if(sr(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await Jr(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(sr(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),a=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=zr(r.access_token);let i=null;s.aal&&(i=s.aal);let o=i;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:i,nextLevel:o,currentAuthenticationMethods:s.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:a}=await Jr(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(a)throw a;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:a,signature:s,raw:{header:i,payload:o}}=zr(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:s},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),d=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,s,function(e){const t=[];return Sr(e,e=>t.push(e)),new Uint8Array(t)}("".concat(i,".").concat(o))))throw new xr("Invalid JWT signature");return{data:{claims:a,header:r,signature:s},error:null}}catch(n){if(sr(n))return{data:null,error:n};throw n}}}pa.nextInstanceID=0;const ha=pa;class fa extends ha{constructor(e){super(e)}}var ga=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(Pc){s(Pc)}}function o(e){try{l(r.throw(e))}catch(Pc){s(Pc)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class xa{constructor(e,t,n){var r,a,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(i);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c="sb-".concat(l.hostname.split(".")[0],"-auth-token"),d=function(e,t){var n,r;const{db:a,auth:s,realtime:i,global:o}=e,{db:l,auth:c,realtime:d,global:u}=t,m={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},u),o),{headers:Object.assign(Object.assign({},null!==(n=null===u||void 0===u?void 0:u.headers)&&void 0!==n?n:{}),null!==(r=null===o||void 0===o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:()=>$n(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}(null!==n&&void 0!==n?n:{},{db:Hn,realtime:Vn,auth:Object.assign(Object.assign({},qn),{storageKey:c}),global:Wn});this.storageKey=null!==(r=d.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=d.global.headers)&&void 0!==a?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(s=d.auth)&&void 0!==s?s:{},this.headers,d.global.fetch),this.fetch=Jn(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Pt(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Bn(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Et(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return ga(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:i,storageKey:o,flowType:l,lock:c,debug:d}=e;const u={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new fa({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),t),storageKey:o,autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:i,flowType:l,lock:c,debug:d,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new gn(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const va="https://evqerkqiquwxqlizdqmg.supabase.co",ba="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV2cWVya3FpcXV3eHFsaXpkcW1nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ2NzE0NTUsImV4cCI6MjA3MDI0NzQ1NX0.0hoqOOvJzRFX6zskur2HixoIW2XfAP0fMBwTMGcd7kw";const ya=((e,t,n)=>new xa(e,t,n))(va,ba,{auth:{persistSession:!0,storageKey:"supabase-auth",autoRefreshToken:!0,detectSessionInUrl:!0},global:{headers:{"X-Client-Info":"king-ezekiel-academy"}},realtime:{params:{eventsPerSecond:10}}});class wa{static async initializeTrial(e){try{const n=new Date,r=new Date;r.setDate(n.getDate()+this.TRIAL_DURATION_DAYS);const a={user_id:e,start_date:n.toISOString(),end_date:r.toISOString(),is_active:!0,created_at:(new Date).toISOString()};try{const{error:e}=await ya.from("user_trials").insert(a);e&&console.log("Could not save trial to database, using localStorage fallback")}catch(t){console.log("Database not available, using localStorage fallback")}const s={isActive:!0,startDate:n.toISOString(),endDate:r.toISOString(),daysRemaining:this.TRIAL_DURATION_DAYS,isExpired:!1};return localStorage.setItem(this.TRIAL_STORAGE_KEY,JSON.stringify(s)),console.log("\u2705 Trial initialized for user:",e,s),s}catch(n){throw console.error("Failed to initialize trial:",n),n}}static async getTrialStatus(e){try{try{const{data:t,error:n}=await ya.from("user_trials").select("*").eq("user_id",e).eq("is_active",!0).single();if(!n&&t){const e=this.calculateTrialStatus(t.start_date,t.end_date);return console.log("\u2705 Found trial status in database:",e),e}}catch(t){console.log("Database query failed, checking localStorage fallback")}const r=localStorage.getItem(this.TRIAL_STORAGE_KEY);if(r)try{const e=JSON.parse(r),t=this.calculateTrialStatus(e.startDate,e.endDate);return localStorage.setItem(this.TRIAL_STORAGE_KEY,JSON.stringify(t)),console.log("\u2705 Using localStorage trial status:",t),t}catch(n){console.log("Failed to parse localStorage trial data")}const a={isActive:!1,startDate:"",endDate:"",daysRemaining:0,isExpired:!0};return console.log("No trial found for user:",e),a}catch(r){return console.error("Failed to get trial status:",r),{isActive:!1,startDate:"",endDate:"",daysRemaining:0,isExpired:!0}}}static async hasTrialAccess(e){try{const t=await this.getTrialStatus(e);return t.isActive&&!t.isExpired}catch(t){return console.error("Failed to check trial access:",t),!1}}static calculateTrialStatus(e,t){const n=new Date,r=new Date(t),a=n>r,s=r.getTime()-n.getTime();return{isActive:!a,startDate:e,endDate:t,daysRemaining:Math.max(0,Math.floor(s/864e5)),isExpired:a}}static async extendTrial(e,t){try{const r=await this.getTrialStatus(e);if(!r.isActive)throw new Error("Cannot extend expired trial");const a=new Date(r.endDate);a.setDate(a.getDate()+t);const s=l(l({},r),{},{endDate:a.toISOString(),daysRemaining:r.daysRemaining+t});try{const{error:t}=await ya.from("user_trials").update({end_date:a.toISOString(),updated_at:(new Date).toISOString()}).eq("user_id",e).eq("is_active",!0);t&&console.log("Could not update trial in database")}catch(n){console.log("Database not available for trial extension")}return localStorage.setItem(this.TRIAL_STORAGE_KEY,JSON.stringify(s)),console.log("\u2705 Trial extended for user:",e,"by",t,"days"),s}catch(r){throw console.error("Failed to extend trial:",r),r}}static async endTrial(e){try{try{const{error:t}=await ya.from("user_trials").update({is_active:!1,ended_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}).eq("user_id",e).eq("is_active",!0);t&&console.log("Could not end trial in database")}catch(t){console.log("Database not available for ending trial")}localStorage.removeItem(this.TRIAL_STORAGE_KEY),console.log("\u2705 Trial ended for user:",e)}catch(n){throw console.error("Failed to end trial:",n),n}}static getTrialExpirationMessage(e){return 0===e?"Your free trial has expired. Subscribe now to continue learning!":1===e?"Your free trial expires tomorrow. Subscribe now to keep learning!":e<=3?"Your free trial expires in ".concat(e," days. Subscribe now to keep learning!"):"You have ".concat(e," days left in your free trial.")}static shouldShowTrialBanner(e){return e<=3&&e>0}static resetTrialForTesting(e){try{localStorage.removeItem(this.TRIAL_STORAGE_KEY);const e=new Date,t=new Date;t.setDate(e.getDate()+this.TRIAL_DURATION_DAYS),t.setHours(23,59,59,999);const n={isActive:!0,startDate:e.toISOString(),endDate:t.toISOString(),daysRemaining:this.TRIAL_DURATION_DAYS,isExpired:!1};localStorage.setItem(this.TRIAL_STORAGE_KEY,JSON.stringify(n)),console.log("\u2705 Trial reset for testing:",n)}catch(t){console.error("Failed to reset trial for testing:",t)}}}wa.TRIAL_DURATION_DAYS=7,wa.TRIAL_STORAGE_KEY="user_trial_status";const ja=wa;var Na=n(579);const ka=(0,e.createContext)(void 0),Sa=()=>{const t=(0,e.useContext)(ka);if(void 0===t)throw new Error("useAuth must be used within an AuthProvider");return t},_a=t=>{let{children:n}=t;const[r,a]=(0,e.useState)(null),[s,i]=(0,e.useState)(null),[o,c]=(0,e.useState)(!0),[d,u]=(0,e.useState)(!0),[m,p]=(0,e.useState)(!1),[h,f]=(0,e.useState)(null),g=(0,e.useRef)(null),x=(0,e.useRef)(!1),v=(0,e.useRef)(!1),b=(0,e.useCallback)(async e=>{if(x.current)console.log("fetchProfile already in progress, skipping");else{x.current=!0,c(!0);try{console.log("fetchProfile called");let l=e;if(!l){console.log("No userId provided, checking current session...");try{var t;const{data:{session:e}}=await ya.auth.getSession();l=null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.id,console.log("Session user ID:",l)}catch(i){return console.error("Error getting session:",i),void c(!1)}}if(!l)return console.log("No user ID available"),void c(!1);console.log("Using user ID:",l),console.log("About to query profiles table...");const{data:d,error:m}=await ya.from("profiles").select("*").eq("id",l).single();if(console.log("Query result:",{data:d,error:m}),m){var n,r,s;if(console.error("Error fetching profile:",m),console.error("Error details:",{code:m.code,message:m.message,details:m.details}),"PGRST303"===m.code||null!==(n=m.message)&&void 0!==n&&n.includes("JWT expired")){console.log("JWT expired, attempting to refresh session...");try{const{data:t,error:n}=await ya.auth.refreshSession();if(n)return console.error("Failed to refresh session:",n),await ya.auth.signOut(),a(null),p(!1),void c(!1);if(t.session)return console.log("Session refreshed successfully, retrying profile fetch..."),void setTimeout(()=>{x.current&&(x.current=!1),y(e)},1e3)}catch(o){return console.error("Error during session refresh:",o),await ya.auth.signOut(),a(null),p(!1),void c(!1)}}return null!==(r=m.message)&&void 0!==r&&r.includes("Failed to fetch")||null!==(s=m.message)&&void 0!==s&&s.includes("ERR_NAME_NOT_RESOLVED")?(console.log("Network connectivity issue detected, will retry in 5 seconds..."),void setTimeout(()=>{x.current&&(x.current=!1),y(e)},5e3)):("PGRST116"===m.code?console.log("Profile not found, this might be a new user"):console.log("Database error, but keeping user logged in"),void c(!1))}console.log("Profile data fetched:",d),a(d);const h="admin"===d.role;p(h),h?console.log("\ud83c\udf89 User is ADMIN! Granting admin privileges..."):console.log("User role:",d.role),c(!1),u(!1)}catch(l){console.error("Error fetching profile:",l),console.error("Full error object:",l),c(!1),u(!1)}finally{x.current=!1}}},[]),y=(0,e.useCallback)(e=>{g.current&&clearTimeout(g.current),x.current?console.log("fetchProfile already in progress, skipping"):g.current=setTimeout(()=>{b(e)},300)},[b]);(0,e.useEffect)(()=>{(async()=>{if(v.current)console.log("Already initialized, skipping initial session check");else{v.current=!0;try{var e;const{data:{session:n}}=await ya.auth.getSession();if(console.log("Initial session check:",null===n||void 0===n||null===(e=n.user)||void 0===e?void 0:e.id),null!==n&&void 0!==n&&n.user&&!r){console.log("Initial session found, fetching profile...");const e=n.expires_at,r=Math.floor(Date.now()/1e3);if(e-r<300){console.log("Session expiring soon, refreshing...");try{const{data:e,error:t}=await ya.auth.refreshSession();t?console.error("Failed to refresh session:",t):e.session&&console.log("Session refreshed proactively")}catch(t){console.error("Error during proactive session refresh:",t)}}y(n.user.id)}else null!==n&&void 0!==n&&n.user&&r?(console.log("Initial session found, but user data already exists, skipping profile fetch"),c(!1),u(!1)):(console.log("No initial session found"),c(!1),u(!1))}catch(n){console.error("Error checking initial session:",n),c(!1),u(!1)}}})();const{data:{subscription:e}}=ya.auth.onAuthStateChange(async(e,t)=>{var n;console.log("Auth state change:",e,null===t||void 0===t||null===(n=t.user)||void 0===n?void 0:n.id),"SIGNED_IN"===e?null===t||void 0===t||!t.user||x.current||r||(console.log("User signed in, fetching profile..."),y(t.user.id)):"TOKEN_REFRESHED"===e?null===t||void 0===t||!t.user||x.current||r?console.log("Token refreshed, but user data already exists, skipping profile fetch"):(console.log("Token refreshed, fetching profile..."),y(t.user.id)):"SIGNED_OUT"===e&&(console.log("User signed out, clearing state"),a(null),p(!1),c(!1),u(!1),x.current=!1,v.current=!1,h&&h())});return()=>{e.unsubscribe(),g.current&&clearTimeout(g.current)}},[h,y,r]);const w={user:r,session:s,loading:o,isAdmin:m,signUp:async(e,t,n)=>{const{data:r,error:a}=await ya.auth.signUp({email:e,password:t,options:{data:{name:n}}});if(r.user&&!a){await new Promise(e=>setTimeout(e,1e3));const{error:t}=await ya.rpc("create_profile",{p_id:r.user.id,p_name:n,p_email:e,p_bio:null,p_role:"student"});if(t)console.error("Error creating profile:",t);else{console.log("Profile created successfully");try{await ja.initializeTrial(r.user.id),console.log("\u2705 7-day free trial initialized for new user")}catch(s){console.error("Failed to initialize trial:",s)}}}return{user:r.user,session:r.session,error:a}},signIn:async(e,t)=>{var n;console.log("signIn called with email:",e);const{data:r,error:a}=await ya.auth.signInWithPassword({email:e,password:t});return console.log("signIn result:",{user:null===(n=r.user)||void 0===n?void 0:n.id,session:!!r.session,error:a}),r.user&&!a&&console.log("\u2705 Sign in successful! Checking for admin privileges..."),{user:r.user,session:r.session,error:a}},signOut:async()=>{await ya.auth.signOut(),a(null),i(null),p(!1),h&&h()},fetchProfile:b,updateProfile:async e=>{if(!r)return{error:null};const{error:t}=await ya.from("profiles").update(e).eq("id",r.id);return t||a(l(l({},r),e)),{error:t}},resetPassword:async e=>{const{error:t}=await ya.auth.resetPasswordForEmail(e);return{error:t}},onSignOut:h,setOnSignOut:f};return(0,Na.jsx)(ka.Provider,{value:w,children:n})};var Ca={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ea=e.createContext&&e.createContext(Ca),Ta=function(){return Ta=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ta.apply(this,arguments)},Pa=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function La(t){return t&&t.map(function(t,n){return e.createElement(t.tag,Ta({key:n},t.attr),La(t.child))})}function Aa(t){return function(n){return e.createElement(Oa,Ta({attr:Ta({},t.attr)},n),La(t.child))}}function Oa(t){var n=function(n){var r,a=t.attr,s=t.size,i=t.title,o=Pa(t,["attr","size","title"]),l=s||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",Ta({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,o,{className:r,style:Ta(Ta({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&e.createElement("title",null,i),t.children)};return void 0!==Ea?e.createElement(Ea.Consumer,null,function(e){return n(e)}):n(Ca)}function Da(e){return Aa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(e)}function Ra(e){return Aa({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(e)}function za(e){return Aa({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(e)}function Ma(e){return Aa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(e)}function Ia(e){return Aa({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"}}]})(e)}function Fa(e){return Aa({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function Ba(e){return Aa({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"}}]})(e)}function Ua(e){return Aa({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"}}]})(e)}function Wa(e){return Aa({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function Ha(e){return Aa({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"}}]})(e)}function qa(e){return Aa({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"}}]})(e)}function Va(e){return Aa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"}}]})(e)}function Ka(e){return Aa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"}}]})(e)}function Ga(e){return Aa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function Ya(e){return Aa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function Ja(e){return Aa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function $a(e){return Aa({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"}}]})(e)}function Qa(e){return Aa({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"}}]})(e)}function Xa(e){return Aa({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"}}]})(e)}function Za(e){return Aa({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(e)}function es(e){return Aa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function ts(e){return Aa({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function ns(e){return Aa({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function rs(e){return Aa({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"}}]})(e)}function as(e){return Aa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"}}]})(e)}function ss(e){return Aa({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"}}]})(e)}function is(e){return Aa({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"}}]})(e)}function os(e){return Aa({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"}}]})(e)}function ls(e){return Aa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}}]})(e)}function cs(e){return Aa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"}}]})(e)}function ds(e){return Aa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(e)}function us(e){return Aa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"}}]})(e)}function ms(e){return Aa({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M255.03 261.65c6.25 6.25 16.38 6.25 22.63 0l11.31-11.31c6.25-6.25 6.25-16.38 0-22.63L253.25 192l35.71-35.72c6.25-6.25 6.25-16.38 0-22.63l-11.31-11.31c-6.25-6.25-16.38-6.25-22.63 0l-58.34 58.34c-6.25 6.25-6.25 16.38 0 22.63l58.35 58.34zm96.01-11.3l11.31 11.31c6.25 6.25 16.38 6.25 22.63 0l58.34-58.34c6.25-6.25 6.25-16.38 0-22.63l-58.34-58.34c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63L386.75 192l-35.71 35.72c-6.25 6.25-6.25 16.38 0 22.63zM624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"}}]})(e)}function ps(e){return Aa({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"}}]})(e)}function hs(e){return Aa({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function fs(e){return Aa({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function gs(e){return Aa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]})(e)}function xs(e){return Aa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"}}]})(e)}function vs(e){return Aa({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}}]})(e)}function bs(e){return Aa({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function ys(e){return Aa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"}}]})(e)}function ws(e){return Aa({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(e)}function js(e){return Aa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function Ns(e){return Aa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"}}]})(e)}function ks(e){return Aa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function Ss(e){return Aa({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(e)}function _s(e){return Aa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"}}]})(e)}function Cs(e){return Aa({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"}}]})(e)}function Es(e){return Aa({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function Ts(e){return Aa({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function Ps(e){return Aa({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"}}]})(e)}function Ls(e){return Aa({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 256H152V152.9c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v16c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-16C376 68 307.5-.3 223.5 0 139.5.3 72 69.5 72 153.5V256H48c-26.5 0-48 21.5-48 48v160c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"}}]})(e)}function As(e){return Aa({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function Os(e){return Aa({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}const Ds=()=>{const{user:t,signOut:n,setOnSignOut:r}=Sa(),[a,s]=(0,e.useState)(!1),i=de();(0,e.useEffect)(()=>(r(()=>()=>{window.location.href="/-king-ezekiel-academy"}),()=>r(null)),[r]);const o=[{name:"Home",path:"/"},{name:"Courses",path:"/courses"},{name:"Blog",path:"/blog"},{name:"About",path:"/about"},{name:"Contact",path:"/contact"}],l=[{name:"Sign In",path:"/signin"},{name:"Sign Up",path:"/signup"}],c=e=>i.pathname===e,d=async()=>{try{await n()}catch(e){window.location.href="/-king-ezekiel-academy"}};return(0,Na.jsxs)("nav",{className:"bg-white shadow-lg fixed w-full top-0 z-50",children:[(0,Na.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Na.jsxs)("div",{className:"flex justify-between h-16",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,Na.jsxs)(ft,{to:"/",className:"flex items-center space-x-2",children:[(0,Na.jsx)(is,{className:"h-8 w-8 text-primary-500"}),(0,Na.jsx)("span",{className:"text-xl font-bold text-secondary-900",children:"King Ezekiel Academy"})]}),t&&(0,Na.jsxs)(ft,{to:"/profile",className:"flex items-center space-x-2 px-3 py-1 bg-primary-50 rounded-lg border border-primary-200 hover:bg-primary-100 hover:border-primary-300 transition-all duration-200 cursor-pointer group",title:"Click to view profile",children:[(0,Na.jsx)(As,{className:"h-4 w-4 text-primary-600 group-hover:text-primary-700"}),(0,Na.jsx)("span",{className:"text-sm font-medium text-primary-700 group-hover:text-primary-800",children:(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.email)||"Student"}),(0,Na.jsx)("svg",{className:"h-3 w-3 text-primary-500 group-hover:text-primary-600 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),(0,Na.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[o.map(e=>(0,Na.jsx)(ft,{to:e.path,className:"text-sm font-medium transition-colors duration-200 ".concat(c(e.path)?"text-primary-500 border-b-2 border-primary-500":"text-secondary-700 hover:text-primary-500"),children:e.name},e.name)),t&&(0,Na.jsx)(ft,{to:"/dashboard",className:"text-sm font-medium transition-colors duration-200 ".concat(c("/dashboard")?"text-primary-500 border-b-2 border-primary-500":"text-secondary-700 hover:text-primary-500"),children:"Dashboard"})]}),(0,Na.jsx)("div",{className:"hidden md:flex items-center space-x-4",children:t?(0,Na.jsx)("div",{className:"flex items-center space-x-4",children:(0,Na.jsxs)("button",{onClick:d,className:"flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 transition-colors duration-200 cursor-pointer focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:[(0,Na.jsx)(ks,{}),(0,Na.jsx)("span",{children:"Sign Out"})]})}):l.map(e=>(0,Na.jsx)(ft,{to:e.path,className:"px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ".concat("Sign Up"===e.name?"bg-primary-900 text-white hover:bg-primary-800 shadow-md hover:shadow-lg transform hover:scale-105 font-semibold":"text-secondary-700 hover:text-primary-500"),children:e.name},e.name))}),(0,Na.jsx)("div",{className:"md:hidden flex items-center",children:(0,Na.jsx)("button",{onClick:()=>s(!a),className:"text-secondary-700 hover:text-primary-500 focus:outline-none focus:text-primary-500",children:a?(0,Na.jsx)(Es,{className:"h-6 w-6"}):(0,Na.jsx)(Wa,{className:"h-6 w-6"})})})]})}),a&&(0,Na.jsx)("div",{className:"md:hidden",children:(0,Na.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white shadow-lg",children:[o.map(e=>(0,Na.jsx)(ft,{to:e.path,className:"block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 ".concat(c(e.path)?"text-primary-500 bg-primary-50":"text-secondary-700 hover:text-primary-500 hover:bg-gray-50"),onClick:()=>s(!1),children:e.name},e.name)),t&&(0,Na.jsx)(ft,{to:"/dashboard",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 ".concat(c("/dashboard")?"text-primary-500 bg-primary-50":"text-secondary-700 hover:text-primary-500 hover:bg-gray-50"),onClick:()=>s(!1),children:"Dashboard"}),(0,Na.jsx)("div",{className:"pt-4 pb-3 border-t border-gray-200",children:t?(0,Na.jsxs)("div",{className:"space-y-2",children:[(0,Na.jsx)(ft,{to:"/profile",className:"block px-3 py-2 text-sm text-primary-700 bg-primary-50 rounded-md hover:bg-primary-100 transition-all duration-200",onClick:()=>s(!1),children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)(As,{className:"text-primary-500"}),(0,Na.jsx)("span",{className:"font-medium",children:(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.email)||"Student"})]})}),(0,Na.jsxs)("button",{onClick:()=>{d(),s(!1)},className:"flex items-center space-x-2 w-full px-3 py-2 rounded-md text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 transition-colors duration-200 cursor-pointer focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:[(0,Na.jsx)(ks,{}),(0,Na.jsx)("span",{children:"Sign Out"})]})]}):l.map(e=>(0,Na.jsx)(ft,{to:e.path,className:"block px-3 py-2 rounded-md text-base font-medium transition-all duration-200 ".concat("Sign Up"===e.name?"bg-primary-900 text-white hover:bg-primary-800 shadow-md hover:shadow-lg transform hover:scale-105 font-semibold":"text-secondary-700 hover:text-primary-500"),onClick:()=>s(!1),children:e.name},e.name))})]})})]})},Rs=()=>(0,Na.jsx)("footer",{className:"bg-gradient-to-br from-primary-50 to-secondary-50 text-primary-900",children:(0,Na.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12",children:[(0,Na.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Na.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl flex items-center justify-center",children:(0,Na.jsx)(is,{className:"h-6 w-6 text-primary-600"})}),(0,Na.jsx)("span",{className:"text-2xl font-bold text-primary-900",children:"King Ezekiel Academy"})]}),(0,Na.jsx)("p",{className:"text-primary-600 mb-8 max-w-md leading-relaxed",children:"Empowering students worldwide with quality education and digital skills training. Join our community of learners and transform your career today."}),(0,Na.jsxs)("div",{className:"flex space-x-4",children:[(0,Na.jsx)("a",{href:"#",className:"w-10 h-10 bg-primary-100 rounded-xl flex items-center justify-center text-primary-600 hover:bg-primary-200 hover:text-primary-700 transition-all duration-200",children:(0,Na.jsx)(Da,{className:"h-5 w-5"})}),(0,Na.jsx)("a",{href:"#",className:"w-10 h-10 bg-primary-100 rounded-xl flex items-center justify-center text-primary-600 hover:bg-primary-200 hover:text-primary-700 transition-all duration-200",children:(0,Na.jsx)(Ma,{className:"h-5 w-5"})}),(0,Na.jsx)("a",{href:"#",className:"w-10 h-10 bg-primary-100 rounded-xl flex items-center justify-center text-primary-600 hover:bg-primary-200 hover:text-primary-700 transition-all duration-200",children:(0,Na.jsx)(Ra,{className:"h-5 w-5"})}),(0,Na.jsx)("a",{href:"#",className:"w-10 h-10 bg-primary-100 rounded-xl flex items-center justify-center text-primary-600 hover:bg-primary-200 hover:text-primary-700 transition-all duration-200",children:(0,Na.jsx)(za,{className:"h-5 w-5"})})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-primary-900 mb-6",children:"Quick Links"}),(0,Na.jsxs)("ul",{className:"space-y-4",children:[(0,Na.jsx)("li",{children:(0,Na.jsx)(ft,{to:"/",className:"text-primary-600 hover:text-primary-700 transition-colors duration-200 flex items-center",children:"Home"})}),(0,Na.jsx)("li",{children:(0,Na.jsx)(ft,{to:"/courses",className:"text-primary-600 hover:text-primary-700 transition-colors duration-200 flex items-center",children:"Courses"})}),(0,Na.jsx)("li",{children:(0,Na.jsx)(ft,{to:"/about",className:"text-primary-600 hover:text-primary-700 transition-colors duration-200 flex items-center",children:"About Us"})}),(0,Na.jsx)("li",{children:(0,Na.jsx)(ft,{to:"/contact",className:"text-primary-600 hover:text-primary-700 transition-colors duration-200 flex items-center",children:"Contact"})})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-primary-900 mb-6",children:"Contact Info"}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Na.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-1",children:(0,Na.jsx)(fs,{className:"h-4 w-4 text-primary-600"})}),(0,Na.jsx)("span",{className:"text-primary-600 text-sm leading-relaxed",children:"123 Education St, Learning City"})]}),(0,Na.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Na.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-1",children:(0,Na.jsx)(xs,{className:"h-4 w-4 text-primary-600"})}),(0,Na.jsx)("span",{className:"text-primary-600 text-sm",children:"+1 (555) 123-4567"})]}),(0,Na.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Na.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-1",children:(0,Na.jsx)(es,{className:"h-4 w-4 text-primary-600"})}),(0,Na.jsx)("span",{className:"text-primary-600 text-sm",children:"info@kingezekielacademy.com"})]})]})]})]}),(0,Na.jsx)("div",{className:"border-t border-primary-200 mt-12 pt-8",children:(0,Na.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,Na.jsx)("p",{className:"text-primary-600 text-sm",children:"\xa9 2024 King Ezekiel Academy. All rights reserved."}),(0,Na.jsxs)("div",{className:"flex space-x-8 mt-4 md:mt-0",children:[(0,Na.jsx)(ft,{to:"/privacy",className:"text-primary-600 hover:text-primary-700 text-sm transition-colors duration-200",children:"Privacy Policy"}),(0,Na.jsx)(ft,{to:"/terms",className:"text-primary-600 hover:text-primary-700 text-sm transition-colors duration-200",children:"Terms of Service"})]})]})})]})}),zs=()=>{const[t,n]=(0,e.useState)(navigator.onLine),[r,a]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{const e=()=>{n(!0),a(!1)},t=()=>{n(!1),a(!0)};return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),t?null:(0,Na.jsx)("div",{className:"fixed top-16 left-0 right-0 z-50 bg-red-600 text-white px-4 py-2 text-center text-sm font-medium",children:(0,Na.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Na.jsx)(ts,{className:"w-4 h-4"}),(0,Na.jsx)("span",{children:"No internet connection. Please check your network and refresh the page."})]})})},Ms=t=>{let{children:n}=t;const{user:r,loading:a}=Sa(),s=pe();return(0,e.useEffect)(()=>{a||r||s("/signin")},[r,a,s]),a?(0,Na.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:(0,Na.jsx)("div",{className:"text-center",children:(0,Na.jsxs)("div",{className:"inline-flex items-center px-6 py-3 bg-blue-50 text-blue-700 rounded-lg",children:[(0,Na.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Na.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Na.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Checking authentication..."]})})}):r?(0,Na.jsx)(Na.Fragment,{children:n}):null},Is=t=>{let{children:n}=t;const{user:r,loading:a,isAdmin:s}=Sa(),i=pe();return(0,e.useEffect)(()=>{if(a||r)return a||!r||s?void 0:(console.log("\ud83d\udd12 Non-admin user attempted to access admin route, silently redirecting to dashboard"),void i("/dashboard",{replace:!0,state:{redirectedFrom:window.location.pathname}}));i("/signin")},[r,a,s,i]),a?(0,Na.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:(0,Na.jsx)("div",{className:"text-center",children:(0,Na.jsxs)("div",{className:"inline-flex items-center px-6 py-3 bg-blue-50 text-blue-700 rounded-lg",children:[(0,Na.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Na.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Na.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Checking authentication..."]})})}):r&&s?(0,Na.jsx)(Na.Fragment,{children:n}):null},Fs=()=>{const[t,n]=(0,e.useState)(!1);return(0,Na.jsxs)("section",{className:"relative bg-gradient-to-br from-white via-primary-50 to-secondary-50 text-primary-900 overflow-hidden",children:[(0,Na.jsxs)("div",{className:"absolute inset-0",children:[(0,Na.jsx)("div",{className:"absolute top-10 sm:top-20 left-5 sm:left-10 w-48 h-48 sm:w-72 sm:h-72 bg-primary-100 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse-slow"}),(0,Na.jsx)("div",{className:"absolute top-20 sm:top-40 right-5 sm:right-10 w-48 h-48 sm:w-72 sm:h-72 bg-secondary-100 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse-slow"}),(0,Na.jsx)("div",{className:"absolute -bottom-4 sm:-bottom-8 left-10 sm:left-20 w-48 h-48 sm:w-72 sm:h-72 bg-accent-100 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse-slow"})]}),(0,Na.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-20 lg:py-24 xl:py-32",children:(0,Na.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-center",children:[(0,Na.jsxs)("div",{className:"text-center lg:text-left order-1 lg:order-1",children:[(0,Na.jsxs)("div",{className:"inline-flex items-center px-4 py-2 bg-primary-100 text-primary-700 rounded-full text-sm font-medium mb-6",children:[(0,Na.jsx)(ys,{className:"mr-2 h-4 w-4"}),"Transform Your Career Today"]}),(0,Na.jsxs)("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold leading-tight mb-6 sm:mb-8",children:["Master Digital Skills",(0,Na.jsx)("br",{className:"hidden sm:block"}),(0,Na.jsx)("span",{className:"bg-gradient-to-r from-primary-600 to-primary-900 bg-clip-text text-transparent",children:"Transform Your Future"})]}),(0,Na.jsx)("p",{className:"text-xl md:text-2xl text-primary-700 mb-10 max-w-2xl leading-relaxed",children:"Join 10,000+ students who have transformed their careers with our world-class digital skills courses. Start your journey to success today."}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6 justify-center lg:justify-start mb-8 sm:mb-12",children:[(0,Na.jsxs)(ft,{to:"/courses",className:"group inline-flex items-center justify-center px-6 sm:px-8 py-3 sm:py-4 bg-primary-900 text-white font-semibold rounded-xl shadow-soft hover:shadow-glow transition-all duration-300 transform hover:scale-105 text-base sm:text-lg",children:[(0,Na.jsx)("span",{className:"mr-2",children:"Start Learning Now"}),(0,Na.jsx)(Ba,{className:"h-4 w-4 sm:h-5 sm:w-5 group-hover:translate-x-1 transition-transform duration-200"})]}),(0,Na.jsxs)("button",{onClick:()=>n(!0),className:"group inline-flex items-center justify-center px-6 sm:px-8 py-3 sm:py-4 border-2 border-primary-200 text-primary-700 font-semibold rounded-xl hover:bg-primary-50 hover:border-primary-300 transition-all duration-300 transform hover:scale-105 text-base sm:text-lg",children:[(0,Na.jsx)(vs,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5 group-hover:scale-110 transition-transform duration-200"}),"Watch Our Story"]})]}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center lg:justify-start space-y-2 sm:space-y-0 sm:space-x-6 mb-6 sm:mb-8",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)(Ns,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"}),(0,Na.jsx)("span",{className:"text-xs sm:text-sm text-primary-600 font-medium",children:"Trusted by 10,000+ students"})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)(Ja,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"}),(0,Na.jsx)("span",{className:"text-xs sm:text-sm text-primary-600 font-medium",children:"24/7 Access"})]})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 sm:gap-8",children:[(0,Na.jsxs)("div",{className:"text-center group",children:[(0,Na.jsx)("div",{className:"flex items-center justify-center mb-2 sm:mb-3",children:(0,Na.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-primary-100 rounded-xl flex items-center justify-center group-hover:bg-primary-200 transition-colors duration-200",children:(0,Na.jsx)(Os,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary-600"})})}),(0,Na.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-primary-900",children:"10,000+"}),(0,Na.jsx)("div",{className:"text-xs sm:text-sm text-primary-800 font-medium",children:"Students Taught"})]}),(0,Na.jsxs)("div",{className:"text-center group",children:[(0,Na.jsx)("div",{className:"flex items-center justify-center mb-2 sm:mb-3",children:(0,Na.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-primary-100 rounded-xl flex items-center justify-center group-hover:bg-primary-200 transition-colors duration-200",children:(0,Na.jsx)(is,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary-600"})})}),(0,Na.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-primary-900",children:"25+"}),(0,Na.jsx)("div",{className:"text-xs sm:text-sm text-primary-800 font-medium",children:"Courses Available"})]}),(0,Na.jsxs)("div",{className:"text-center group",children:[(0,Na.jsx)("div",{className:"flex items-center justify-center mb-2 sm:mb-3",children:(0,Na.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-primary-100 rounded-xl flex items-center justify-center group-hover:bg-primary-200 transition-colors duration-200",children:(0,Na.jsx)(Ss,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary-600"})})}),(0,Na.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-primary-900",children:"4.9/5"}),(0,Na.jsx)("div",{className:"text-xs sm:text-sm text-primary-800 font-medium",children:"Student Rating"})]}),(0,Na.jsxs)("div",{className:"text-center group",children:[(0,Na.jsx)("div",{className:"flex items-center justify-center mb-2 sm:mb-3",children:(0,Na.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-primary-100 rounded-xl flex items-center justify-center group-hover:bg-primary-200 transition-colors duration-200",children:(0,Na.jsx)(is,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary-600"})})}),(0,Na.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-primary-900",children:"\u20a62,500"}),(0,Na.jsx)("div",{className:"text-xs sm:text-sm text-primary-800 font-medium",children:"Per Month"})]})]})]}),(0,Na.jsxs)("div",{className:"relative order-2 lg:order-2",children:[(0,Na.jsx)("div",{className:"relative z-10",children:(0,Na.jsx)("div",{className:"bg-white rounded-3xl p-6 sm:p-8 shadow-soft border border-primary-100",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl flex items-center justify-center mx-auto mb-4 sm:mb-6 animate-float",children:(0,Na.jsx)(is,{className:"h-10 w-10 sm:h-12 sm:w-12 text-primary-600"})}),(0,Na.jsx)("h3",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4 text-primary-900",children:"Digital Skills Learning"}),(0,Na.jsx)("p",{className:"text-primary-800 mb-6 sm:mb-8 leading-relaxed font-medium text-sm sm:text-base",children:"Master the most in-demand digital skills with our comprehensive, industry-aligned courses"}),(0,Na.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 p-2 sm:p-3 bg-primary-50 rounded-lg",children:[(0,Na.jsx)("div",{className:"w-2 h-2 bg-primary-500 rounded-full"}),(0,Na.jsx)("span",{className:"text-xs sm:text-sm text-primary-900 font-semibold",children:"Web Development"})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 p-2 sm:p-3 bg-primary-50 rounded-lg",children:[(0,Na.jsx)("div",{className:"w-2 h-2 bg-primary-500 rounded-full"}),(0,Na.jsx)("span",{className:"text-xs sm:text-sm text-primary-900 font-semibold",children:"Digital Marketing"})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 p-2 sm:p-3 bg-primary-50 rounded-lg",children:[(0,Na.jsx)("div",{className:"w-2 h-2 bg-primary-500 rounded-full"}),(0,Na.jsx)("span",{className:"text-xs sm:text-sm text-primary-900 font-semibold",children:"UI/UX Design"})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 p-2 sm:p-3 bg-primary-50 rounded-lg",children:[(0,Na.jsx)("div",{className:"w-2 h-2 bg-primary-500 rounded-full"}),(0,Na.jsx)("span",{className:"text-xs sm:text-sm text-primary-900 font-semibold",children:"Data Analytics"})]})]})]})})}),(0,Na.jsx)("div",{className:"absolute -top-2 -right-2 sm:-top-4 sm:-right-4 w-16 h-16 sm:w-20 sm:h-20 bg-primary-200 rounded-full opacity-60 animate-float"}),(0,Na.jsx)("div",{className:"absolute -bottom-2 -left-2 sm:-bottom-4 sm:-left-4 w-12 h-12 sm:w-16 sm:h-16 bg-secondary-200 rounded-full opacity-60 animate-float",style:{animationDelay:"2s"}}),(0,Na.jsx)("div",{className:"absolute top-1/2 -right-4 sm:-right-8 w-8 h-8 sm:w-12 sm:h-12 bg-accent-200 rounded-full opacity-60 animate-float",style:{animationDelay:"4s"}})]})]})}),(0,Na.jsx)("div",{className:"absolute bottom-0 left-0 right-0",children:(0,Na.jsxs)("svg",{viewBox:"0 0 1200 120",preserveAspectRatio:"none",className:"w-full h-auto",children:[(0,Na.jsx)("path",{d:"M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z",opacity:".1",fill:"#092540"}),(0,Na.jsx)("path",{d:"M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z",opacity:".2",fill:"#092540"}),(0,Na.jsx)("path",{d:"M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z",fill:"#092540"})]})}),t&&(0,Na.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm px-4",onClick:()=>n(!1),"aria-modal":"true",role:"dialog","aria-label":"Watch Our Story",children:(0,Na.jsxs)("div",{className:"relative w-full max-w-4xl bg-white/5 rounded-2xl shadow-2xl ring-1 ring-white/10 animate-[fadeIn_.2s_ease-out]",onClick:e=>e.stopPropagation(),children:[(0,Na.jsx)("button",{"aria-label":"Close",className:"absolute -top-10 right-0 text-white/90 hover:text-white transition p-2",onClick:()=>n(!1),children:(0,Na.jsx)(Es,{className:"h-6 w-6"})}),(0,Na.jsx)("div",{className:"px-4 pt-4 pb-2 text-center",children:(0,Na.jsx)("h3",{className:"text-white text-lg font-semibold tracking-wide",children:"Our Story"})}),(0,Na.jsx)("div",{className:"px-4 pb-4",children:(0,Na.jsx)("div",{className:"aspect-video w-full overflow-hidden rounded-xl bg-black",children:(0,Na.jsx)("iframe",{className:"w-full h-full",src:"https://www.youtube.com/embed/ysz5S6PUM-U?autoplay=1&rel=0&modestbranding=1",title:"King Ezekiel Academy \u2014 Our Story",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),(0,Na.jsx)("div",{className:"px-4 pb-5",children:(0,Na.jsx)("button",{onClick:()=>n(!1),className:"w-full inline-flex items-center justify-center px-6 py-3 rounded-xl bg-white/90 hover:bg-white text-primary-800 font-semibold transition",children:"Close"})})]})})]})},Bs=()=>(0,Na.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Na.jsx)(Fs,{}),(0,Na.jsxs)("section",{className:"py-12 sm:py-16 lg:py-20 bg-gradient-to-br from-primary-50 via-white to-secondary-50 relative overflow-hidden",children:[(0,Na.jsxs)("div",{className:"absolute inset-0",children:[(0,Na.jsx)("div",{className:"absolute top-10 left-10 w-64 h-64 bg-primary-100 rounded-full mix-blend-multiply filter blur-xl opacity-30"}),(0,Na.jsx)("div",{className:"absolute bottom-10 right-10 w-64 h-64 bg-secondary-100 rounded-full mix-blend-multiply filter blur-xl opacity-30"})]}),(0,Na.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Na.jsxs)("div",{className:"text-center mb-12 sm:mb-16",children:[(0,Na.jsxs)("div",{className:"inline-flex items-center px-3 sm:px-4 py-2 bg-primary-100 text-primary-700 rounded-full text-xs sm:text-sm font-medium mb-4 sm:mb-6",children:[(0,Na.jsx)(ys,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Premium Learning Experience"]}),(0,Na.jsx)("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-6 sm:mb-8 text-primary-900",children:"Unlock All 25+ Courses for Just \u20a62,500/month"}),(0,Na.jsx)("p",{className:"text-lg sm:text-xl md:text-2xl text-primary-700 mb-8 sm:mb-12 max-w-4xl mx-auto leading-relaxed",children:"Get unlimited access to our full library of 25+ expertly crafted courses designed to empower your skills and elevate your career."})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8 mb-12 sm:mb-16",children:[(0,Na.jsxs)("div",{className:"text-center group",children:[(0,Na.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:(0,Na.jsx)(is,{className:"h-10 w-10 text-primary-600"})}),(0,Na.jsx)("h3",{className:"text-lg font-semibold mb-3 text-primary-900",children:"Learn at your own pace"}),(0,Na.jsx)("p",{className:"text-primary-600",children:"24/7 access to all courses with lifetime updates"})]}),(0,Na.jsxs)("div",{className:"text-center group",children:[(0,Na.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:(0,Na.jsx)(Ss,{className:"h-10 w-10 text-primary-600"})}),(0,Na.jsx)("h3",{className:"text-lg font-semibold mb-3 text-primary-900",children:"New courses regularly"}),(0,Na.jsx)("p",{className:"text-primary-600",children:"Stay ahead with fresh, industry-relevant content"})]}),(0,Na.jsxs)("div",{className:"text-center group",children:[(0,Na.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:(0,Na.jsx)(Os,{className:"h-10 w-10 text-primary-600"})}),(0,Na.jsx)("h3",{className:"text-lg font-semibold mb-3 text-primary-900",children:"Expert instructors"}),(0,Na.jsx)("p",{className:"text-primary-600",children:"Learn from industry professionals and certified experts"})]}),(0,Na.jsxs)("div",{className:"text-center group",children:[(0,Na.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:(0,Na.jsx)(Ya,{className:"h-10 w-10 text-primary-600"})}),(0,Na.jsx)("h3",{className:"text-lg font-semibold mb-3 text-primary-900",children:"All skill levels"}),(0,Na.jsx)("p",{className:"text-primary-600",children:"Perfect for beginners and advanced learners alike"})]})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-3xl p-6 sm:p-8 lg:p-12 text-center shadow-soft border border-primary-100 relative overflow-hidden",children:[(0,Na.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-primary-500 to-primary-700"}),(0,Na.jsxs)("div",{className:"relative z-10",children:[(0,Na.jsx)("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-4 sm:mb-6 text-primary-900",children:"Start your 7-day FREE trial today!"}),(0,Na.jsx)("p",{className:"text-lg sm:text-xl text-primary-600 mb-6 sm:mb-8",children:"No commitment, cancel anytime. Join thousands of satisfied students."}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6 justify-center items-center",children:[(0,Na.jsxs)("button",{className:"group bg-gradient-to-r from-primary-700 to-primary-900 text-white font-bold py-3 sm:py-4 px-6 sm:px-8 rounded-xl text-base sm:text-lg transition-all duration-300 transform hover:scale-105 shadow-soft hover:shadow-glow",children:[(0,Na.jsx)("span",{className:"mr-2",children:"Subscribe Now \u2014 only \u20a62,500/month"}),(0,Na.jsx)(Ba,{className:"inline h-4 w-4 sm:h-5 sm:w-5 group-hover:translate-x-1 transition-transform duration-200"})]}),(0,Na.jsxs)(ft,{to:"/courses",className:"text-primary-600 hover:text-primary-700 font-semibold text-base sm:text-lg transition-colors duration-200 flex items-center",children:["Browse All Courses",(0,Na.jsx)(Ba,{className:"ml-2 h-4 w-4 sm:h-5 sm:w-5"})]})]})]})]})]})]}),(0,Na.jsx)("section",{className:"py-12 sm:py-16 lg:py-20 bg-white",children:(0,Na.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Na.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-center",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"inline-flex items-center px-3 sm:px-4 py-2 bg-primary-100 text-primary-700 rounded-full text-xs sm:text-sm font-medium mb-4 sm:mb-6",children:[(0,Na.jsx)(Ua,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Trusted by 10,000+ Students"]}),(0,Na.jsx)("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-primary-900 mb-6 sm:mb-8",children:"Why Choose King Ezekiel Academy?"}),(0,Na.jsx)("p",{className:"text-base sm:text-lg text-primary-600 mb-8 sm:mb-10 leading-relaxed",children:"We're committed to providing world-class education that empowers students to achieve their dreams. Our comprehensive curriculum and expert instructors ensure you get the skills you need to succeed in today's digital economy."}),(0,Na.jsx)("div",{className:"bg-gradient-to-br from-primary-800 to-primary-900 rounded-3xl p-6 sm:p-8 shadow-soft",children:(0,Na.jsxs)("div",{className:"grid grid-cols-2 gap-4 sm:gap-8",children:[(0,Na.jsxs)("div",{className:"text-center group",children:[(0,Na.jsx)("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-3 sm:mb-4 group-hover:scale-110 transition-transform duration-300",children:(0,Na.jsx)(is,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),(0,Na.jsx)("div",{className:"text-2xl sm:text-3xl font-bold text-yellow-300 mb-1 sm:mb-2",children:"10,000+"}),(0,Na.jsx)("div",{className:"text-xs sm:text-sm text-yellow-200 font-medium",children:"Students Taught"})]}),(0,Na.jsxs)("div",{className:"text-center group",children:[(0,Na.jsx)("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-3 sm:mb-4 group-hover:scale-110 transition-transform duration-300",children:(0,Na.jsx)(Ss,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),(0,Na.jsx)("div",{className:"text-2xl sm:text-3xl font-bold text-yellow-300 mb-1 sm:mb-2",children:"4.9/5"}),(0,Na.jsx)("div",{className:"text-xs sm:text-sm text-yellow-200 font-medium",children:"Student Rating"})]}),(0,Na.jsxs)("div",{className:"text-center group",children:[(0,Na.jsx)("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-3 sm:mb-4 group-hover:scale-110 transition-transform duration-300",children:(0,Na.jsx)(Ja,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),(0,Na.jsx)("div",{className:"text-2xl sm:text-3xl font-bold text-yellow-300 mb-1 sm:mb-2",children:"5+"}),(0,Na.jsx)("div",{className:"text-xs sm:text-sm text-yellow-200 font-medium",children:"Years Experience"})]}),(0,Na.jsxs)("div",{className:"text-center group",children:[(0,Na.jsx)("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-3 sm:mb-4 group-hover:scale-110 transition-transform duration-300",children:(0,Na.jsx)(Os,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),(0,Na.jsx)("div",{className:"text-2xl sm:text-3xl font-bold text-yellow-300 mb-1 sm:mb-2",children:"95%"}),(0,Na.jsx)("div",{className:"text-xs sm:text-sm text-yellow-200 font-medium",children:"Success Rate"})]})]})})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-primary-100 to-primary-200 rounded-3xl flex items-center justify-center mx-auto mb-6 sm:mb-8",children:(0,Na.jsx)(ls,{className:"h-10 w-10 sm:h-12 sm:w-12 text-primary-600"})}),(0,Na.jsx)("h4",{className:"text-xl sm:text-2xl font-semibold text-primary-900 mb-6 sm:mb-8",children:"Why Students Love Us"}),(0,Na.jsxs)("div",{className:"space-y-4 sm:space-y-6 text-left",children:[(0,Na.jsxs)("div",{className:"flex items-start space-x-3 sm:space-x-4 p-3 sm:p-4 bg-primary-50 rounded-xl",children:[(0,Na.jsx)(Ya,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary-600 mt-1 flex-shrink-0"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h5",{className:"font-semibold text-primary-900 mb-1 text-sm sm:text-base",children:"Comprehensive Course Library"}),(0,Na.jsx)("p",{className:"text-primary-600 text-xs sm:text-sm",children:"25+ courses covering all major digital skills"})]})]}),(0,Na.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-primary-50 rounded-xl",children:[(0,Na.jsx)(Ya,{className:"h-6 w-6 text-primary-600 mt-1 flex-shrink-0"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h5",{className:"font-semibold text-primary-900 mb-1",children:"Expert Instructors"}),(0,Na.jsx)("p",{className:"text-primary-600 text-sm",children:"Learn from industry professionals"})]})]}),(0,Na.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-primary-50 rounded-xl",children:[(0,Na.jsx)(Ya,{className:"h-6 w-6 text-primary-600 mt-1 flex-shrink-0"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h5",{className:"font-semibold text-primary-900 mb-1",children:"Flexible Learning Schedule"}),(0,Na.jsx)("p",{className:"text-primary-600 text-sm",children:"Study at your own pace, 24/7 access"})]})]}),(0,Na.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-primary-50 rounded-xl",children:[(0,Na.jsx)(Ya,{className:"h-6 w-6 text-primary-600 mt-1 flex-shrink-0"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h5",{className:"font-semibold text-primary-900 mb-1",children:"Career-Focused Curriculum"}),(0,Na.jsx)("p",{className:"text-primary-600 text-sm",children:"Skills that employers actually want"})]})]}),(0,Na.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-primary-50 rounded-xl",children:[(0,Na.jsx)(Ya,{className:"h-6 w-6 text-primary-600 mt-1 flex-shrink-0"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h5",{className:"font-semibold text-primary-900 mb-1",children:"Lifetime Access"}),(0,Na.jsx)("p",{className:"text-primary-600 text-sm",children:"Keep learning with course updates"})]})]})]})]})]})})}),(0,Na.jsxs)("section",{className:"py-12 sm:py-16 lg:py-20 bg-gradient-to-br from-secondary-50 to-primary-50 relative overflow-hidden",children:[(0,Na.jsxs)("div",{className:"absolute inset-0",children:[(0,Na.jsx)("div",{className:"absolute top-10 sm:top-20 right-10 sm:right-20 w-48 h-48 sm:w-64 sm:h-64 bg-primary-100 rounded-full mix-blend-multiply filter blur-xl opacity-30"}),(0,Na.jsx)("div",{className:"absolute bottom-10 sm:bottom-20 left-10 sm:left-20 w-48 h-48 sm:w-64 sm:h-64 bg-secondary-100 rounded-full mix-blend-multiply filter blur-xl opacity-30"})]}),(0,Na.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Na.jsxs)("div",{className:"text-center mb-12 sm:mb-16",children:[(0,Na.jsxs)("div",{className:"inline-flex items-center px-3 sm:px-4 py-2 bg-primary-100 text-primary-700 rounded-full text-xs sm:text-sm font-medium mb-4 sm:mb-6",children:[(0,Na.jsx)(ys,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Explore Our Programs"]}),(0,Na.jsx)("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-primary-900 mb-6 sm:mb-8",children:"Our Learning Programs"}),(0,Na.jsx)("p",{className:"text-base sm:text-lg text-primary-600 max-w-3xl mx-auto leading-relaxed",children:"Explore our diverse range of programs designed to help you master the skills needed in today's digital world."})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:[(0,Na.jsxs)("div",{className:"bg-white rounded-3xl shadow-soft p-6 sm:p-8 hover:shadow-glow transition-all duration-300 border border-primary-100 group",children:[(0,Na.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl flex items-center justify-center mb-6 sm:mb-8 group-hover:scale-110 transition-transform duration-300",children:(0,Na.jsx)(ms,{className:"h-8 w-8 sm:h-10 sm:w-10 text-primary-600"})}),(0,Na.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-primary-900 mb-3 sm:mb-4",children:"Technology & Innovation"}),(0,Na.jsx)("p",{className:"text-primary-600 mb-4 sm:mb-6 leading-relaxed text-sm sm:text-base",children:"Master the latest technologies and programming languages to build innovative solutions."}),(0,Na.jsxs)(ft,{to:"/courses",className:"inline-flex items-center text-primary-600 hover:text-primary-700 font-semibold group-hover:translate-x-1 transition-transform duration-200 text-sm sm:text-base",children:["Explore Courses",(0,Na.jsx)(Ba,{className:"ml-2 h-3 w-3 sm:h-4 sm:w-4"})]})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-3xl shadow-soft p-6 sm:p-8 hover:shadow-glow transition-all duration-300 border border-primary-100 group",children:[(0,Na.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl flex items-center justify-center mb-6 sm:mb-8 group-hover:scale-110 transition-transform duration-300",children:(0,Na.jsx)(Va,{className:"h-8 w-8 sm:h-10 sm:w-10 text-primary-600"})}),(0,Na.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-primary-900 mb-3 sm:mb-4",children:"Business & Leadership"}),(0,Na.jsx)("p",{className:"text-primary-600 mb-4 sm:mb-6 leading-relaxed text-sm sm:text-base",children:"Develop essential business skills and leadership qualities for career advancement."}),(0,Na.jsxs)(ft,{to:"/courses",className:"inline-flex items-center text-primary-600 hover:text-primary-700 font-semibold group-hover:translate-x-1 transition-transform duration-200",children:["Explore Courses",(0,Na.jsx)(Ba,{className:"ml-2 h-4 w-4"})]})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-3xl shadow-soft p-6 sm:p-8 hover:shadow-glow transition-all duration-300 border border-primary-100 group",children:[(0,Na.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl flex items-center justify-center mb-6 sm:mb-8 group-hover:scale-110 transition-transform duration-300",children:(0,Na.jsx)(gs,{className:"h-8 w-8 sm:h-10 sm:w-10 text-primary-600"})}),(0,Na.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-primary-900 mb-3 sm:mb-4",children:"Creative Arts"}),(0,Na.jsx)("p",{className:"text-primary-600 mb-4 sm:mb-6 leading-relaxed text-sm sm:text-base",children:"Unleash your creativity with courses in design, multimedia, and artistic expression."}),(0,Na.jsxs)(ft,{to:"/courses",className:"inline-flex items-center text-primary-600 hover:text-primary-700 font-semibold group-hover:translate-x-1 transition-transform duration-200",children:["Explore Courses",(0,Na.jsx)(Ba,{className:"ml-2 h-4 w-4"})]})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-3xl shadow-soft p-6 sm:p-8 hover:shadow-glow transition-all duration-300 border border-primary-100 group",children:[(0,Na.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl flex items-center justify-center mb-6 sm:mb-8 group-hover:scale-110 transition-transform duration-300",children:(0,Na.jsx)(ss,{className:"h-8 w-8 sm:h-10 sm:w-10 text-primary-600"})}),(0,Na.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-primary-900 mb-3 sm:mb-4",children:"Global Studies"}),(0,Na.jsx)("p",{className:"text-primary-600 mb-4 sm:mb-6 leading-relaxed text-sm sm:text-base",children:"Expand your worldview with courses on international relations and global perspectives."}),(0,Na.jsxs)(ft,{to:"/courses",className:"inline-flex items-center text-primary-600 hover:text-primary-700 font-semibold group-hover:translate-x-1 transition-transform duration-200",children:["Explore Courses",(0,Na.jsx)(Ba,{className:"ml-2 h-4 w-4"})]})]})]})]})]})]});class Us{constructor(){this.encryptionKey=void 0,this.sessionTimeout=864e5,this.encryptionKey=this.generateKey()}static getInstance(){return Us.instance||(Us.instance=new Us),Us.instance}generateKey(){return btoa(Date.now().toString()+Math.random().toString())}encrypt(e){try{let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)^this.encryptionKey.charCodeAt(n%this.encryptionKey.length));return btoa(t)}catch(t){return console.error("Encryption error:",t),e}}decrypt(e){try{const t=atob(e);let n="";for(let e=0;e<t.length;e++)n+=String.fromCharCode(t.charCodeAt(e)^this.encryptionKey.charCodeAt(e%this.encryptionKey.length));return n}catch(t){return console.error("Decryption error:",t),e}}setItem(e,t){try{const n={value:this.encrypt(t),timestamp:Date.now(),expires:Date.now()+this.sessionTimeout};sessionStorage.setItem("secure_".concat(e),JSON.stringify(n))}catch(n){console.error("Error setting secure storage item:",n),sessionStorage.setItem(e,t)}}getItem(e){try{const t=sessionStorage.getItem("secure_".concat(e));if(!t)return sessionStorage.getItem(e);const n=JSON.parse(t);return n.expires&&Date.now()>n.expires?(this.removeItem(e),null):this.decrypt(n.value)}catch(t){return console.error("Error getting secure storage item:",t),sessionStorage.getItem(e)}}removeItem(e){try{sessionStorage.removeItem("secure_".concat(e)),sessionStorage.removeItem(e)}catch(t){console.error("Error removing secure storage item:",t)}}clear(){try{Object.keys(sessionStorage).forEach(e=>{e.startsWith("secure_")&&sessionStorage.removeItem(e)}),this.clearFallbackItems()}catch(e){console.error("Error clearing secure storage:",e)}}clearFallbackItems(){["subscription_active","subscription_ref","subscription_amount","subscription_currency","subscription_next_renewal","recent_course_id","recent_course_progress","recent_course_timestamp","recent_course_completed"].forEach(e=>{try{sessionStorage.removeItem(e)}catch(t){console.error("Error removing fallback item ".concat(e,":"),t)}})}isSubscriptionActive(){return"true"===this.getItem("subscription_active")}setSubscriptionActive(e){this.setItem("subscription_active",e.toString())}getSubscriptionData(){return{subscription_active:this.getItem("subscription_active"),subscription_ref:this.getItem("subscription_ref"),subscription_amount:this.getItem("subscription_amount"),subscription_currency:this.getItem("subscription_currency"),subscription_next_renewal:this.getItem("subscription_next_renewal")}}setSubscriptionData(e){Object.entries(e).forEach(e=>{let[t,n]=e;void 0!==n&&this.setItem(t,n.toString())})}cleanup(){try{Object.keys(sessionStorage).forEach(e=>{if(e.startsWith("secure_")){const n=sessionStorage.getItem(e);if(n)try{const t=JSON.parse(n);t.expires&&Date.now()>t.expires&&sessionStorage.removeItem(e)}catch(t){sessionStorage.removeItem(e)}}})}catch(e){console.error("Error during cleanup:",e)}}}Us.instance=void 0;const Ws=Us.getInstance();"undefined"!==typeof window&&window.addEventListener("beforeunload",()=>{Ws.cleanup()});const Hs=Ws,qs=()=>{var t,n,r;const[a,s]=(0,e.useState)(""),[i,o]=(0,e.useState)("all"),[c,d]=(0,e.useState)("all"),[u,m]=(0,e.useState)("all"),[p,h]=(0,e.useState)(""),[f,g]=(0,e.useState)([]),[x,v]=(0,e.useState)(!0),[b,y]=(0,e.useState)(null),[w,j]=(0,e.useState)(!0),[N,k]=(0,e.useState)(0),[S,_]=(0,e.useState)(!1),[C,E]=(0,e.useState)(!1),[T,P]=(0,e.useState)(!1),L=10,A=pe(),{user:O}=Sa(),D=async()=>{if(null===O||void 0===O||!O.id)return;const e=Hs.isSubscriptionActive()||"true"===localStorage.getItem("subscription_active")||T;if(e){console.log("\u2705 User has active subscription (secureStorage, localStorage, or database), no trial access needed"),E(!1);return void(localStorage.getItem("user_trial_status")&&(console.log("\ud83d\uddd1\ufe0f Clearing localStorage trial data for subscribed user"),localStorage.removeItem("user_trial_status")))}try{const r=localStorage.getItem("user_trial_status");if(r)try{const e=JSON.parse(r),t=new Date,n=new Date(e.endDate).getTime()-t.getTime(),a=Math.max(0,Math.floor(n/864e5)),s=e.isActive&&a>0;return E(s),void console.log("Trial access check from localStorage:",s,"days remaining:",a)}catch(t){console.log("Failed to parse localStorage trial data")}const a=O.created_at?new Date(O.created_at):new Date,s=Math.ceil((Date.now()-a.getTime())/864e5);if(!O.created_at||s<=7){const e=a,t=new Date(e);t.setDate(e.getDate()+7),t.setHours(23,59,59,999);const n=new Date,r=t.getTime()-n.getTime(),s=Math.max(0,Math.floor(r/864e5)),i={isActive:!0,startDate:e.toISOString(),endDate:t.toISOString(),daysRemaining:s,isExpired:s<=0};localStorage.setItem("user_trial_status",JSON.stringify(i)),E(!0),console.log("\u2705 Initialized trial for new user in Courses:",i)}else E(!1),console.log("User is older than 7 days, no trial available");try{const t=await ja.hasTrialAccess(O.id);e||(E(t),console.log("Trial access check from database:",t))}catch(n){console.log("Database table user_trials not available yet")}}catch(b){console.error("Error in checkTrialAccess:",b),E(!1)}};(0,e.useEffect)(()=>{O&&((async()=>{if(null!==O&&void 0!==O&&O.id)try{const{data:e,error:t}=await ya.from("user_subscriptions").select("*").eq("user_id",O.id).eq("status","active").order("created_at",{ascending:!1}).limit(1).single();return!t&&e?(console.log("\u2705 Found active subscription in database:",e),P(!0),!0):(console.log("\u274c No active subscription found in database"),P(!1),!1)}catch(b){return console.log("\u26a0\ufe0f Database subscription check failed (table may not exist yet):",b),P(!1),!1}})(),D())},[O]);const R=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(0===e?(v(!0),y(null)):_(!0),console.log("\ud83d\udd0d Fetching courses page ".concat(e,"...")),O){const{data:e,error:t}=await ya.auth.refreshSession();if(t){console.log("\u26a0\ufe0f Session refresh failed, trying to get current session:",t);const{data:e}=await ya.auth.getSession();e.session||console.log("\u26a0\ufe0f No valid session found for authenticated user")}}else console.log("\ud83d\udc64 Guest user fetching courses - allowing read-only access");let s=ya.from("courses").select("\n          *,\n          course_videos (\n            id,\n            name,\n            duration,\n            order_index\n          )\n        ");s="latest"===u?s.order("created_at",{ascending:!1}):"most-enrolled"===u?s.order("students",{ascending:!1}):s.order("created_at",{ascending:!1}),s="latest"===u||"most-enrolled"===u?s.limit(10):s.range(e*L,(e+1)*L-1);const{data:i,error:o}=await s;if(console.log("\ud83d\udcca Supabase response for page ".concat(e,":"),{data:i,error:o}),o){var n;if(console.error("\u274c Supabase error:",o),"PGRST303"===o.code||null!==(n=o.message)&&void 0!==n&&n.includes("JWT expired")){console.log("\ud83d\udd04 JWT expired, attempting to refresh session...");const{data:n,error:r}=await ya.auth.refreshSession();if(r)return console.error("\u274c Failed to refresh session:",r),O&&y("Authentication expired. Please sign in again."),void(0===e?v(!1):_(!1));let a=ya.from("courses").select("\n              *,\n              course_videos (\n                id,\n                name,\n                duration,\n                order_index\n              )\n            ");a="latest"===u?a.order("created_at",{ascending:!1}):"most-enrolled"===u?a.order("students",{ascending:!1}):a.order("created_at",{ascending:!1}),a="latest"===u||"most-enrolled"===u?a.limit(10):a.range(e*L,(e+1)*L-1);const{data:s,error:i}=await a;if(i)throw i;if(s){console.log("\u2705 Courses data received after refresh for page ".concat(e,":"),s);const n=s.map(e=>{var t;return l(l({},e),{},{category:e.category||"general",duration:z(e.course_videos||[]),instructor:"King Ezekiel Academy",rating:4.5,students:0,cover_photo:e.cover_photo_url||"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=400&h=250&fit=crop",lessons:(null===(t=e.course_videos)||void 0===t?void 0:t.length)||0})});return g(t?e=>[...e,...n]:n),j("latest"!==u&&"most-enrolled"!==u&&s.length===L),k(e),void(0===e?v(!1):_(!1))}}throw o}if(i){var r,a;console.log("\u2705 Courses data received for page ".concat(e,":"),i),console.log("\ud83d\udd0d Sample course data:",i[0]),console.log("\ud83d\udd0d Sample course_videos:",null===(r=i[0])||void 0===r?void 0:r.course_videos),console.log("\ud83d\udd0d Sample category:",null===(a=i[0])||void 0===a?void 0:a.category);const n=i.map(e=>{var t;return l(l({},e),{},{category:e.category||"general",duration:z(e.course_videos||[]),instructor:"King Ezekiel Academy",rating:4.5,students:0,cover_photo:e.cover_photo_url||"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=400&h=250&fit=crop",lessons:(null===(t=e.course_videos)||void 0===t?void 0:t.length)||0})});g(t?e=>[...e,...n]:n),j("latest"!==u&&"most-enrolled"!==u&&i.length===L),k(e),console.log("\ud83d\udd04 Transformed courses for page ".concat(e,":"),n),console.log("\ud83d\udcca Has more courses: ".concat(i.length===L))}else console.log("\u26a0\ufe0f No data received from Supabase for page ".concat(e)),t||g([]),j(!1)}catch(s){console.error("\u274c Error fetching courses:",s),y(O?"Failed to load courses from database: ".concat(s instanceof Error?s.message:"Unknown error"):"Unable to load courses at the moment. Please try again later.")}finally{0===e?v(!1):_(!1)}},z=e=>{if(!e||0===e.length)return"0 min";let t=0;e.forEach(e=>{const n=e.duration;if(n)if(n.includes(":")){const e=n.split(":");2===e.length?(t+=60*(parseInt(e[0])||0),t+=parseInt(e[1])||0):3===e.length&&(t+=3600*(parseInt(e[0])||0),t+=60*(parseInt(e[1])||0),t+=parseInt(e[2])||0)}else if(n.includes("min")||n.includes("m")){const e=n.match(/(\d+)/);e&&(t+=60*(parseInt(e[1])||0))}else if(n.includes("h")||n.includes("hour")){const e=n.match(/(\d+)/);e&&(t+=3600*(parseInt(e[1])||0))}else{const e=parseInt(n);isNaN(e)||(t+=60*e)}});const n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?0===r&&0===a?"".concat(n,"h"):0===a?"".concat(n,"h ").concat(r,"m"):"".concat(n,"h ").concat(r,"m ").concat(a,"s"):r>0?0===a?"".concat(r,"m"):"".concat(r,"m ").concat(a,"s"):"".concat(a,"s")},M=e=>{m(e),k(0),j(!0),R(0,!1)};(0,e.useEffect)(()=>{R(0,!1),null!==O&&void 0!==O&&O.id&&D()},[null===O||void 0===O?void 0:O.id]),(0,e.useEffect)(()=>{console.log("\ud83d\udd0d Trial access debug:",{user:null===O||void 0===O?void 0:O.id,hasTrialAccess:C,subActive:Hs.isSubscriptionActive(),trialStatus:localStorage.getItem("user_trial_status")})},[null===O||void 0===O?void 0:O.id,C]),(0,e.useEffect)(()=>{const e=setTimeout(()=>{h(a)},300);return()=>clearTimeout(e)},[a]);const I=[{value:"all",label:"All Categories"},{value:"general",label:"General"}],F=[{value:"all",label:"All Courses"},{value:"latest",label:"Latest (Last 10)"},{value:"most-enrolled",label:"Most Enrolled (Top 10)"}],B=[{value:"all",label:"All Levels"},...Array.from(new Set(f.map(e=>e.level))).filter(e=>e).map(e=>({value:e,label:{beginner:"Lv 1 \u2013 Beginner",intermediate:"Lv 2 \u2013 Intermediate",advanced:"Lv 3 \u2013 Advanced",expert:"Lv 4 \u2013 Expert",mastery:"Lv 5 \u2013 Mastery"}[e]||e}))],U=f.filter(e=>{const t=e.title.toLowerCase().includes(p.toLowerCase())||e.description&&e.description.toLowerCase().includes(p.toLowerCase()),n="all"===i||e.category===i,r="all"===c||e.level===c;return t&&n&&r}),W=e=>{switch(e){case"web-development":default:return(0,Na.jsx)(Ha,{});case"digital-marketing":case"data-analytics":case"branding":case"content-creation":return(0,Na.jsx)(_s,{});case"ui-ux-design":return(0,Na.jsx)(As,{})}},H=e=>{const t={beginner:{label:"Lv 1 \u2013 Beginner",color:"bg-green-100 text-green-800"},intermediate:{label:"Lv 2 \u2013 Intermediate",color:"bg-yellow-100 text-yellow-800"},advanced:{label:"Lv 3 \u2013 Advanced",color:"bg-red-100 text-red-800"},expert:{label:"Lv 4 \u2013 Expert",color:"bg-purple-100 text-purple-800"},mastery:{label:"Lv 5 \u2013 Mastery",color:"bg-indigo-100 text-indigo-800"}},n=t[e]||t.beginner;return(0,Na.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(n.color),children:n.label})};return(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[(0,Na.jsxs)("div",{className:"text-center mb-6 sm:mb-8",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-center gap-2 sm:gap-4 mb-3 sm:mb-4",children:[(0,Na.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 leading-tight",children:"Explore Our Courses"}),O&&(0,Na.jsx)("button",{onClick:()=>{x||(k(0),j(!0),y(null),R(0,!1))},disabled:x,className:"p-1.5 sm:p-2 text-gray-600 hover:text-primary-600 transition-colors",title:"Refresh courses",children:(0,Na.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 ".concat(x?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),(0,Na.jsx)("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 max-w-3xl mx-auto px-2 sm:px-0 leading-relaxed",children:"Master the most in-demand digital skills with our comprehensive courses. Register as a member to access all courses."})]}),O&&(0,Na.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(Hs.isSubscriptionActive()||"true"===localStorage.getItem("subscription_active")||T)&&(0,Na.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl sm:rounded-2xl p-4 sm:p-6 text-white shadow-xl border border-green-400",children:(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[(0,Na.jsx)("div",{className:"bg-white/20 p-2 sm:p-3 rounded-full flex-shrink-0",children:(0,Na.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Na.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Na.jsx)("h3",{className:"text-base sm:text-lg md:text-2xl font-bold mb-1",children:"\ud83c\udf89 Full Access Active!"}),(0,Na.jsx)("p",{className:"text-green-100 text-xs sm:text-sm md:text-lg leading-relaxed",children:"Your subscription gives you unlimited access to all courses"})]})]}),(0,Na.jsx)("div",{className:"text-center sm:text-right",children:(0,Na.jsx)("div",{className:"bg-white/20 px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm font-semibold inline-block",children:"Premium Member"})})]})}),!(Hs.isSubscriptionActive()||"true"===localStorage.getItem("subscription_active")||T)&&C&&(0,Na.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl sm:rounded-2xl p-4 sm:p-6 text-white shadow-xl border border-blue-400",children:(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[(0,Na.jsx)("div",{className:"bg-white/20 p-2 sm:p-3 rounded-full flex-shrink-0",children:(0,Na.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Na.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Na.jsx)("h3",{className:"text-base sm:text-lg md:text-2xl font-bold mb-1",children:"\u23f0 Free Trial Active"}),(0,Na.jsx)("p",{className:"text-blue-100 text-xs sm:text-sm md:text-lg leading-relaxed",children:"Enjoy full access for a limited time - upgrade to continue learning"})]})]}),(0,Na.jsx)("div",{className:"text-center sm:text-right",children:(0,Na.jsx)("button",{onClick:()=>A("/profile"),className:"bg-white text-blue-600 px-3 sm:px-4 md:px-6 py-2 sm:py-3 rounded-full font-semibold hover:bg-blue-50 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 text-xs sm:text-sm md:text-base",children:"Upgrade Now"})})]})}),!(Hs.isSubscriptionActive()||"true"===localStorage.getItem("subscription_active")||T)&&!C&&O&&(0,Na.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 rounded-xl sm:rounded-2xl p-4 sm:p-6 text-white shadow-xl border border-orange-400",children:(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[(0,Na.jsx)("div",{className:"bg-white/20 p-2 sm:p-3 rounded-full flex-shrink-0",children:(0,Na.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Na.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Na.jsx)("h3",{className:"text-base sm:text-lg md:text-2xl font-bold mb-1",children:"\u26a0\ufe0f Trial Expired"}),(0,Na.jsx)("p",{className:"text-orange-100 text-xs sm:text-sm md:text-lg leading-relaxed",children:"Your free trial has ended - subscribe to continue learning"})]})]}),(0,Na.jsx)("div",{className:"text-center sm:text-right",children:(0,Na.jsx)("button",{onClick:()=>A("/profile"),className:"bg-white text-orange-600 px-3 sm:px-4 md:px-6 py-2 sm:py-3 rounded-full font-semibold hover:bg-orange-50 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 text-xs sm:text-sm md:text-base",children:"Subscribe Now"})})]})})]}),!O&&(0,Na.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,Na.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-600 rounded-xl sm:rounded-2xl p-4 sm:p-6 text-white shadow-xl border border-purple-400",children:(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[(0,Na.jsx)("div",{className:"bg-white/20 p-2 sm:p-3 rounded-full flex-shrink-0",children:(0,Na.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,Na.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Na.jsx)("h3",{className:"text-base sm:text-lg md:text-2xl font-bold mb-1",children:"\ud83d\udc4b Welcome Guest!"}),(0,Na.jsx)("p",{className:"text-purple-100 text-xs sm:text-sm md:text-lg leading-relaxed",children:"Browse our courses and sign up to start learning"})]})]}),(0,Na.jsx)("div",{className:"text-center sm:text-right",children:(0,Na.jsx)("button",{onClick:()=>A("/signin"),className:"bg-white text-purple-600 px-3 sm:px-4 md:px-6 py-2 sm:py-3 rounded-full font-semibold hover:bg-purple-50 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 text-xs sm:text-sm md:text-base",children:"Sign In"})})]})})}),(0,Na.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,Na.jsx)("div",{className:"mb-4 sm:mb-6",children:(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 sm:w-5 sm:h-5"}),(0,Na.jsx)("input",{type:"text",placeholder:"Search courses...",value:a,onChange:e=>s(e.target.value),className:"w-full pl-10 sm:pl-12 pr-4 py-2.5 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm sm:text-base"})]})}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3 mb-4 sm:mb-6",children:[(0,Na.jsx)("select",{value:i,onChange:e=>o(e.target.value),className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-xs sm:text-sm",children:I.map(e=>(0,Na.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,Na.jsx)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-xs sm:text-sm",children:B.map(e=>(0,Na.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,Na.jsx)("select",{value:u,onChange:e=>M(e.target.value),className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-xs sm:text-sm",children:F.map(e=>(0,Na.jsx)("option",{value:e.value,children:e.label},e.value))})]}),("all"!==i||"all"!==c||"all"!==u)&&(0,Na.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:["all"!==i&&(0,Na.jsxs)("span",{className:"inline-flex items-center px-2 sm:px-3 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:[null===(t=I.find(e=>e.value===i))||void 0===t?void 0:t.label,(0,Na.jsx)("button",{onClick:()=>o("all"),className:"ml-1.5 sm:ml-2 text-primary-600 hover:text-primary-800",children:"\xd7"})]}),"all"!==c&&(0,Na.jsxs)("span",{className:"inline-flex items-center px-2 sm:px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[null===(n=B.find(e=>e.value===c))||void 0===n?void 0:n.label,(0,Na.jsx)("button",{onClick:()=>d("all"),className:"ml-1.5 sm:ml-2 text-blue-600 hover:text-blue-800",children:"\xd7"})]}),"all"!==u&&(0,Na.jsxs)("span",{className:"inline-flex items-center px-2 sm:px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[null===(r=F.find(e=>e.value===u))||void 0===r?void 0:r.label,(0,Na.jsx)("button",{onClick:()=>M("all"),className:"ml-1.5 sm:ml-2 text-green-600 hover:text-green-800",children:"\xd7"})]}),(0,Na.jsx)("button",{onClick:()=>{o("all"),d("all"),M("all")},className:"text-xs sm:text-sm text-gray-600 hover:text-gray-800 underline",children:"Clear all filters"})]})]}),x&&(0,Na.jsxs)("div",{className:"text-center py-8 sm:py-12",children:[(0,Na.jsx)("div",{className:"inline-block animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-primary-600"}),(0,Na.jsx)("p",{className:"mt-2 text-gray-600 text-sm sm:text-base",children:"Loading courses..."})]}),b&&(0,Na.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 sm:p-6 text-center",children:[(0,Na.jsx)("p",{className:"text-red-700 font-medium mb-3 text-sm sm:text-base",children:b}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 justify-center",children:[(0,Na.jsx)("button",{onClick:()=>{k(0),j(!0),R(0,!1)},className:"px-3 sm:px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm sm:text-base",children:"Try Again"}),b.includes("Authentication")&&(0,Na.jsx)("button",{onClick:()=>A("/signin"),className:"px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base",children:"Sign In"})]})]}),!x&&!b&&(0,Na.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:U.map(e=>{var t;return(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)("img",{src:e.cover_photo||"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=400&h=250&fit=crop",alt:e.title,className:"w-full h-40 sm:h-48 object-cover"}),(0,Na.jsx)("div",{className:"absolute top-2 sm:top-4 right-2 sm:right-4",children:H(e.level)}),(0,Na.jsxs)("div",{className:"absolute top-2 sm:top-4 left-2 sm:left-4 bg-primary-600 text-white px-2 sm:px-3 py-1 rounded text-xs sm:text-sm font-medium flex items-center space-x-1",children:[(0,Na.jsx)(is,{className:"h-3 w-3"}),(0,Na.jsx)("span",{className:"hidden sm:inline",children:O&&Hs.isSubscriptionActive()?"Full Access":"Membership"}),(0,Na.jsx)("span",{className:"sm:hidden",children:O&&Hs.isSubscriptionActive()?"Access":"Member"})]})]}),(0,Na.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-2 mb-2 sm:mb-3",children:[W(e.category),(0,Na.jsx)("span",{className:"text-xs sm:text-sm text-gray-500 capitalize",children:(null===(t=e.category)||void 0===t?void 0:t.replace("-"," "))||"General"})]}),(0,Na.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 leading-tight",children:e.title}),(0,Na.jsx)("p",{className:"text-gray-600 mb-3 sm:mb-4 line-clamp-2 text-sm sm:text-base",children:e.description||"No description available"}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4 mb-3 sm:mb-4 text-xs sm:text-sm text-gray-500",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Na.jsx)(Ja,{className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,Na.jsx)("span",{children:e.duration})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Na.jsx)(Ha,{className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,Na.jsxs)("span",{children:[e.lessons," ",1===e.lessons?"lesson":"lessons"]})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Na.jsx)(As,{className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,Na.jsx)("span",{className:"hidden sm:inline",children:e.instructor}),(0,Na.jsx)("span",{className:"sm:hidden",children:"King Ezekiel Academy"})]})]}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,Na.jsx)("div",{className:"flex items-center space-x-2",children:(0,Na.jsx)("span",{className:"text-sm sm:text-lg font-semibold text-primary-600",children:O&&(Hs.isSubscriptionActive()||C)?"Full Access":"Membership Access"})}),(0,Na.jsx)("button",{onClick:()=>{return t=e.id,void(O&&(Hs.isSubscriptionActive()||C)?A("/course/".concat(t,"/overview")):A(O?"/profile":"/signin"));var t},className:"w-full sm:w-auto bg-primary-600 text-white px-4 sm:px-6 py-2.5 sm:py-2 rounded-lg hover:bg-primary-700 transition-colors duration-200 flex items-center justify-center space-x-2 text-sm sm:text-base",children:O&&(Hs.isSubscriptionActive()||C)?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)(Ls,{className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,Na.jsx)("span",{children:"Start Learning"})]}):O?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)(hs,{className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,Na.jsx)("span",{children:"Upgrade to Access"})]}):(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)(hs,{className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,Na.jsx)("span",{children:"Sign In"})]})})]})]})]},e.id)})}),w&&!x&&!b&&(0,Na.jsxs)("div",{className:"text-center mt-6 sm:mt-8",children:[(0,Na.jsx)("button",{onClick:()=>{w&&!S&&R(N+1,!0)},disabled:S,className:"inline-flex items-center gap-2 sm:gap-3 px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-xl hover:from-primary-700 hover:to-primary-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg text-sm sm:text-base",children:S?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)("div",{className:"inline-block animate-spin rounded-full h-4 w-4 sm:h-5 sm:w-5 border-b-2 border-white"}),(0,Na.jsx)("span",{className:"font-semibold",children:"Loading More..."})]}):(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),(0,Na.jsx)("span",{className:"font-semibold",children:"Load More Courses"})]})}),(0,Na.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500 mt-2 sm:mt-3",children:["Showing ",f.length," courses \u2022 Click to load ",L," more"]})]}),0===U.length&&!x&&!b&&(0,Na.jsx)("div",{className:"text-center py-8 sm:py-12",children:(0,Na.jsx)("p",{className:"text-gray-500 text-base sm:text-lg",children:"No courses found matching your criteria."})})]})})},Vs=()=>(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,Na.jsxs)("div",{className:"text-center mb-16",children:[(0,Na.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"About King Ezekiel Academy"}),(0,Na.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Building the foundation for tomorrow's leaders with quality education and innovative learning experiences."})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-20",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Mission"}),(0,Na.jsx)("p",{className:"text-gray-600 mb-6",children:"At King Ezekiel Academy, we believe in the transformative power of education. Our mission is to empower students with the knowledge, skills, and confidence they need to succeed in the digital age."}),(0,Na.jsx)("p",{className:"text-gray-600 mb-6",children:"We strive to create an inclusive learning environment where every student can discover their potential, develop critical thinking skills, and build a strong foundation for their future careers."}),(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsx)(ls,{className:"h-8 w-8 text-primary-600"}),(0,Na.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:"Passion for Education"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Vision"}),(0,Na.jsx)("p",{className:"text-gray-600 mb-6",children:"We envision a world where quality education is accessible to everyone, regardless of their background or circumstances. Our goal is to become a leading institution in digital skills education."}),(0,Na.jsx)("p",{className:"text-gray-600 mb-6",children:"Through innovative teaching methods, cutting-edge technology, and a commitment to excellence, we aim to shape the next generation of digital professionals and thought leaders."}),(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsx)(ps,{className:"h-8 w-8 text-primary-600"}),(0,Na.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:"Innovation & Excellence"})]})]})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-20",children:[(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,Na.jsx)(is,{className:"h-12 w-12 text-primary-600"})}),(0,Na.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"10,000+"}),(0,Na.jsx)("div",{className:"text-gray-600",children:"Students Taught"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,Na.jsx)(Os,{className:"h-12 w-12 text-primary-600"})}),(0,Na.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"50+"}),(0,Na.jsx)("div",{className:"text-gray-600",children:"Expert Instructors"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,Na.jsx)(Ss,{className:"h-12 w-12 text-primary-600"})}),(0,Na.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"4.9/5"}),(0,Na.jsx)("div",{className:"text-gray-600",children:"Student Rating"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,Na.jsx)(Ua,{className:"h-12 w-12 text-primary-600"})}),(0,Na.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"95%"}),(0,Na.jsx)("div",{className:"text-gray-600",children:"Success Rate"})]})]}),(0,Na.jsxs)("div",{className:"mb-20",children:[(0,Na.jsx)("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Our Core Values"}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[(0,Na.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Na.jsx)(is,{className:"h-8 w-8 text-primary-600"})}),(0,Na.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Excellence"}),(0,Na.jsx)("p",{className:"text-gray-600",children:"We maintain the highest standards in education and continuously strive for excellence in everything we do."})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[(0,Na.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Na.jsx)(os,{className:"h-8 w-8 text-primary-600"})}),(0,Na.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Integrity"}),(0,Na.jsx)("p",{className:"text-gray-600",children:"We conduct ourselves with honesty, transparency, and ethical behavior in all our interactions."})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[(0,Na.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Na.jsx)(Os,{className:"h-8 w-8 text-primary-600"})}),(0,Na.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Community"}),(0,Na.jsx)("p",{className:"text-gray-600",children:"We foster a supportive learning community where everyone feels valued, respected, and empowered to succeed."})]})]})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-20",children:[(0,Na.jsx)("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-8",children:"Our Journey \u2013 From Vision to Impact"}),(0,Na.jsxs)("div",{className:"space-y-8 max-w-4xl mx-auto",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h3",{className:"text-xl font-semibold text-primary-900 mb-2",children:"2021 \u2013 Humble Beginnings"}),(0,Na.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"In 2021, I began my professional journey at Hagital Consulting, where the CEO, Pastor Yomi Omiyale, and his wife, Mrs. Debra Omiyale, welcomed me as an intern. Under their mentorship, I gained hands-on experience in Digital Marketing, E-commerce, and Information Marketing. This period laid the foundation for my skills and work ethic, and it remains one of the most formative seasons of my life."})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h3",{className:"text-xl font-semibold text-primary-900 mb-2",children:"2022 \u2013 Stepping Out in Faith"}),(0,Na.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"After a full year of learning, I felt called to pursue my own path. With nothing but a vision to enlighten and educate, I left Hagital Consulting with heartfelt goodbyes and a deep belief that knowledge is light and many are in darkness. That same year, God gave me a dream, and I created my first set of courses, including Digital Marketing 101, which sold over 20,000 digital copies in 2022 alone."})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h3",{className:"text-xl font-semibold text-primary-900 mb-2",children:"2022 \u2013 2024 \u2013 Building Momentum"}),(0,Na.jsxs)("div",{className:"space-y-2 text-gray-700 leading-relaxed",children:[(0,Na.jsx)("p",{children:"Over the next two years, I developed over 40 practical courses and sold more than 60,000 copies to 40,000+ students, generating tens of millions in revenue."}),(0,Na.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,Na.jsx)("li",{children:"Trained over 10,000 people for free via Telegram & WhatsApp through the K.E. Development Movement."}),(0,Na.jsx)("li",{children:"Grew my Telegram channel to 8,000 active subscribers."}),(0,Na.jsx)("li",{children:"Reached over 500,000 views on YouTube with 9,000+ subscribers (all students)."}),(0,Na.jsx)("li",{children:"Spent over \u20a615 million on advertisements, reaching 5.7 million people across Nigeria."})]})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h3",{className:"text-xl font-semibold text-primary-900 mb-2",children:"2025 \u2013 A Bigger Vision"}),(0,Na.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"Even after all these milestones, I saw a gap in the educational sector. People don\u2019t just need affordable, high-quality knowledge \u2014 they also need a space to ask questions, connect with mentors, and grow together. This led me to design my next chapter: affordable, precise, and practical education with ongoing support for every learner \u2014 The King Ezekiel Academy."})]})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Our Leadership Team"}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[(0,Na.jsx)("div",{className:"w-24 h-24 bg-gray-200 rounded-full mx-auto mb-4"}),(0,Na.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Dr. Sarah Johnson"}),(0,Na.jsx)("p",{className:"text-primary-600 mb-4",children:"Founder & CEO"}),(0,Na.jsx)("p",{className:"text-gray-600 text-sm",children:"Education expert with 15+ years of experience in digital learning and curriculum development."})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[(0,Na.jsx)("div",{className:"w-24 h-24 bg-gray-200 rounded-full mx-auto mb-4"}),(0,Na.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Michael Chen"}),(0,Na.jsx)("p",{className:"text-primary-600 mb-4",children:"Chief Technology Officer"}),(0,Na.jsx)("p",{className:"text-gray-600 text-sm",children:"Tech innovator passionate about creating cutting-edge learning platforms and digital experiences."})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[(0,Na.jsx)("div",{className:"w-24 h-24 bg-gray-200 rounded-full mx-auto mb-4"}),(0,Na.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Emily Rodriguez"}),(0,Na.jsx)("p",{className:"text-primary-600 mb-4",children:"Head of Education"}),(0,Na.jsx)("p",{className:"text-gray-600 text-sm",children:"Curriculum specialist dedicated to developing engaging, effective learning experiences for all students."})]})]})]})]})}),Ks=()=>{const[t,n]=(0,e.useState)({name:"",email:"",phone:"",subject:"",message:""}),r=e=>{n(l(l({},t),{},{[e.target.name]:e.target.value}))};return(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,Na.jsxs)("div",{className:"text-center mb-16",children:[(0,Na.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Get In Touch"}),(0,Na.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Ready to start your journey with King Ezekiel Academy? We'd love to hear from you."})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Contact Information"}),(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Na.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,Na.jsx)(fs,{className:"h-6 w-6 text-primary-600"})}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Address"}),(0,Na.jsxs)("p",{className:"text-gray-600",children:["123 Education Street",(0,Na.jsx)("br",{}),"Learning City, LC 12345",(0,Na.jsx)("br",{}),"United States"]})]})]}),(0,Na.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Na.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,Na.jsx)(xs,{className:"h-6 w-6 text-primary-600"})}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Phone"}),(0,Na.jsx)("p",{className:"text-gray-600",children:"+1 (555) 123-4567"}),(0,Na.jsx)("p",{className:"text-gray-600",children:"+1 (555) 123-4568"})]})]}),(0,Na.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Na.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,Na.jsx)(es,{className:"h-6 w-6 text-primary-600"})}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Email"}),(0,Na.jsx)("p",{className:"text-gray-600",children:"info@kingezekielacademy.com"}),(0,Na.jsx)("p",{className:"text-gray-600",children:"support@kingezekielacademy.com"})]})]}),(0,Na.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Na.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,Na.jsx)(Ja,{className:"h-6 w-6 text-primary-600"})}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Business Hours"}),(0,Na.jsxs)("p",{className:"text-gray-600",children:["Monday - Friday: 8:00 AM - 6:00 PM",(0,Na.jsx)("br",{}),"Saturday: 9:00 AM - 4:00 PM",(0,Na.jsx)("br",{}),"Sunday: Closed"]})]})]})]}),(0,Na.jsxs)("div",{className:"mt-12",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Follow Us"}),(0,Na.jsxs)("div",{className:"flex space-x-4",children:[(0,Na.jsx)("a",{href:"#",className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center text-white hover:bg-primary-700 transition-colors duration-200",children:(0,Na.jsx)(Da,{className:"h-6 w-6"})}),(0,Na.jsx)("a",{href:"#",className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center text-white hover:bg-primary-700 transition-colors duration-200",children:(0,Na.jsx)(Ma,{className:"h-6 w-6"})}),(0,Na.jsx)("a",{href:"#",className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center text-white hover:bg-primary-700 transition-colors duration-200",children:(0,Na.jsx)(Ra,{className:"h-6 w-6"})}),(0,Na.jsx)("a",{href:"#",className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center text-white hover:bg-primary-700 transition-colors duration-200",children:(0,Na.jsx)(za,{className:"h-6 w-6"})})]})]})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,Na.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send us a Message"}),(0,Na.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("Form submitted:",t),alert("Thank you for your message! We will get back to you soon."),n({name:"",email:"",phone:"",subject:"",message:""})},className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),(0,Na.jsx)("input",{type:"text",id:"name",name:"name",value:t.name,onChange:r,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your full name"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),(0,Na.jsx)("input",{type:"email",id:"email",name:"email",value:t.email,onChange:r,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,Na.jsx)("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your phone number"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),(0,Na.jsxs)("select",{id:"subject",name:"subject",value:t.subject,onChange:r,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Na.jsx)("option",{value:"",children:"Select a subject"}),(0,Na.jsx)("option",{value:"general",children:"General Inquiry"}),(0,Na.jsx)("option",{value:"courses",children:"Course Information"}),(0,Na.jsx)("option",{value:"enrollment",children:"Enrollment"}),(0,Na.jsx)("option",{value:"support",children:"Technical Support"}),(0,Na.jsx)("option",{value:"partnership",children:"Partnership"}),(0,Na.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),(0,Na.jsx)("textarea",{id:"message",name:"message",value:t.message,onChange:r,required:!0,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Tell us how we can help you..."})]}),(0,Na.jsx)("button",{type:"submit",className:"w-full bg-primary-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-primary-700 transition-colors duration-200",children:"Send Message"})]})]})]}),(0,Na.jsxs)("div",{className:"mt-20",children:[(0,Na.jsx)("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-8",children:"Find Us"}),(0,Na.jsx)("div",{className:"bg-gray-200 rounded-2xl h-96 flex items-center justify-center",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)(fs,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,Na.jsx)("p",{className:"text-gray-500 text-lg",children:"Interactive Map Coming Soon"}),(0,Na.jsx)("p",{className:"text-gray-400",children:"123 Education Street, Learning City, LC 12345"})]})})]})]})})},Gs=()=>{const[t,n]=(0,e.useState)({email:"",password:""}),[r,a]=(0,e.useState)(!1),[s,i]=(0,e.useState)(""),[o,c]=(0,e.useState)(!1),{signIn:d,user:u,loading:m}=Sa(),p=pe();(0,e.useEffect)(()=>{console.log("useEffect triggered - user:",u,"authLoading:",m),u&&!m&&(console.log("User authenticated, redirecting to dashboard"),setTimeout(()=>{p("/dashboard")},1e3))},[u,m,p]);const h=e=>{n(l(l({},t),{},{[e.target.name]:e.target.value}))};return(0,Na.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,Na.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,Na.jsx)("div",{className:"flex justify-center",children:(0,Na.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:(0,Na.jsx)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})})})}),(0,Na.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Welcome Back"}),(0,Na.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to continue your learning journey"}),(0,Na.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",(0,Na.jsx)("button",{onClick:()=>p("/signup"),className:"font-medium text-indigo-600 hover:text-indigo-500 transition-colors duration-200",children:"Sign up here"})]}),m&&(0,Na.jsx)("div",{className:"mt-4 text-center",children:(0,Na.jsxs)("div",{className:"inline-flex items-center px-4 py-2 bg-blue-50 text-blue-700 rounded-lg",children:[(0,Na.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Na.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Na.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Checking authentication..."]})}),u&&!m&&(0,Na.jsx)("div",{className:"mt-4 text-center",children:(0,Na.jsxs)("div",{className:"inline-flex items-center px-4 py-2 bg-green-50 text-green-700 rounded-lg",children:[(0,Na.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Already signed in! Redirecting to dashboard..."]})})]}),(0,Na.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Na.jsx)("div",{className:"bg-white py-8 px-6 shadow-xl rounded-2xl border border-gray-100",children:u?(0,Na.jsx)("div",{className:"text-center py-8",children:(0,Na.jsxs)("div",{className:"inline-flex items-center px-6 py-3 bg-green-50 text-green-700 rounded-lg",children:[(0,Na.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Na.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Na.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Redirecting to Dashboard..."]})}):(0,Na.jsxs)("form",{className:"space-y-6",onSubmit:async e=>{if(e.preventDefault(),!o&&!m){i("");try{c(!0),console.log("Attempting sign in with:",t.email);const{error:e}=await d(t.email,t.password);e?(console.error("Sign in error:",e),i(e.message),c(!1)):console.log("Sign in successful, waiting for profile fetch...")}catch(n){console.error("Sign in exception:",n),i("Failed to sign in"),c(!1)}}},children:[s&&(0,Na.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg flex items-center",children:[(0,Na.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Na.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Na.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,Na.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:h,className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 sm:text-sm",placeholder:"Enter your email address"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Na.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,Na.jsx)("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,value:t.password,onChange:h,className:"appearance-none block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 sm:text-sm",placeholder:"Enter your password"}),(0,Na.jsx)("button",{type:"button",onClick:()=>a(!r),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors duration-200",children:r?(0,Na.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):(0,Na.jsxs)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),(0,Na.jsx)("div",{className:"flex items-center justify-between",children:(0,Na.jsx)("div",{className:"text-sm",children:(0,Na.jsx)("button",{type:"button",onClick:()=>p("/forgot-password"),className:"font-medium text-indigo-600 hover:text-indigo-500 transition-colors duration-200",children:"Forgot your password?"})})}),(0,Na.jsx)("div",{children:(0,Na.jsx)("button",{type:"submit",disabled:o||m||!t.email.trim()||!t.password.trim(),className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:o||m?(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Na.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Na.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),t.email.trim()&&t.password.trim()?"Sign In":"Fill in all fields"]})})})]})})})]})},Ys=()=>{const[t,n]=(0,e.useState)({name:"",email:"",password:"",confirmPassword:"",acceptTerms:!1}),[r,a]=(0,e.useState)(!1),[s,i]=(0,e.useState)(!1),[o,c]=(0,e.useState)(""),[d,u]=(0,e.useState)(!1),{signUp:m}=Sa(),p=pe(),h=e=>{const{name:r,value:a,type:s,checked:i}=e.target;n(l(l({},t),{},{[r]:"checkbox"===s?i:a}))},f=()=>""!==t.name.trim()&&""!==t.email.trim()&&""!==t.password.trim()&&""!==t.confirmPassword.trim()&&t.password===t.confirmPassword&&t.password.length>=6&&t.acceptTerms;return(0,Na.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,Na.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,Na.jsx)("div",{className:"flex justify-center",children:(0,Na.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:(0,Na.jsx)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),(0,Na.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Join King Ezekiel Academy"}),(0,Na.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Start your learning journey today"}),(0,Na.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",(0,Na.jsx)("button",{onClick:()=>p("/signin"),className:"font-medium text-indigo-600 hover:text-indigo-500 transition-colors duration-200",children:"Sign in here"})]})]}),(0,Na.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Na.jsx)("div",{className:"bg-white py-8 px-6 shadow-xl rounded-2xl border border-gray-100",children:(0,Na.jsxs)("form",{className:"space-y-6",onSubmit:async e=>{if(e.preventDefault(),c(""),t.acceptTerms)if(t.password===t.confirmPassword)if(t.password.length<6)c("Password must be at least 6 characters long");else try{u(!0),console.log("Attempting signup with:",{email:t.email,name:t.name});const{user:e,session:n,error:r}=await m(t.email,t.password,t.name);console.log("Signup result:",{user:e,session:n,error:r}),r?(console.error("Signup error:",r),c(r.message||"Failed to create account")):e?(console.log("Signup successful, user created:",e),e.email_confirmed_at?p("/dashboard"):(c("\u2705 Account created successfully! Please check your email and confirm your account before signing in."),setTimeout(()=>p("/signin"),5e3))):c("Account created but no user returned")}catch(n){console.error("Signup exception:",n),c(n instanceof Error?n.message:"Failed to create an account")}finally{u(!1)}else c("Passwords do not match");else c("Please accept the terms and conditions")},children:[o&&(0,Na.jsxs)("div",{className:"px-4 py-3 rounded-lg flex items-center ".concat(o.includes("\u2705")?"bg-green-50 border border-green-200 text-green-600":"bg-red-50 border border-red-200 text-red-600"),children:[o.includes("\u2705")?(0,Na.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Na.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):(0,Na.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Na.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),o]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Na.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,Na.jsx)("input",{id:"name",name:"name",type:"text",required:!0,value:t.name,onChange:h,className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 sm:text-sm",placeholder:"Enter your full name"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Na.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,Na.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:h,className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 sm:text-sm",placeholder:"Enter your email address"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Na.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,Na.jsx)("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"new-password",required:!0,value:t.password,onChange:h,className:"appearance-none block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 sm:text-sm",placeholder:"Create a strong password"}),(0,Na.jsx)("button",{type:"button",onClick:()=>a(!r),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors duration-200",children:r?(0,Na.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):(0,Na.jsxs)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Na.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Na.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:s?"text":"password",autoComplete:"new-password",required:!0,value:t.confirmPassword,onChange:h,className:"appearance-none block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 sm:text-sm",placeholder:"Confirm your password"}),(0,Na.jsx)("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors duration-200",children:s?(0,Na.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):(0,Na.jsxs)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),(0,Na.jsxs)("div",{className:"flex items-start",children:[(0,Na.jsx)("div",{className:"flex items-center h-5",children:(0,Na.jsx)("input",{id:"acceptTerms",name:"acceptTerms",type:"checkbox",checked:t.acceptTerms,onChange:h,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded cursor-pointer"})}),(0,Na.jsx)("div",{className:"ml-3 text-sm",children:(0,Na.jsxs)("label",{htmlFor:"acceptTerms",className:"text-gray-700 cursor-pointer",children:["I agree to the"," ",(0,Na.jsx)("button",{type:"button",className:"text-indigo-600 hover:text-indigo-500 font-medium",children:"Terms and Conditions"})," ","and"," ",(0,Na.jsx)("button",{type:"button",className:"text-indigo-600 hover:text-indigo-500 font-medium",children:"Privacy Policy"})]})})]}),(0,Na.jsx)("div",{children:(0,Na.jsx)("button",{type:"submit",disabled:d||!f(),className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white transition-all duration-200 shadow-lg ".concat(f()&&!d?"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500":"bg-gray-400 cursor-not-allowed"),children:d?(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Na.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Na.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Create Account"]})})})]})})})]})},Js=e=>{let{trialStatus:t,onSubscribe:n}=e;if(!t.isActive||t.isExpired)return null;return(0,Na.jsx)("div",{className:"".concat(0===t.daysRemaining?"bg-red-500 text-white":t.daysRemaining<=2?"bg-orange-500 text-white":"bg-blue-500 text-white"," p-4 rounded-lg shadow-lg mb-6"),children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[0===t.daysRemaining?(0,Na.jsx)(ts,{className:"text-red-200"}):t.daysRemaining<=2?(0,Na.jsx)(Ja,{className:"text-orange-200"}):(0,Na.jsx)(Xa,{className:"text-blue-200"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("p",{className:"font-semibold text-lg",children:0===t.daysRemaining?"Your free trial expires today! Subscribe now to keep learning.":1===t.daysRemaining?"Your free trial expires tomorrow! Subscribe now to keep learning.":t.daysRemaining<=3?"Your free trial expires in ".concat(t.daysRemaining," days. Subscribe now to keep learning!"):"You have ".concat(t.daysRemaining," days left in your free trial.")}),(0,Na.jsx)("p",{className:"text-sm opacity-90",children:t.daysRemaining>0?"Trial ends: ".concat(new Date(t.endDate).toLocaleDateString()):"Trial ended today"})]})]}),(0,Na.jsx)("button",{onClick:n,className:"px-6 py-2 bg-white text-blue-600 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Subscribe Now"})]})})},$s=()=>{var t,n;const r=pe(),a=de(),{user:s,isAdmin:i}=Sa(),[o,c]=(0,e.useState)({xp:0,streak_count:0,last_activity_date:(new Date).toISOString().split("T")[0],level:1,total_users:1247,class_ranking:"Top 35%"}),[d,u]=(0,e.useState)({isActive:!1,startDate:"",endDate:"",daysRemaining:0,isExpired:!0}),[m,p]=(0,e.useState)(!0),[h,f]=(0,e.useState)(()=>{try{return Hs.isSubscriptionActive()}catch(e){return!1}}),g=(0,e.useCallback)(async()=>{if(null!==s&&void 0!==s&&s.id)try{const{data:e,error:t}=await ya.from("user_subscriptions").select("*").eq("user_id",s.id).eq("status","active").order("created_at",{ascending:!1}).limit(1).single();if(!t&&e)f(!0),console.log("\u2705 Found active subscription in database");else{const e=Hs.isSubscriptionActive();f(e),console.log("Using secure storage subscription status:",e)}}catch(e){console.log("Database not available, using secure storage fallback");const t=Hs.isSubscriptionActive();f(t)}},[null===s||void 0===s?void 0:s.id]),x=(0,e.useCallback)(async()=>{if(null!==s&&void 0!==s&&s.id)try{const n=localStorage.getItem("user_trial_status");if(n)try{const e=JSON.parse(n),t=new Date,r=new Date(e.endDate).getTime()-t.getTime(),a=Math.max(0,Math.floor(r/864e5)),s=l(l({},e),{},{daysRemaining:a,isExpired:a<=0});return u(s),void console.log("\u2705 Found trial status in localStorage:",s)}catch(e){console.log("Failed to parse localStorage trial data")}const r=s.created_at?new Date(s.created_at):new Date,a=Math.ceil((Date.now()-r.getTime())/864e5);if(!s.created_at||a<=7){const e=r,t=new Date(e);t.setDate(e.getDate()+7),t.setHours(23,59,59,999);const n=new Date,a=t.getTime()-n.getTime(),s=Math.max(0,Math.floor(a/864e5)),i={isActive:!0,startDate:e.toISOString(),endDate:t.toISOString(),daysRemaining:s,isExpired:s<=0};localStorage.setItem("user_trial_status",JSON.stringify(i)),u(i),console.log("\u2705 Initialized trial for new user:",i)}else u({isActive:!1,startDate:"",endDate:"",daysRemaining:0,isExpired:!0}),console.log("User is older than 7 days, no trial available");try{const{data:e,error:t}=await ya.from("user_trials").select("*").eq("user_id",s.id).eq("is_active",!0).single();if(!t&&e){const t=new Date,n=new Date(e.end_date).getTime()-t.getTime(),r=Math.max(0,Math.floor(n/864e5)),a={isActive:!0,startDate:e.start_date,endDate:e.end_date,daysRemaining:r,isExpired:r<=0};u(a),console.log("\u2705 Found trial status in database:",a)}}catch(t){console.log("Database table user_trials not available yet")}}catch(n){console.error("Error in fetchTrialStatus:",n),u({isActive:!1,startDate:"",endDate:"",daysRemaining:0,isExpired:!0})}},[null===s||void 0===s?void 0:s.id]),v=(0,e.useCallback)(async()=>{var e;if(null!==s&&void 0!==s&&s.id)try{p(!0);const{error:n}=await ya.auth.refreshSession();if(n)return void console.error("Session refresh error:",n);try{const{data:t,error:n}=await ya.from("profiles").select("xp, streak_count, last_activity_date").eq("id",s.id).single();if(n)return console.log("XP/streak columns not available yet, using default values"),void c({xp:0,streak_count:0,last_activity_date:(new Date).toISOString().split("T")[0],level:1,total_users:100,class_ranking:"Top 90%"});const{count:r}=await ya.from("profiles").select("*",{count:"exact",head:!0}),a=(e=t.xp||0,Math.floor(e/1e3)+1),i=r||1247,o=t.xp>2e3?"Top 25%":t.xp>1e3?"Top 50%":t.xp>500?"Top 75%":"Top 90%";c({xp:t.xp||0,streak_count:t.streak_count||0,last_activity_date:t.last_activity_date||(new Date).toISOString().split("T")[0],level:a,total_users:i,class_ranking:o})}catch(t){console.log("XP system not available yet, using default values"),c({xp:0,streak_count:0,last_activity_date:(new Date).toISOString().split("T")[0],level:1,total_users:100,class_ranking:"Top 90%"})}}catch(t){console.error("Error in fetchUserStats:",t)}finally{p(!1)}},[null===s||void 0===s?void 0:s.id]),b=(0,e.useCallback)(async()=>{if(null!==s&&void 0!==s&&s.id)try{var e;S(!0);const{error:i}=await ya.auth.refreshSession();if(i)return void console.error("Session refresh error:",i);let o=[];try{const{data:e,error:n}=await ya.from("user_courses").select("course_id, progress, completed_lessons, last_accessed").eq("user_id",s.id).order("last_accessed",{ascending:!1});if(!n&&e)o=e,console.log("\u2705 Found enrolled courses in database:",o);else{console.log("Database query failed, trying localStorage fallback...");try{const e=localStorage.getItem("recent_course_id"),t=localStorage.getItem("recent_course_progress"),n=localStorage.getItem("recent_course_timestamp");if(e&&t&&n){const r=Date.now()-new Date(n).getTime();if(r/36e5<24){const r="true"===localStorage.getItem("recent_course_completed");o=[{course_id:e,progress:parseInt(t)||0,completed_lessons:r?2:Math.floor((parseInt(t)||0)/100*2),last_accessed:n,is_completed:r}],console.log("\u2705 Found recent course activity in localStorage:",o)}}}catch(t){console.log("Could not check localStorage for recent courses")}}}catch(n){console.log("Database query error, using localStorage fallback");try{const e=localStorage.getItem("recent_course_id"),t=localStorage.getItem("recent_course_progress"),n=localStorage.getItem("recent_course_timestamp");if(e&&t&&n){const r=Date.now()-new Date(n).getTime();if(r/36e5<24){const r="true"===localStorage.getItem("recent_course_completed");o=[{course_id:e,progress:parseInt(t)||0,completed_lessons:r?2:Math.floor((parseInt(t)||0)/100*2),last_accessed:n,is_completed:r}],console.log("\u2705 Using localStorage fallback for course data")}}}catch(t){console.log("Could not use localStorage fallback")}}if(o&&o.length>0){const e=o[0];try{await ya.from("user_courses").update({last_accessed:(new Date).toISOString()}).eq("user_id",s.id).eq("course_id",e.course_id)}catch(r){console.log("Could not update last_accessed timestamp")}const{data:t,error:n}=await ya.from("courses").select("id, title, description, level, cover_photo_url, created_by").eq("id",e.course_id).single();if(n)return void console.error("Error fetching course data:",n);const{count:a}=await ya.from("course_videos").select("*",{count:"exact",head:!0}).eq("course_id",t.id),i=a>0?Math.round(e.completed_lessons/a*100):0;w({id:t.id,title:t.title,progress:i,totalLessons:a||0,completedLessons:e.completed_lessons||0,category:t.level||"General",instructor:"Admin",rating:4.8,enrolledStudents:1247,image:t.cover_photo_url||"/api/placeholder/300/200"})}else try{const e=localStorage.getItem("recent_course_id"),t=localStorage.getItem("recent_course_progress"),n=localStorage.getItem("recent_course_timestamp");if(e&&t&&n){const r=Date.now()-new Date(n).getTime();if(r/36e5<24){w({id:e,title:"Recent Course",progress:parseInt(t)||0,totalLessons:0,completedLessons:0,category:"General",instructor:"Admin",rating:4.8,enrolledStudents:1247,image:"/api/placeholder/300/200"});try{const{data:n}=await ya.from("courses").select("title, level, cover_photo_url").eq("id",e).single();if(n){const{count:r}=await ya.from("course_videos").select("*",{count:"exact",head:!0}).eq("course_id",e),a=r||0,s=a>0?Math.round(parseInt(t)||0):0,i=a>0?Math.floor((parseInt(t)||0)/100*a):0;w(e=>e?l(l({},e),{},{title:n.title,category:n.level||"General",image:n.cover_photo_url||"/api/placeholder/300/200",totalLessons:a,completedLessons:i,progress:s}):null)}}catch(a){console.log("Could not fetch course details for localStorage course")}}}}catch(t){console.log("Could not check localStorage for recent courses")}const{data:c,error:d}=await ya.from("courses").select("\n          id,\n          title,\n          description,\n          level,\n          cover_photo_url,\n          created_by\n        ").order("created_at",{ascending:!1}).limit(6);if(d)return void console.error("Error fetching courses:",d);const u=(null===(e=o)||void 0===e?void 0:e.map(e=>e.course_id))||[],m=((null===c||void 0===c?void 0:c.filter(e=>!u.includes(e.id)))||[]).slice(0,2).map(e=>({id:e.id,title:e.title,progress:0,totalLessons:0,completedLessons:0,category:e.level||"General",instructor:"Admin",rating:4.7,enrolledStudents:1e3,image:e.cover_photo_url||"/api/placeholder/300/200"}));N(m)}catch(n){console.error("Error in fetchCourseData:",n)}finally{S(!1)}},[null===s||void 0===s?void 0:s.id]);(0,e.useEffect)(()=>{g(),v(),b(),x()},[null===s||void 0===s?void 0:s.id,g,v,b,x]);const[y,w]=(0,e.useState)(null),[j,N]=(0,e.useState)([]),[k,S]=(0,e.useState)(!0),[_,C]=(0,e.useState)([]),[E,T]=(0,e.useState)([]),P=(0,e.useCallback)(()=>{if(!o||!y)return;const e=[],t=[];o.xp>0&&e.push({id:"1",name:"First Steps",description:"Complete your first lesson",icon:"\ud83c\udfaf",earned:!0,earnedDate:"Today"}),o.streak_count>=7?e.push({id:"2",name:"Week Warrior",description:"Learn for 7 days in a row",icon:"\ud83d\udd25",earned:!0,earnedDate:"Today"}):e.push({id:"2",name:"Week Warrior",description:"Learn for 7 days in a row",icon:"\ud83d\udd25",earned:!1,progress:Math.min(o.streak_count/7*100,100)}),y.progress>=100?e.push({id:"3",name:"Course Master",description:"Complete a full course",icon:"\ud83c\udfc6",earned:!0,earnedDate:"Today"}):e.push({id:"3",name:"Course Master",description:"Complete a full course",icon:"\ud83c\udfc6",earned:!1,progress:y.progress}),t.push({id:"1",title:"Early Bird",description:"Complete a lesson before 9 AM",xp:50,earned:o.xp>100,earnedDate:o.xp>100?"Today":void 0}),t.push({id:"2",title:"Speed Learner",description:"Complete 5 lessons in one day",xp:100,earned:o.xp>200}),t.push({id:"3",title:"Social Butterfly",description:"Earn XP from multiple learning activities",xp:75,earned:o.xp>150,earnedDate:o.xp>150?"Today":void 0}),C(e),T(t)},[o,y]);(0,e.useEffect)(()=>{P()},[P]);const[L]=(0,e.useState)(["The only way to do great work is to love what you do. - Steve Jobs","Education is the most powerful weapon which you can use to change the world. - Nelson Mandela","Success is not final, failure is not fatal: it is the courage to continue that counts. - Winston Churchill","The future belongs to those who believe in the beauty of their dreams. - Eleanor Roosevelt"]),[A]=(0,e.useState)(L[Math.floor(Math.random()*L.length)]);return m?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16 flex items-center justify-center",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Na.jsx)("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})}):(0,Na.jsxs)("div",{className:"min-h-screen bg-gray-50 pt-16",children:[(0,Na.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,Na.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",(null===s||void 0===s?void 0:s.name)||(null===s||void 0===s||null===(t=s.email)||void 0===t?void 0:t.split("@")[0])||"Student","! \ud83d\udc4b"]}),(0,Na.jsx)("p",{className:"text-gray-600",children:"Continue your learning journey"})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-2 bg-blue-50 px-4 py-2 rounded-lg",children:[(0,Na.jsx)(rs,{className:"text-orange-500"}),(0,Na.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:[o.streak_count," day streak"]})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2 bg-purple-50 px-4 py-2 rounded-lg",children:[(0,Na.jsx)(Ss,{className:"text-purple-500"}),(0,Na.jsxs)("span",{className:"text-sm font-medium text-purple-900",children:[o.xp," XP"]})]})]})]})})}),(0,Na.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i&&(0,Na.jsx)("div",{className:"mb-8 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl shadow-sm border border-purple-200 p-6",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(Xa,{className:"text-purple-600 text-xl"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h3",{className:"font-semibold text-gray-900 text-lg",children:"\ud83c\udf89 Admin Access Granted!"}),(0,Na.jsx)("p",{className:"text-sm text-gray-700",children:"You are signed in as an administrator. You can now access admin features and manage courses."}),(null===(n=a.state)||void 0===n?void 0:n.redirectedFrom)&&(0,Na.jsxs)("p",{className:"text-xs text-purple-600 mt-1 italic",children:["\ud83d\udd0d Debug: User was redirected from ",a.state.redirectedFrom]})]})]}),(0,Na.jsxs)("button",{onClick:()=>r("/admin"),className:"bg-purple-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[(0,Na.jsx)("span",{children:"Go to Admin Panel"}),(0,Na.jsx)(Ba,{className:"text-sm"})]})]})}),d.isActive&&!h&&(0,Na.jsx)(Js,{trialStatus:d,onSubscribe:()=>r("/profile")}),(0,Na.jsx)("div",{className:"mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl shadow-sm border border-blue-200 p-4",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(Ss,{className:"text-blue-500 text-lg"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:"\ud83c\udfaf XP System Active"}),(0,Na.jsx)("p",{className:"text-xs text-gray-700",children:"Your learning activities automatically earn XP and maintain your streak. Watch lessons, complete courses, and stay consistent!"})]})]})}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Na.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Na.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Your Progress"}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)(Ka,{className:"text-green-500"}),(0,Na.jsxs)("span",{className:"text-sm text-gray-600",children:["Level ",o.level]})]})]}),k?(0,Na.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,Na.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading your courses..."})]}):y?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsxs)("div",{className:"mb-6",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Na.jsx)("h3",{className:"font-semibold text-gray-900",children:y.title}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:y.category}),(0,Na.jsxs)("span",{className:"text-sm text-gray-600",children:[y.completedLessons,"/",y.totalLessons," videos"]})]})]}),(0,Na.jsx)("div",{className:"relative mb-3",children:(0,Na.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,Na.jsx)("div",{className:"h-3 rounded-full ".concat((D=y.progress,D>=80?"bg-green-500":D>=60?"bg-blue-500":D>=40?"bg-yellow-500":"bg-red-500")," transition-all duration-300"),style:{width:"".concat(y.progress,"%")}})})}),(0,Na.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsxs)("span",{className:"text-sm text-gray-600",children:[(0,Na.jsxs)("strong",{children:[y.progress,"%"]})," complete"]}),(0,Na.jsxs)("span",{className:"text-sm text-gray-500",children:[y.totalLessons-y.completedLessons," videos remaining"]})]}),(0,Na.jsx)("span",{className:"text-sm text-green-600 font-medium",children:y.progress>0?"Keep going! \ud83d\ude80":"Start watching! \ud83c\udfac"})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-3 gap-4 bg-gray-50 rounded-lg p-3",children:[(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-lg font-bold text-blue-600",children:y.completedLessons}),(0,Na.jsx)("div",{className:"text-xs text-gray-600",children:"Videos Watched"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-lg font-bold text-green-600",children:y.totalLessons}),(0,Na.jsx)("div",{className:"text-xs text-gray-600",children:"Total Videos"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsxs)("div",{className:"text-lg font-bold text-purple-600",children:[y.progress,"%"]}),(0,Na.jsx)("div",{className:"text-xs text-gray-600",children:"Progress"})]})]}),(0,Na.jsx)("div",{className:"mt-4",children:(0,Na.jsxs)("button",{onClick:()=>r("/course/".concat(y.id)),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-200 flex items-center justify-center space-x-2",children:[(0,Na.jsx)("span",{children:"\ud83c\udfac Continue Learning"}),(0,Na.jsx)(Ba,{className:"text-sm"})]})})]}),(0,Na.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 border border-blue-200",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(Ps,{className:"text-yellow-500 text-xl"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h4",{className:"font-semibold text-gray-900",children:"Next Milestone"}),(0,Na.jsx)("p",{className:"text-sm text-gray-600",children:y.progress>=100?"\ud83c\udf89 Course completed! You've earned the 'Course Master' badge!":y.progress>=75?"Almost there! Complete the remaining videos to finish this course!":y.progress>=50?"Great progress! You're halfway through. Keep up the momentum!":y.progress>=25?"Good start! Watch a few more videos to reach the 50% milestone!":"Watch your first video to earn the 'First Steps' badge!"})]})]})})]}):(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)("div",{className:"text-gray-400 mb-4",children:(0,Na.jsx)("svg",{className:"h-16 w-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 5.477 5.754 5 7.5 5s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 19 16.5 19c-1.746 0-3.332-.523-4.5-1.253"})})}),(()=>{try{const e=localStorage.getItem("recent_course_id"),t=localStorage.getItem("recent_course_progress"),n=localStorage.getItem("recent_course_timestamp");if(e&&t&&n){const t=Date.now()-new Date(n).getTime();if(t/36e5<24)return(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Continue Your Learning Journey"}),(0,Na.jsx)("p",{className:"text-gray-600 mb-4",children:"You were recently learning! Pick up where you left off or explore new courses."}),(0,Na.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 mb-4 border border-blue-200",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)("div",{className:"text-2xl",children:"\ud83c\udfac"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:"Recent Activity"}),(0,Na.jsx)("p",{className:"text-xs text-gray-700",children:"You were working on a course recently. Your progress is being tracked!"})]})]})}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,Na.jsx)("button",{onClick:()=>r("/course/".concat(e)),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-2 rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-200",children:"Continue Learning"}),(0,Na.jsx)("button",{onClick:()=>r("/courses"),className:"bg-gradient-to-r from-green-600 to-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:from-green-700 hover:to-blue-700 transition-all duration-200",children:"Browse All Courses"})]})]})}return(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to Start Learning?"}),(0,Na.jsx)("p",{className:"text-gray-600 mb-4",children:"Choose your first course and begin your learning journey today!"}),(0,Na.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-4 mb-4 border border-green-200",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)("div",{className:"text-2xl",children:"\ud83c\udfaf"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:"Quick Start Guide"}),(0,Na.jsx)("p",{className:"text-xs text-gray-700",children:'Browse our course catalog, pick a topic that interests you, and click "Start Learning" to begin!'})]})]})}),(0,Na.jsx)("button",{onClick:()=>r("/courses"),className:"bg-gradient-to-r from-green-600 to-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:from-green-700 hover:to-blue-700 transition-all duration-200",children:"Browse All Courses"})]})}catch(e){return(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to Start Learning?"}),(0,Na.jsx)("p",{className:"text-gray-600 mb-4",children:"Choose your first course and begin your learning journey today!"}),(0,Na.jsx)("button",{onClick:()=>r("/courses"),className:"bg-gradient-to-r from-green-600 to-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:from-green-700 hover:to-blue-700 transition-all duration-200",children:"Browse All Courses"})]})}})()]})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Na.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Recommended for You"}),(0,Na.jsx)("span",{className:"text-sm text-gray-600",children:"AI-powered suggestions"})]}),k?(0,Na.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,Na.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading recommendations..."})]}):j.length>0?(0,Na.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:j.map(e=>(0,Na.jsx)("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,Na.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Na.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:e.title.split(" ").map(e=>e[0]).join("")}),(0,Na.jsxs)("div",{className:"flex-1",children:[(0,Na.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:e.title}),(0,Na.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.instructor}),(0,Na.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,Na.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Na.jsx)(Ss,{className:"text-yellow-400"}),(0,Na.jsx)("span",{children:e.rating})]}),(0,Na.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Na.jsx)(Os,{className:"text-gray-400"}),(0,Na.jsx)("span",{children:e.enrolledStudents})]})]}),(0,Na.jsx)("div",{className:"mt-3",children:(0,Na.jsx)("button",{onClick:()=>r("/course/".concat(e.id)),className:"bg-primary-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-primary-700 transition-colors",children:"Start Learning"})})]})]})},e.id))}):(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)("div",{className:"text-gray-400 mb-4",children:(0,Na.jsx)("svg",{className:"h-16 w-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Recommendations Yet"}),(0,Na.jsx)("p",{className:"text-gray-600 mb-4",children:"Explore our course catalog to find your next learning adventure"}),(0,Na.jsx)("button",{onClick:()=>r("/courses"),className:"bg-primary-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-primary-700 transition-colors",children:"Explore Courses"})]})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,Na.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Your Standing"}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Na.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Na.jsx)(Xa,{className:"text-yellow-500 text-xl"}),(0,Na.jsx)("h4",{className:"font-semibold text-gray-900",children:"Class Ranking"})]}),(0,Na.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:o.class_ranking}),(0,Na.jsx)("p",{className:"text-sm text-gray-600",children:"You're ahead of most learners in your batch!"})]}),(0,Na.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg p-4",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Na.jsx)(Os,{className:"text-blue-500 text-xl"}),(0,Na.jsx)("h4",{className:"font-semibold text-gray-900",children:"Community"})]}),(0,Na.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:o.total_users.toLocaleString()}),(0,Na.jsx)("p",{className:"text-sm text-gray-600",children:"Students learning with you"})]})]})]})]}),(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Na.jsx)(rs,{className:"text-orange-500 text-xl"}),(0,Na.jsx)("h3",{className:"font-semibold text-gray-900",children:"Learning Streak"})]}),(0,Na.jsxs)("div",{className:"text-center mb-4",children:[(0,Na.jsx)("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:o.streak_count}),(0,Na.jsx)("p",{className:"text-sm text-gray-600",children:"days in a row"})]}),0===o.xp?(0,Na.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 mb-4 border border-blue-200",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\ude80"}),(0,Na.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Ready to Start Your Journey?"}),(0,Na.jsx)("p",{className:"text-sm text-gray-700 mb-3",children:"Every great adventure begins with a single step. Start learning today and watch your XP grow!"}),(0,Na.jsx)("button",{onClick:()=>r("/courses"),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-200",children:"Explore Courses"})]})}):(0,Na.jsxs)("div",{className:"bg-orange-50 rounded-lg p-3 mb-4",children:[(0,Na.jsxs)("p",{className:"text-sm text-orange-800",children:["\ud83d\udd25 You've learned ",o.streak_count," days in a row. Keep it up!"]}),(0,Na.jsxs)("p",{className:"text-xs text-orange-700 mt-1",children:["Daily streak bonus: +",10*o.streak_count," XP"]})]}),(0,Na.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,Na.jsxs)("p",{className:"text-sm text-gray-700 italic",children:['"',A,'"']})})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,Na.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Badges Earned"}),(0,Na.jsx)("div",{className:"space-y-3",children:_.map(e=>(0,Na.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-lg ".concat(e.earned?"bg-green-50 border border-green-200":"bg-gray-50 border border-gray-200"),children:[(0,Na.jsx)("div",{className:"text-2xl",children:e.icon}),(0,Na.jsxs)("div",{className:"flex-1",children:[(0,Na.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,Na.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),e.earned&&e.earnedDate&&(0,Na.jsxs)("p",{className:"text-xs text-green-600",children:["Earned ",e.earnedDate]}),!e.earned&&e.progress&&(0,Na.jsxs)("div",{className:"mt-2",children:[(0,Na.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Na.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"".concat(e.progress,"%")}})}),(0,Na.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.progress,"% complete"]})]})]}),e.earned&&(0,Na.jsx)(Ga,{className:"text-green-500"})]},e.id))})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,Na.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Experience Points"}),0===o.xp?(0,Na.jsxs)("div",{className:"text-center mb-4",children:[(0,Na.jsx)("div",{className:"text-3xl font-bold text-gray-400 mb-2",children:"Level 1"}),(0,Na.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"0 total XP"}),(0,Na.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-3 border border-green-200",children:(0,Na.jsx)("p",{className:"text-xs text-green-800 font-medium",children:"\ud83c\udfaf Complete your first lesson to earn 50 XP and unlock your potential!"})})]}):(0,Na.jsxs)("div",{className:"text-center mb-4",children:[(0,Na.jsxs)("div",{className:"text-3xl font-bold ".concat((O=o.level,O>=10?"text-purple-600":O>=5?"text-blue-600":"text-green-600")),children:["Level ",o.level]}),(0,Na.jsxs)("p",{className:"text-sm text-gray-600",children:[o.xp.toLocaleString()," total XP"]}),(0,Na.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Next level: ",(1e3*o.level-o.xp).toLocaleString()," XP needed"]})]}),(0,Na.jsx)("div",{className:"space-y-3",children:E.map(e=>(0,Na.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg ".concat(e.earned?"bg-green-50 border border-green-200":"bg-gray-50 border border-gray-200"),children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,Na.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,Na.jsxs)("div",{className:"text-right",children:[(0,Na.jsxs)("div",{className:"text-sm font-semibold text-green-600",children:["+",e.xp," XP"]}),e.earned&&(0,Na.jsx)(Ga,{className:"text-green-500 ml-2"})]})]},e.id))})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Na.jsx)(Xa,{className:"text-yellow-500 text-xl"}),(0,Na.jsx)("h3",{className:"font-semibold text-gray-900",children:"Subscription"})]}),d.isActive&&!h?(0,Na.jsxs)("div",{className:"text-center mb-4",children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-red-600 mb-2",children:d.daysRemaining}),(0,Na.jsx)("p",{className:"text-sm text-gray-600",children:"trial days left"}),(0,Na.jsx)("div",{className:"bg-red-50 rounded-lg p-3 mt-3",children:(0,Na.jsx)("p",{className:"text-xs text-red-800 font-medium",children:d.daysRemaining<=3?"Upgrade now to keep learning!":"Upgrade to keep learning!"})})]}):h?(0,Na.jsxs)("div",{className:"text-center mb-4",children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-green-600 mb-2",children:"Active"}),(0,Na.jsx)("p",{className:"text-sm text-gray-600",children:"subscription"}),(0,Na.jsx)("div",{className:"bg-green-50 rounded-lg p-3 mt-3",children:(0,Na.jsx)("p",{className:"text-xs text-green-800 font-medium",children:"You have full access! \ud83c\udf89"})})]}):(0,Na.jsxs)("div",{className:"text-center mb-4",children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-gray-600 mb-2",children:"No Access"}),(0,Na.jsx)("p",{className:"text-sm text-gray-600",children:"subscription required"}),(0,Na.jsx)("div",{className:"bg-gray-50 rounded-lg p-3 mt-3",children:(0,Na.jsx)("p",{className:"text-xs text-gray-800 font-medium",children:"Subscribe to start learning!"})})]}),(0,Na.jsxs)("button",{onClick:()=>r("/profile"),className:"w-full bg-primary-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-primary-700 transition-colors flex items-center justify-center space-x-2",children:[(0,Na.jsx)("span",{children:d.isActive&&!h?"Upgrade Now":h?"Manage Subscription":"Subscribe Here"}),(0,Na.jsx)(Ba,{className:"text-sm"})]})]}),(0,Na.jsx)("div",{className:"bg-gradient-to-r from-primary-50 to-blue-50 rounded-xl shadow-sm border border-primary-200 p-6",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)(vs,{className:"text-primary-600 text-2xl mx-auto mb-3"}),(0,Na.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Continue Learning"}),y?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Pick up where you left off in ",y.title]}),(0,Na.jsx)("button",{onClick:()=>r("/course/".concat(y.id,"/overview")),className:"w-full bg-primary-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-primary-700 transition-colors",children:"Resume Course"})]}):(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Start your learning journey today"}),(0,Na.jsx)("button",{onClick:()=>r("/courses"),className:"w-full bg-primary-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-primary-700 transition-colors",children:"Browse Courses"})]})]})}),(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Na.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Profile Settings"}),(0,Na.jsx)("span",{className:"text-sm text-gray-600",children:"Update your information"})]}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,Na.jsx)("input",{type:"text",value:(null===s||void 0===s?void 0:s.name)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"}),(0,Na.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Name cannot be changed here"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,Na.jsx)("input",{type:"email",value:(null===s||void 0===s?void 0:s.email)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"}),(0,Na.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),(0,Na.jsxs)("div",{className:"pt-4",children:[(0,Na.jsxs)("button",{onClick:()=>r("/profile"),className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white py-3 px-4 rounded-lg font-medium hover:from-primary-700 hover:to-primary-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center space-x-2",children:[(0,Na.jsx)(As,{className:"text-sm"}),(0,Na.jsx)("span",{children:"Manage Full Profile"}),(0,Na.jsx)(Ba,{className:"text-sm"})]}),(0,Na.jsx)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Access complete profile settings, bio, and subscription management"})]})]})]})]})]})]})]});var O,D},Qs=()=>{const{resetPassword:t}=Sa(),[n,r]=(0,e.useState)(""),[a,s]=(0,e.useState)(!1),[i,o]=(0,e.useState)(""),[l,c]=(0,e.useState)(""),d=(0,e.useMemo)(()=>""!==n.trim()&&n.includes("@"),[n]);return(0,Na.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 pt-16",children:[(0,Na.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Your Password"}),(0,Na.jsx)("p",{className:"text-gray-600",children:"Enter your email address and we'll send you a link to reset your password"})]})}),(0,Na.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Na.jsxs)("div",{className:"bg-white py-8 px-4 shadow-xl rounded-lg sm:px-10",children:[i&&(0,Na.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:i}),l&&(0,Na.jsx)("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:l}),(0,Na.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o(""),c(""),n.trim()?n.includes("@")||(o("Please enter a valid email address"),0):(o("Email is required"),0)){s(!0);try{console.log("Attempting to reset password for:",n);const{error:e}=await t(n);e?(console.error("Password reset error:",e),o(e.message||"Failed to send reset email")):(console.log("Password reset email sent successfully"),c("Password reset email sent! Please check your inbox."),r(""))}catch(a){console.error("Unexpected error during password reset:",a),o("An unexpected error occurred. Please try again.")}finally{s(!1)}}},className:"space-y-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,Na.jsx)("input",{type:"email",id:"email",name:"email",value:n,onChange:e=>{r(e.target.value),i&&o("")},required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),(0,Na.jsx)("div",{children:(0,Na.jsx)("button",{type:"submit",disabled:a||!d,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ".concat(d&&!a?"bg-primary-600 hover:bg-primary-700":"bg-gray-400 cursor-not-allowed"),children:a?"Sending Reset Email...":"Send Reset Email"})}),!d&&(0,Na.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,Na.jsx)("p",{children:"Please complete all required fields:"}),(0,Na.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[!n.trim()&&(0,Na.jsx)("li",{children:"\u2022 Email Address is required"}),n&&!n.includes("@")&&(0,Na.jsx)("li",{children:"\u2022 Please enter a valid email address"})]})]})]}),(0,Na.jsx)("div",{className:"mt-6 text-center",children:(0,Na.jsxs)(ft,{to:"/signin",className:"inline-flex items-center text-sm font-medium text-primary-600 hover:text-primary-500",children:[(0,Na.jsx)(Fa,{className:"mr-2"}),"Back to Sign In"]})})]})})]})},Xs=()=>{const{user:t}=Sa(),n=pe(),[r,a]=(0,e.useState)({totalUsers:0,totalCourses:0,totalLessons:0,activeUsers:0,subscribedUsers:0,subscriptionGrowth:0,monthlyEnrollments:0,enrollmentGrowth:0,completionRate:0,averageProgress:0,revenueThisMonth:0,revenueGrowth:0}),[s,i]=(0,e.useState)(!0),[o,l]=(0,e.useState)("");(0,e.useEffect)(()=>{"admin"===(null===t||void 0===t?void 0:t.role)&&c()},[t]);const c=async()=>{try{i(!0),l("");const{count:e,error:t}=await ya.from("profiles").select("*",{count:"exact",head:!0});if(t)throw t;const{count:n,error:r}=await ya.from("courses").select("*",{count:"exact",head:!0});if(r)throw r;const{count:s,error:o}=await ya.from("lessons").select("*",{count:"exact",head:!0});if(o)throw o;const c=e||0,d=Math.floor(.35*(e||0)),u=12.5,m=Math.floor(.28*(e||0));a({totalUsers:e||0,totalCourses:n||0,totalLessons:s||0,activeUsers:c,subscribedUsers:d,subscriptionGrowth:u,monthlyEnrollments:m,enrollmentGrowth:8.3,completionRate:67.2,averageProgress:73.8,revenueThisMonth:2500*d,revenueGrowth:15.7})}catch(e){console.error("Error fetching dashboard stats:",e),l("Failed to load dashboard statistics")}finally{i(!1)}};return t&&"admin"===t.role?s?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,Na.jsx)("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-24 pb-8",children:(0,Na.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Na.jsxs)("div",{className:"mb-8",children:[(0,Na.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,Na.jsxs)("p",{className:"mt-2 text-gray-600",children:["Welcome back, ",t.name,"!"]})]}),o&&(0,Na.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded",children:o}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Na.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Na.jsx)("div",{className:"p-5",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("div",{className:"flex-shrink-0",children:(0,Na.jsx)("div",{className:"w-8 h-8 bg-indigo-500 rounded-md flex items-center justify-center",children:(0,Na.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})})}),(0,Na.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Na.jsxs)("dl",{children:[(0,Na.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Users"}),(0,Na.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:r.totalUsers})]})})]})})}),(0,Na.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Na.jsx)("div",{className:"p-5",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("div",{className:"flex-shrink-0",children:(0,Na.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center",children:(0,Na.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})}),(0,Na.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Na.jsxs)("dl",{children:[(0,Na.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Courses"}),(0,Na.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:r.totalCourses})]})})]})})}),(0,Na.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Na.jsx)("div",{className:"p-5",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("div",{className:"flex-shrink-0",children:(0,Na.jsx)("div",{className:"w-8 h-8 bg-yellow-500 rounded-md flex items-center justify-center",children:(0,Na.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})}),(0,Na.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Na.jsxs)("dl",{children:[(0,Na.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Lessons"}),(0,Na.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:r.totalLessons})]})})]})})}),(0,Na.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Na.jsx)("div",{className:"p-5",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("div",{className:"flex-shrink-0",children:(0,Na.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center",children:(0,Na.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})}),(0,Na.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Na.jsxs)("dl",{children:[(0,Na.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Users"}),(0,Na.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:r.activeUsers})]})})]})})})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,Na.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,Na.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,Na.jsxs)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4 flex items-center",children:[(0,Na.jsx)("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Subscription Analytics"]}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("span",{className:"text-sm text-gray-600",children:"Total Subscribed Users"}),(0,Na.jsx)("span",{className:"text-lg font-semibold text-green-600",children:r.subscribedUsers})]}),(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("span",{className:"text-sm text-gray-600",children:"Month-over-Month Growth"}),(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsxs)("span",{className:"text-sm font-medium ".concat(r.subscriptionGrowth>=0?"text-green-600":"text-red-600"),children:[r.subscriptionGrowth>=0?"+":"",r.subscriptionGrowth,"%"]}),(0,Na.jsx)("svg",{className:"w-4 h-4 ml-1 ".concat(r.subscriptionGrowth>=0?"text-green-500":"text-red-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:r.subscriptionGrowth>=0?"M5 10l7-7m0 0l7 7m-7-7v18":"M19 14l-7 7m0 0l-7-7m7 7V3"})})]})]}),(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("span",{className:"text-sm text-gray-600",children:"Revenue This Month"}),(0,Na.jsxs)("span",{className:"text-lg font-semibold text-blue-600",children:["\u20a6",r.revenueThisMonth.toLocaleString()]})]}),(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("span",{className:"text-sm text-gray-600",children:"Revenue Growth"}),(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsxs)("span",{className:"text-sm font-medium ".concat(r.revenueGrowth>=0?"text-green-600":"text-red-600"),children:[r.revenueGrowth>=0?"+":"",r.revenueGrowth,"%"]}),(0,Na.jsx)("svg",{className:"w-4 h-4 ml-1 ".concat(r.revenueGrowth>=0?"text-green-500":"text-red-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:r.revenueGrowth>=0?"M5 10l7-7m0 0l7 7m-7-7v18":"M19 14l-7 7m0 0l-7-7m7 7V3"})})]})]})]})]})}),(0,Na.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,Na.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,Na.jsxs)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4 flex items-center",children:[(0,Na.jsx)("svg",{className:"w-5 h-5 text-blue-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Course Performance"]}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("span",{className:"text-sm text-gray-600",children:"Monthly Enrollments"}),(0,Na.jsx)("span",{className:"text-lg font-semibold text-blue-600",children:r.monthlyEnrollments})]}),(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("span",{className:"text-sm text-gray-600",children:"Enrollment Growth"}),(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsxs)("span",{className:"text-sm font-medium ".concat(r.enrollmentGrowth>=0?"text-green-600":"text-red-600"),children:[r.enrollmentGrowth>=0?"+":"",r.enrollmentGrowth,"%"]}),(0,Na.jsx)("svg",{className:"w-4 h-4 ml-1 ".concat(r.enrollmentGrowth>=0?"text-green-500":"text-red-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:r.enrollmentGrowth>=0?"M5 10l7-7m0 0l7 7m-7-7v18":"M19 14l-7 7m0 0l-7-7m7 7V3"})})]})]}),(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("span",{className:"text-sm text-gray-600",children:"Completion Rate"}),(0,Na.jsxs)("span",{className:"text-lg font-semibold text-purple-600",children:[r.completionRate,"%"]})]}),(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("span",{className:"text-sm text-gray-600",children:"Average Progress"}),(0,Na.jsxs)("span",{className:"text-lg font-semibold text-orange-600",children:[r.averageProgress,"%"]})]})]})]})})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[(0,Na.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,Na.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,Na.jsxs)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4 flex items-center",children:[(0,Na.jsx)("svg",{className:"w-5 h-5 text-purple-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"User Engagement"]}),(0,Na.jsxs)("div",{className:"space-y-3",children:[(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("span",{className:"text-sm text-gray-600",children:"Active Users"}),(0,Na.jsx)("span",{className:"text-lg font-semibold text-purple-600",children:r.activeUsers})]}),(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("span",{className:"text-sm text-gray-600",children:"Engagement Rate"}),(0,Na.jsxs)("span",{className:"text-lg font-semibold text-purple-600",children:[Math.round(r.activeUsers/r.totalUsers*100),"%"]})]}),(0,Na.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Na.jsx)("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"".concat(Math.round(r.activeUsers/r.totalUsers*100),"%")}})})]})]})}),(0,Na.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,Na.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,Na.jsxs)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4 flex items-center",children:[(0,Na.jsx)("svg",{className:"w-5 h-5 text-indigo-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2H5a2 2 0 00-2 2v2m14 0V7a2 2 0 00-2-2H5a2 2 0 00-2 2v2m14 0V5a2 2 0 00-2-2H5a2 2 0 00-2 2v2"})}),"Content Metrics"]}),(0,Na.jsxs)("div",{className:"space-y-3",children:[(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("span",{className:"text-sm text-gray-600",children:"Total Courses"}),(0,Na.jsx)("span",{className:"text-lg font-semibold text-indigo-600",children:r.totalCourses})]}),(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("span",{className:"text-sm text-gray-600",children:"Total Lessons"}),(0,Na.jsx)("span",{className:"text-lg font-semibold text-indigo-600",children:r.totalLessons})]}),(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("span",{className:"text-sm text-gray-600",children:"Avg Lessons/Course"}),(0,Na.jsx)("span",{className:"text-lg font-semibold text-indigo-600",children:r.totalCourses>0?Math.round(r.totalLessons/r.totalCourses):0})]})]})]})}),(0,Na.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,Na.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,Na.jsxs)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4 flex items-center",children:[(0,Na.jsx)("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"Growth Trends"]}),(0,Na.jsxs)("div",{className:"space-y-3",children:[(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("span",{className:"text-sm text-gray-600",children:"User Growth"}),(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsxs)("span",{className:"text-sm font-medium text-green-600",children:["+",Math.round(.15*r.totalUsers)]}),(0,Na.jsx)("svg",{className:"w-4 h-4 ml-1 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})]})]}),(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("span",{className:"text-sm text-gray-600",children:"Course Growth"}),(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsxs)("span",{className:"text-sm font-medium text-green-600",children:["+",Math.round(.25*r.totalCourses)]}),(0,Na.jsx)("svg",{className:"w-4 h-4 ml-1 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})]})]}),(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("span",{className:"text-sm text-gray-600",children:"Revenue Growth"}),(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsxs)("span",{className:"text-sm font-medium text-green-600",children:["+",r.revenueGrowth,"%"]}),(0,Na.jsx)("svg",{className:"w-4 h-4 ml-1 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})]})]})]})]})})]}),(0,Na.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,Na.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,Na.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Quick Actions"}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,Na.jsxs)("button",{onClick:()=>n("/admin/courses/new"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,Na.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add New Course"]}),(0,Na.jsxs)("button",{onClick:()=>n("/admin/courses"),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,Na.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Manage Courses"]}),(0,Na.jsxs)("button",{onClick:()=>n("/admin/blog"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,Na.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),"Manage Blog"]})]})]})})]})}):(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,Na.jsx)("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})})},Zs=()=>{const t=pe(),[n,r]=(0,e.useState)(1),[a,s]=(0,e.useState)(!1),[i,o]=(0,e.useState)(""),[c,d]=(0,e.useState)(!1),u=(0,e.useRef)(null),{user:m}=Sa(),[p,h]=(0,e.useState)({title:"",description:"",level:"beginner",category:"business-entrepreneurship",coverPhoto:void 0,videos:[]}),[f,g]=(0,e.useState)({name:"",duration:"",link:""}),[x,v]=(0,e.useState)(null),b=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},y=(e,t)=>{h(n=>l(l({},n),{},{[e]:t}))},w=(e,t)=>{g(n=>l(l({},n),{},{[e]:t}))},j=()=>{if(!f.name.trim()||!f.duration.trim()||!f.link.trim())return void o("Please fill in all video fields");const e={id:Math.random().toString(36).substr(2,9),name:f.name.trim(),duration:f.duration.trim(),link:f.link.trim()};h(t=>l(l({},t),{},{videos:[...t.videos,e]})),g({name:"",duration:"",link:""}),o("")},N=e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&h(e=>l(l({},e),{},{coverPhoto:n}))},k=(0,e.useCallback)(e=>{e.preventDefault(),d(!0)},[]),S=(0,e.useCallback)(e=>{e.preventDefault(),d(!1)},[]),_=(0,e.useCallback)(e=>{e.preventDefault(),d(!1);const t=Array.from(e.dataTransfer.files).find(e=>e.type.startsWith("image/"));t&&h(e=>l(l({},e),{},{coverPhoto:t}))},[]),C=async()=>{if(p.title.trim())if(0!==p.videos.length)try{s(!0),o("");let n=null;if(p.coverPhoto)try{const e=p.coverPhoto.name.split(".").pop(),t="".concat(Date.now(),".").concat(e),r="course-covers/".concat(t),{error:a}=await ya.storage.from("course-covers").upload(r,p.coverPhoto);if(a)console.warn("Cover photo upload failed, continuing without it:",a.message);else{const{data:{publicUrl:e}}=ya.storage.from("course-covers").getPublicUrl(r);n=e}}catch(e){console.warn("Cover photo upload failed, continuing without it:",e)}console.log("About to create course with data:",{title:p.title,description:p.description,level:p.level,category:p.category,levelType:typeof p.level,cover_photo_url:n,created_by:null===m||void 0===m?void 0:m.id});const{data:r,error:a}=await ya.from("courses").insert({title:p.title,description:p.description,level:p.level,category:p.category,cover_photo_url:n,created_by:null===m||void 0===m?void 0:m.id}).select().single();if(a)throw new Error("Failed to create course: ".concat(a.message));const i=p.videos.map((e,t)=>({course_id:r.id,name:e.name,duration:e.duration,link:e.link,order_index:t+1})),{error:l}=await ya.from("course_videos").insert(i);if(l)throw await ya.from("courses").delete().eq("id",r.id),new Error("Failed to create course videos: ".concat(l.message));console.log("Course created successfully:",r),t("/admin/courses")}catch(n){console.error("Create course error:",n),o(n.message||"Failed to create course")}finally{s(!1)}else o("Please add at least one video to the course");else o("Please enter a course title")};return(0,Na.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 pt-24",children:(0,Na.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Na.jsxs)("div",{className:"text-center mb-8",children:[(0,Na.jsx)("button",{onClick:()=>t("/admin"),className:"inline-flex items-center px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors duration-200 mb-4",children:"\u2190 Back to Admin"}),(0,Na.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"Add New Course"}),(0,Na.jsx)("p",{className:"text-gray-600 mt-2",children:"Create a new course with manual video entries"})]}),(0,Na.jsx)("div",{className:"flex justify-center mb-8",children:(0,Na.jsx)("div",{className:"flex items-center space-x-4",children:[1,2,3].map(e=>(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-semibold ".concat(n>=e?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"),children:e}),e<3&&(0,Na.jsx)("div",{className:"w-16 h-1 mx-2 ".concat(n>e?"bg-blue-600":"bg-gray-200")})]},e))})}),(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-xl p-8",children:[1===n&&(0,Na.jsxs)("div",{className:"max-w-2xl mx-auto text-center",children:[(0,Na.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Create New Course"}),(0,Na.jsx)("p",{className:"text-gray-600 mb-8",children:"Enter the basic course information to get started."}),(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Title *"}),(0,Na.jsx)("input",{type:"text",value:p.title,onChange:e=>y("title",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter course title"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Description"}),(0,Na.jsx)("textarea",{value:p.description,onChange:e=>y("description",e.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe what this course covers"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Level"}),(0,Na.jsxs)("select",{value:p.level,onChange:e=>y("level",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Na.jsx)("option",{value:"beginner",children:"Lv 1 \u2013 Beginner"}),(0,Na.jsx)("option",{value:"intermediate",children:"Lv 2 \u2013 Intermediate"}),(0,Na.jsx)("option",{value:"advanced",children:"Lv 3 \u2013 Advanced"}),(0,Na.jsx)("option",{value:"expert",children:"Lv 4 \u2013 Expert"}),(0,Na.jsx)("option",{value:"mastery",children:"Lv 5 \u2013 Mastery"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Category"}),(0,Na.jsxs)("select",{value:p.category,onChange:e=>y("category",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Na.jsx)("option",{value:"business-entrepreneurship",children:"Business & Entrepreneurship"}),(0,Na.jsx)("option",{value:"branding-public-relations",children:"Branding & Public Relations"}),(0,Na.jsx)("option",{value:"content-communication",children:"Content & Communication"}),(0,Na.jsx)("option",{value:"digital-advertising",children:"Digital Advertising"}),(0,Na.jsx)("option",{value:"email-seo-strategies",children:"Email & SEO Strategies"}),(0,Na.jsx)("option",{value:"ui-ux-design",children:"UI/UX Design"}),(0,Na.jsx)("option",{value:"visual-communication",children:"Visual Communication"}),(0,Na.jsx)("option",{value:"video-editing-creation",children:"Video Editing & Creation"}),(0,Na.jsx)("option",{value:"data-science-analytics",children:"Data Science & Analytics"}),(0,Na.jsx)("option",{value:"artificial-intelligence-cloud",children:"Artificial Intelligence & Cloud"}),(0,Na.jsx)("option",{value:"project-workflow-management",children:"Project & Workflow Management"}),(0,Na.jsx)("option",{value:"information-security",children:"Information Security"})]})]})]}),(0,Na.jsx)("button",{onClick:()=>r(2),disabled:!p.title.trim(),className:"mt-8 px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:"Continue to Videos"})]}),2===n&&(0,Na.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Na.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:"Add Course Videos"}),(0,Na.jsx)("p",{className:"text-gray-600 mb-8 text-center",children:"Manually add videos to your course. You can use YouTube embed links or direct video file URLs."}),(0,Na.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add New Video"}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video Name *"}),(0,Na.jsx)("input",{type:"text",value:f.name,onChange:e=>w("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Introduction to React"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration *"}),(0,Na.jsx)("input",{type:"text",value:f.duration,onChange:e=>w("duration",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"15:30 or 15m 30s"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video Link *"}),(0,Na.jsx)("input",{type:"url",value:f.link,onChange:e=>w("link",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"YouTube embed URL or video file URL"})]})]}),(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsx)("button",{onClick:j,className:"px-6 py-2 bg-green-600 text-white font-medium rounded-md hover:bg-green-700 transition-colors duration-200",children:"+ Add New Video"}),(0,Na.jsxs)("div",{className:"text-sm text-gray-500",children:[p.videos.length," video",1!==p.videos.length?"s":""," added"]})]}),i&&(0,Na.jsx)("div",{className:"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-md",children:i})]}),p.videos.length>0&&(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,Na.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Course Videos"})}),(0,Na.jsx)("div",{className:"divide-y divide-gray-200",children:p.videos.map((e,t)=>(0,Na.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between",draggable:!0,onDragStart:e=>((e,t)=>{v(t),e.dataTransfer.effectAllowed="move"})(e,t),onDragOver:b,onDrop:e=>((e,t)=>{e.preventDefault(),null!==x&&x!==t&&(h(e=>{const n=[...e.videos],r=n[x];return n.splice(x,1),n.splice(t,0,r),l(l({},e),{},{videos:n})}),v(null))})(e,t),onDragEnd:()=>v(null),children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsx)("div",{className:"w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-semibold",children:t+1}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,Na.jsx)("p",{className:"text-sm text-gray-500",children:e.duration}),(0,Na.jsx)("p",{className:"text-xs text-blue-600 truncate max-w-xs",children:e.link})]})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)("button",{onClick:()=>(e=>{0!==e&&h(t=>{const n=[...t.videos];return[n[e],n[e-1]]=[n[e-1],n[e]],l(l({},t),{},{videos:n})})})(t),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200",disabled:0===t,children:"\u2191"}),(0,Na.jsx)("button",{onClick:()=>(e=>{h(t=>{if(e===t.videos.length-1)return t;const n=[...t.videos];return[n[e],n[e+1]]=[n[e+1],n[e]],l(l({},t),{},{videos:n})})})(t),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200",disabled:t===p.videos.length-1,children:"\u2193"}),(0,Na.jsx)("button",{onClick:()=>{return t=e.id,void h(e=>l(l({},e),{},{videos:e.videos.filter(e=>e.id!==t)}));var t},className:"text-red-600 hover:text-red-800 transition-colors duration-200",children:"Remove"})]})]},e.id))})]}),(0,Na.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,Na.jsx)("button",{onClick:()=>r(1),className:"px-6 py-3 text-gray-600 hover:text-gray-800 transition-colors duration-200",children:"\u2190 Back to Course Details"}),(0,Na.jsx)("button",{onClick:()=>r(3),disabled:0===p.videos.length,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:"Continue to Cover Photo"})]})]}),3===n&&(0,Na.jsxs)("div",{className:"max-w-2xl mx-auto text-center",children:[(0,Na.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Add Course Cover Photo"}),(0,Na.jsx)("p",{className:"text-gray-600 mb-8",children:"Upload a cover photo for your course (optional). This will make your course more attractive to students."}),(0,Na.jsx)("div",{className:"space-y-6",children:(0,Na.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8",children:p.coverPhoto?(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsx)("div",{className:"mx-auto w-32 h-32 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,Na.jsx)("img",{src:URL.createObjectURL(p.coverPhoto),alt:"Cover preview",className:"w-full h-full object-cover rounded-lg"})}),(0,Na.jsx)("p",{className:"text-sm text-gray-600",children:p.coverPhoto.name}),(0,Na.jsx)("button",{onClick:()=>h(e=>l(l({},e),{},{coverPhoto:void 0})),className:"px-4 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors duration-200",children:"Remove Photo"})]}):(0,Na.jsxs)("div",{className:"text-center ".concat(c?"border-blue-400 bg-blue-50":""),onDragOver:k,onDragLeave:S,onDrop:_,children:[(0,Na.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,Na.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,Na.jsx)("p",{className:"mt-2 text-sm font-medium text-gray-900",children:"Drop your cover photo here"}),(0,Na.jsx)("p",{className:"text-sm text-gray-500",children:"or click to browse files"})]})})}),(0,Na.jsx)("input",{ref:u,type:"file",accept:"image/*",onChange:N,className:"hidden"}),(0,Na.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,Na.jsx)("button",{onClick:()=>r(2),className:"px-6 py-3 text-gray-600 hover:text-gray-800 transition-colors duration-200",children:"\u2190 Back to Videos"}),(0,Na.jsxs)("div",{className:"space-x-4",children:[(0,Na.jsx)("button",{onClick:C,disabled:a,className:"px-8 py-3 bg-gradient-to-r from-green-600 to-blue-600 text-white font-semibold rounded-lg hover:from-green-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:a?"Creating Course...":"Create Course"}),(0,Na.jsx)("button",{onClick:C,disabled:a,className:"px-6 py-3 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors duration-200",children:a?"Creating...":"Skip Cover Photo"})]})]})]})]})]})})},ei=()=>{const{user:t}=Sa(),n=pe(),[r,a]=(0,e.useState)([]),[s,i]=(0,e.useState)(!0),[o,l]=(0,e.useState)(""),[c,d]=(0,e.useState)(""),[u,m]=(0,e.useState)("all");(0,e.useEffect)(()=>{"admin"===(null===t||void 0===t?void 0:t.role)&&p()},[t]);const p=async()=>{try{i(!0),l("");const{data:e,error:t}=await ya.from("courses").select("\n          id,\n          title,\n          description,\n          level,\n          cover_photo_url,\n          created_by,\n          created_at,\n          updated_at,\n          course_videos!inner(\n            duration\n          )\n        ").order("created_at",{ascending:!1});if(t)throw t;const n=(e||[]).map(e=>{let t="0:00";if(e.course_videos&&e.course_videos.length>0){const n=e.course_videos.reduce((e,t)=>{const n=t.duration;if(n.includes(":")){const t=n.split(":");if(2===t.length){const[n,r]=t.map(Number);return e+60*n+(r||0)}if(3===t.length){const[n,r,a]=t.map(Number);return e+3600*n+60*r+(a||0)}}else{if(n.includes("m")&&n.includes("s")){var r,a;return e+60*parseInt((null===(r=n.match(/(\d+)m/))||void 0===r?void 0:r[1])||"0")+parseInt((null===(a=n.match(/(\d+)s/))||void 0===a?void 0:a[1])||"0")}if(n.startsWith("PT")){var s,i;return e+60*parseInt((null===(s=n.match(/(\d+)M/))||void 0===s?void 0:s[1])||"0")+parseInt((null===(i=n.match(/(\d+)S/))||void 0===i?void 0:i[1])||"0")}}return e},0),r=Math.floor(n/3600),a=Math.floor(n%3600/60),s=n%60;t=r>0?"".concat(r,":").concat(a.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0")):"".concat(a,":").concat(s.toString().padStart(2,"0"))}return{id:e.id,title:e.title||"Untitled Course",description:e.description||"No description available",level:e.level||"beginner",cover_photo_url:e.cover_photo_url,created_by:e.created_by,created_at:e.created_at||(new Date).toISOString(),updated_at:e.updated_at||(new Date).toISOString(),totalDuration:t}});a(n),console.log("Fetched courses:",n)}catch(e){console.error("Error fetching courses:",e),l("Failed to load courses from database")}finally{i(!1)}},h=r.filter(e=>{const t=e.title.toLowerCase().includes(c.toLowerCase())||e.description.toLowerCase().includes(c.toLowerCase()),n="all"===u||e.level===u;return t&&n}),f=e=>{const t={beginner:{color:"bg-green-100 text-green-800",text:"Lv 1 \u2013 Beginner"},intermediate:{color:"bg-yellow-100 text-yellow-800",text:"Lv 2 \u2013 Intermediate"},advanced:{color:"bg-red-100 text-red-800",text:"Lv 3 \u2013 Advanced"},expert:{color:"bg-purple-100 text-purple-800",text:"Lv 4 \u2013 Expert"},mastery:{color:"bg-indigo-100 text-indigo-800",text:"Lv 5 \u2013 Mastery"}},n=t[e]||t.beginner;return(0,Na.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(n.color),children:n.text})};return t&&"admin"===t.role?s?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,Na.jsx)("p",{className:"text-gray-600",children:"Loading courses..."})]})}):(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-24 pb-8",children:(0,Na.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Na.jsx)("div",{className:"mb-8",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsxs)("button",{onClick:()=>n("/admin"),className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:[(0,Na.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Admin"]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Courses"}),(0,Na.jsx)("p",{className:"mt-2 text-gray-600",children:"Create, edit, and manage your course catalog"})]})]}),(0,Na.jsxs)("button",{onClick:()=>n("/admin/courses/new"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,Na.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add New Course"]})]})}),o&&(0,Na.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded",children:o}),(0,Na.jsx)("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Courses"}),(0,Na.jsx)("input",{type:"text",id:"search",value:c,onChange:e=>d(e.target.value),placeholder:"Search by title, description, or instructor...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"level",className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Level"}),(0,Na.jsxs)("select",{id:"level",value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,Na.jsx)("option",{value:"all",children:"All Levels"}),(0,Na.jsx)("option",{value:"beginner",children:"Beginner"}),(0,Na.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,Na.jsx)("option",{value:"advanced",children:"Advanced"}),(0,Na.jsx)("option",{value:"expert",children:"Expert"}),(0,Na.jsx)("option",{value:"mastery",children:"Mastery"})]})]})]})}),(0,Na.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,Na.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,Na.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Na.jsxs)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Courses (",h.length,")"]})}),0===h.length?(0,Na.jsxs)("div",{className:"text-center py-12",children:[(0,Na.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,Na.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No courses found"}),(0,Na.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:c||"all"!==u?"Try adjusting your search or filter criteria.":"Get started by creating your first course."})]}):(0,Na.jsx)("div",{className:"overflow-x-auto",children:(0,Na.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Na.jsx)("thead",{className:"bg-gray-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),(0,Na.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),(0,Na.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Duration"}),(0,Na.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,Na.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Na.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(e=>(0,Na.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Na.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:e.cover_photo_url?(0,Na.jsx)("img",{className:"h-10 w-10 rounded-lg object-cover",src:e.cover_photo_url,alt:e.title}):(0,Na.jsx)("div",{className:"h-10 w-10 rounded-lg bg-indigo-100 flex items-center justify-center",children:(0,Na.jsx)("svg",{className:"h-6 w-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})}),(0,Na.jsxs)("div",{className:"ml-4",children:[(0,Na.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,Na.jsx)("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:e.description})]})]})}),(0,Na.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:f(e.level)}),(0,Na.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Na.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.totalDuration||"0:00"})}),(0,Na.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),(0,Na.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Na.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Na.jsx)("button",{onClick:()=>{return t=e.id,void n("/admin/courses/".concat(t,"/view"));var t},className:"text-blue-600 hover:text-blue-900",children:"View"}),(0,Na.jsx)("button",{onClick:()=>{return t=e.id,void n("/admin/courses/".concat(t,"/edit"));var t},className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),(0,Na.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this course? This action cannot be undone."))try{const{error:t}=await ya.from("courses").delete().eq("id",e);if(t)throw t;a(t=>t.filter(t=>t.id!==e)),console.log("Course ".concat(e," deleted successfully"))}catch(t){console.error("Error deleting course:",t),l("Failed to delete course from database")}})(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},e.id))})]})})]})})]})}):(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,Na.jsx)("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})})},ti=()=>{const{user:t}=Sa(),n=pe(),{courseId:r}=he(),a=(0,e.useRef)(null),[s,i]=(0,e.useState)({title:"",description:"",level:"beginner",category:"business-entrepreneurship",coverPhoto:void 0,videos:[]}),[o,c]=(0,e.useState)(!1),[d,u]=(0,e.useState)(""),[m,p]=(0,e.useState)(""),[h,f]=(0,e.useState)({name:"",duration:"",link:""}),[g,x]=(0,e.useState)(!1),[v,b]=(0,e.useState)(null),y=(0,e.useCallback)(async()=>{if(r)try{c(!0);const{data:e,error:n}=await ya.from("courses").select("*").eq("id",r).single();if(n)throw n;if("admin"!==(null===t||void 0===t?void 0:t.role)&&e.created_by!==(null===t||void 0===t?void 0:t.id))return u("You do not have permission to edit this course"),void c(!1);const{data:a,error:s}=await ya.from("course_videos").select("*").eq("course_id",r).order("order_index");if(s)throw s;i({title:e.title||"",description:e.description||"",level:e.level||"beginner",category:e.category||"business-entrepreneurship",coverPhoto:void 0,videos:a||[]})}catch(e){console.error("Error fetching course:",e),u("Failed to load course data")}finally{c(!1)}},[r,null===t||void 0===t?void 0:t.id,null===t||void 0===t?void 0:t.role]);(0,e.useEffect)(()=>{r&&t&&y()},[r,null===t||void 0===t?void 0:t.id,null===t||void 0===t?void 0:t.role,y]);const w=(e,t)=>{i(n=>l(l({},n),{},{[e]:t}))},j=(e,t)=>{f(n=>l(l({},n),{},{[e]:t}))},N=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"};return o&&!s.title?(0,Na.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 pt-24",children:(0,Na.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,Na.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading course data..."})]})})}):(0,Na.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 pt-24",children:(0,Na.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Na.jsx)("div",{className:"mb-8",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Course"}),(0,Na.jsx)("p",{className:"mt-2 text-gray-600",children:"Update your course information and content"})]}),(0,Na.jsx)("button",{onClick:()=>n("/admin/courses"),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"\u2190 Back to Courses"})]})}),d&&(0,Na.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:(0,Na.jsxs)("div",{className:"flex",children:[(0,Na.jsx)("div",{className:"flex-shrink-0",children:(0,Na.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Na.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Na.jsx)("div",{className:"ml-3",children:(0,Na.jsx)("p",{className:"text-sm text-red-800",children:d})})]})}),m&&(0,Na.jsx)("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:(0,Na.jsxs)("div",{className:"flex",children:[(0,Na.jsx)("div",{className:"flex-shrink-0",children:(0,Na.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Na.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM5.707 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,Na.jsx)("div",{className:"ml-3",children:(0,Na.jsx)("p",{className:"text-sm text-green-800",children:m})})]})}),(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,Na.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Course Details"}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Title *"}),(0,Na.jsx)("input",{type:"text",value:s.title,onChange:e=>w("title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter course title"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Description *"}),(0,Na.jsx)("textarea",{value:s.description,onChange:e=>w("description",e.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Describe what students will learn in this course"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Level *"}),(0,Na.jsxs)("select",{value:s.level,onChange:e=>w("level",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,Na.jsx)("option",{value:"beginner",children:"Lv 1 \u2013 Beginner"}),(0,Na.jsx)("option",{value:"intermediate",children:"Lv 2 \u2013 Intermediate"}),(0,Na.jsx)("option",{value:"advanced",children:"Lv 3 \u2013 Advanced"}),(0,Na.jsx)("option",{value:"expert",children:"Lv 4 \u2013 Expert"}),(0,Na.jsx)("option",{value:"mastery",children:"Lv 5 \u2013 Mastery"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Category *"}),(0,Na.jsxs)("select",{value:s.category,onChange:e=>w("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,Na.jsx)("option",{value:"business-entrepreneurship",children:"Business & Entrepreneurship"}),(0,Na.jsx)("option",{value:"branding-public-relations",children:"Branding & Public Relations"}),(0,Na.jsx)("option",{value:"content-communication",children:"Content & Communication"}),(0,Na.jsx)("option",{value:"digital-advertising",children:"Digital Advertising"}),(0,Na.jsx)("option",{value:"email-seo-strategies",children:"Email & SEO Strategies"}),(0,Na.jsx)("option",{value:"ui-ux-design",children:"UI/UX Design"}),(0,Na.jsx)("option",{value:"visual-communication",children:"Visual Communication"}),(0,Na.jsx)("option",{value:"video-editing-creation",children:"Video Editing & Creation"}),(0,Na.jsx)("option",{value:"data-science-analytics",children:"Data Science & Analytics"}),(0,Na.jsx)("option",{value:"artificial-intelligence-cloud",children:"Artificial Intelligence & Cloud"}),(0,Na.jsx)("option",{value:"project-workflow-management",children:"Project & Workflow Management"}),(0,Na.jsx)("option",{value:"information-security",children:"Information Security"})]})]})]})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,Na.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Course Videos"}),(0,Na.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,Na.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Video"}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Na.jsx)("input",{type:"text",value:h.name,onChange:e=>j("name",e.target.value),placeholder:"Video Name",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),(0,Na.jsx)("input",{type:"text",value:h.duration,onChange:e=>j("duration",e.target.value),placeholder:"Duration (e.g., 15:30)",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),(0,Na.jsx)("input",{type:"url",value:h.link,onChange:e=>j("link",e.target.value),placeholder:"Video Link (YouTube embed or direct URL)",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,Na.jsx)("button",{onClick:()=>{h.name&&h.duration&&h.link&&(i(e=>l(l({},e),{},{videos:[...e.videos,l({},h)]})),f({name:"",duration:"",link:""}))},disabled:!h.name||!h.duration||!h.link,className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"+ Add New Video"})]}),s.videos.length>0&&(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Current Videos (",s.videos.length,")"]}),(0,Na.jsx)("div",{className:"space-y-3",children:s.videos.map((e,t)=>(0,Na.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-4",draggable:!0,onDragStart:e=>((e,t)=>{b(t),e.dataTransfer.effectAllowed="move"})(e,t),onDragOver:N,onDrop:e=>((e,t)=>{e.preventDefault(),null!==v&&v!==t&&(i(e=>{const n=[...e.videos],r=n[v];return n.splice(v,1),n.splice(t,0,r),l(l({},e),{},{videos:n})}),b(null))})(e,t),onDragEnd:()=>b(null),children:[(0,Na.jsxs)("div",{className:"flex-1",children:[(0,Na.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,Na.jsxs)("p",{className:"text-sm text-gray-600",children:["Duration: ",e.duration]}),(0,Na.jsxs)("p",{className:"text-sm text-gray-600 truncate",children:["Link: ",e.link]})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)("button",{onClick:()=>(e=>{0!==e&&i(t=>{const n=[...t.videos];return[n[e],n[e-1]]=[n[e-1],n[e]],l(l({},t),{},{videos:n})})})(t),className:"p-2 text-gray-600 hover:text-gray-800 rounded-full hover:bg-gray-200",title:"Move up",children:(0,Na.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),(0,Na.jsx)("button",{onClick:()=>(e=>{i(t=>{if(e===t.videos.length-1)return t;const n=[...t.videos];return[n[e],n[e+1]]=[n[e+1],n[e]],l(l({},t),{},{videos:n})})})(t),className:"p-2 text-gray-600 hover:text-gray-800 rounded-full hover:bg-gray-200",title:"Move down",children:(0,Na.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),(0,Na.jsx)("button",{onClick:()=>(e=>{i(t=>l(l({},t),{},{videos:t.videos.filter((t,n)=>n!==e)}))})(t),className:"ml-4 px-3 py-1 text-red-600 hover:text-red-800 text-sm font-medium",title:"Remove",children:"Remove"})]})]},e.id||t))})]})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,Na.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cover Photo"}),(0,Na.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-6 text-center ".concat(g?"border-indigo-400 bg-indigo-50":"border-gray-300"),onDragOver:e=>{e.preventDefault(),x(!0)},onDragLeave:e=>{e.preventDefault(),x(!1)},onDrop:e=>{e.preventDefault(),x(!1);const t=e.dataTransfer.files;t.length>0&&i(e=>l(l({},e),{},{coverPhoto:t[0]}))},children:[(0,Na.jsx)("input",{ref:a,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files;t&&t.length>0&&i(e=>l(l({},e),{},{coverPhoto:t[0]}))},className:"hidden"}),s.coverPhoto?(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Selected file: ",s.coverPhoto.name]}),(0,Na.jsx)("button",{onClick:()=>i(e=>l(l({},e),{},{coverPhoto:void 0})),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Remove file"})]}):(0,Na.jsxs)("div",{children:[(0,Na.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,Na.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,Na.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Drag and drop an image here, or"," ",(0,Na.jsx)("button",{onClick:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.click()},className:"text-indigo-600 hover:text-indigo-500 font-medium",children:"browse"})]}),(0,Na.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})]})]}),(0,Na.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,Na.jsx)("button",{onClick:()=>n("/admin/courses"),className:"px-6 py-3 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),(0,Na.jsx)("button",{onClick:async()=>{try{if(c(!0),u(""),p(""),console.log("Starting course update...",{courseId:r,courseData:s}),!r)return u("Course ID is missing"),void c(!1);if(!t)return u("You must be logged in to edit courses"),void c(!1);if(!s.title||!s.description||0===s.videos.length)return u("Please fill in all required fields and add at least one video"),void c(!1);console.log("Testing database connection...");const{data:a,error:i}=await ya.from("courses").select("id, created_by").eq("id",r).limit(1);if(i)return console.error("Database connection test failed:",i),u("Database connection failed: ".concat(i.message)),void c(!1);if(!a||0===a.length)return console.error("Course not found in database"),u("Course not found in database"),void c(!1);if("admin"!==(null===t||void 0===t?void 0:t.role)&&a[0].created_by!==(null===t||void 0===t?void 0:t.id))return console.error("User does not have permission to edit this course"),u("You do not have permission to edit this course"),void c(!1);let o;if(console.log("Database connection test successful, course found, user has permission"),s.coverPhoto)try{console.log("Uploading cover photo...");const e=s.coverPhoto.name.split(".").pop(),t="".concat(Date.now(),".").concat(e),n="course-covers/".concat(t),{error:r}=await ya.storage.from("course-covers").upload(n,s.coverPhoto);if(r)console.warn("Cover photo upload failed, continuing without it:",r.message);else{const{data:{publicUrl:e}}=ya.storage.from("course-covers").getPublicUrl(n);o=e,console.log("Cover photo uploaded successfully:",o)}}catch(e){console.warn("Cover photo upload failed, continuing without it:",e)}console.log("Updating course in database...");const{error:d}=await ya.from("courses").update(l({title:s.title,description:s.description,level:s.level,category:s.category},o&&{cover_photo_url:o})).eq("id",r);if(d)throw console.error("Course update error:",d),d;console.log("Course updated successfully"),console.log("Updating existing videos...");const{data:m,error:h}=await ya.from("course_videos").select("*").eq("course_id",r).order("order_index");if(h)throw console.error("Error fetching existing videos:",h),h;console.log("Existing videos:",m),console.log("New videos to set:",s.videos);for(let e=0;e<s.videos.length;e++){const t=s.videos[e],n=m[e];if(n){console.log("Updating video ".concat(e,":"),n.id);const{error:r}=await ya.from("course_videos").update({name:t.name,duration:t.duration,link:t.link,order_index:e}).eq("id",n.id);if(r)throw console.error("Error updating video ".concat(e,":"),r),r}else{console.log("Inserting new video ".concat(e,":"),t);const{error:n}=await ya.from("course_videos").insert({course_id:r,name:t.name,duration:t.duration,link:t.link,order_index:e});if(n)throw console.error("Error inserting video ".concat(e,":"),n),n}}if(m.length>s.videos.length){console.log("Removing extra videos...");const e=m.slice(s.videos.length);for(const t of e){console.log("Removing video:",t.id);const{error:e}=await ya.from("course_videos").delete().eq("id",t.id);if(e)throw console.error("Error deleting video ".concat(t.id,":"),e),e}}console.log("All videos updated successfully"),p("Course updated successfully!"),setTimeout(()=>{n("/admin/courses")},1500)}catch(a){console.error("Error updating course:",a),u("Failed to update course: ".concat(a.message||a))}finally{c(!1)}},disabled:o||!s.title||!s.description||0===s.videos.length,className:"px-6 py-3 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Updating...":"Update Course"})]})]})})},ni=t=>{let{src:n,type:r="youtube",title:a,autoplay:s=!1,onPlay:i,onPause:o,onEnded:l}=t;const c=(0,e.useRef)(null),d=(0,e.useRef)(null),u=(0,e.useRef)(null),m=(0,e.useRef)(null),[p,h]=(0,e.useState)(!1),[f,g]=(0,e.useState)(0),[x,v]=(0,e.useState)(0),[b,y]=(0,e.useState)(1),[w,j]=(0,e.useState)(!1),[N,k]=(0,e.useState)(!1),[S,_]=(0,e.useState)(!0),C=(0,e.useRef)(null);(0,e.useEffect)(()=>{_(!0)},[n]),(0,e.useEffect)(()=>{if("youtube"===r&&c.current){var e;const t=c.current,r=(n.includes("youtube.com")||n.includes("youtu.be"))&&(null===(e=n.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/))||void 0===e?void 0:e[1])||n,a=document.createElement("iframe");a.src="https://www.youtube.com/embed/".concat(r,"?autoplay=").concat(s?1:0,"&controls=0&modestbranding=1&rel=0&showinfo=0&iv_load_policy=3&cc_load_policy=0&fs=0&disablekb=1&playsinline=1&enablejsapi=1&origin=").concat(window.location.origin),_(!0),a.onload=()=>{_(!1)},a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.width="100%",a.style.height="100%",a.style.zIndex="0",a.style.opacity="1",a.style.pointerEvents="none",a.style.borderRadius="0",a.style.overflow="hidden",a.style.maxWidth="100%",a.style.maxHeight="100%",a.style.objectFit="cover",a.frameBorder="0",a.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",u.current=a;const f=document.createElement("div");f.style.position="absolute",f.style.top="0",f.style.left="0",f.style.width="100%",f.style.height="100%",f.style.overflow="hidden",f.style.borderRadius="0",f.style.zIndex="0",f.appendChild(a),d.current&&d.current.appendChild(f),t.muted=!0,t.volume=0,t.addEventListener("play",()=>{var e;h(!0),null===i||void 0===i||i(),null===(e=a.contentWindow)||void 0===e||e.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}),t.addEventListener("pause",()=>{var e;h(!1),null===o||void 0===o||o(),null===(e=a.contentWindow)||void 0===e||e.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),t.addEventListener("ended",()=>{h(!1),null===l||void 0===l||l()});const x=e=>{try{const n=JSON.parse(e.data);if("onStateChange"===n.event)1===n.info?(h(!0),null===i||void 0===i||i()):2!==n.info&&0!==n.info||(h(!1),null===o||void 0===o||o(),0===n.info&&(null===l||void 0===l||l()));else if("onReady"===n.event){var t;null===(t=a.contentWindow)||void 0===t||t.postMessage('{"event":"command","func":"getDuration","args":""}',"*")}else if("onReady"===n.event&&n.info)v(n.info);else if("onReady"===n.event&&"number"===typeof n.info)g(n.info);else if("onStateChange"===n.event&&1===n.info){if(a.contentWindow){const e=setInterval(()=>{var e;null===(e=a.contentWindow)||void 0===e||e.postMessage('{"event":"command","func":"getCurrentTime","args":""}',"*")},1e3);m.current&&clearInterval(m.current),m.current=e}}else"onReady"===n.event&&"number"===typeof n.info&&n.info>0&&n.info<1e4&&g(n.info)}catch(Pc){}};return window.addEventListener("message",x),m.current=setInterval(()=>{p&&a.contentWindow&&a.contentWindow.postMessage('{"event":"command","func":"getCurrentTime","args":""}',"*")},1e3),v(600),()=>{var e;m.current&&clearInterval(m.current),C.current&&clearTimeout(C.current),window.removeEventListener("message",x),d.current&&null!==(e=a.parentNode)&&void 0!==e&&e.parentNode&&a.parentNode.parentNode.removeChild(a.parentNode)}}},[n,r,s,i,o,l]),(0,e.useEffect)(()=>{g(0),h(!1)},[n]),(0,e.useEffect)(()=>()=>{C.current&&clearTimeout(C.current)},[]);const E=()=>{var e,t;p?(null!==(e=u.current)&&void 0!==e&&e.contentWindow&&u.current.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"),h(!1),null===o||void 0===o||o()):(null!==(t=u.current)&&void 0!==t&&t.contentWindow&&u.current.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*"),h(!0),null===i||void 0===i||i())},T=e=>{var t;const n=parseFloat(e.target.value)/100*x;g(n),null!==(t=u.current)&&void 0!==t&&t.contentWindow&&u.current.contentWindow.postMessage('{"event":"command","func":"seekTo","args":['.concat(n,", true]}"),"*")},P=e=>{var t;const n=parseFloat(e.target.value);var r;(y(n),w&&n>0)&&(j(!1),null!==(r=u.current)&&void 0!==r&&r.contentWindow&&u.current.contentWindow.postMessage('{"event":"command","func":"unMute","args":""}',"*"));null!==(t=u.current)&&void 0!==t&&t.contentWindow&&u.current.contentWindow.postMessage('{"event":"command","func":"setVolume","args":['.concat(100*n,"]}"),"*")},L=()=>{var e;const t=!w;j(t),null!==(e=u.current)&&void 0!==e&&e.contentWindow&&u.current.contentWindow.postMessage('{"event":"command","func":"'.concat(t?"mute":"unMute",'","args":""}'),"*")},A=()=>{var e;document.fullscreenElement?document.exitFullscreen():null===(e=d.current)||void 0===e||e.requestFullscreen()};return"youtube"===r?(0,Na.jsx)("div",{className:"w-full bg-black overflow-hidden relative",ref:d,style:{margin:0,padding:0,position:"relative",overflow:"hidden",isolation:"isolate",contain:"layout style paint"},onMouseEnter:()=>{C.current&&clearTimeout(C.current),k(!0)},onMouseLeave:()=>{C.current=setTimeout(()=>{k(!1)},50)},onTouchStart:()=>{C.current&&clearTimeout(C.current),k(!0)},onTouchEnd:()=>{C.current=setTimeout(()=>{k(!1)},150)},children:(0,Na.jsxs)("div",{className:"relative w-full",style:{paddingTop:"56.25%",position:"relative",overflow:"hidden"},children:[(0,Na.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-40 md:hidden",children:(0,Na.jsx)("div",{className:"w-16 h-16 bg-black bg-opacity-50 rounded-full flex items-center justify-center opacity-0 transition-opacity duration-150 pointer-events-none",style:{opacity:S?1:p?N?1:0:1},children:(0,Na.jsx)("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Na.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})})}),(0,Na.jsx)("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 z-40 md:hidden",children:(0,Na.jsx)("div",{className:"bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-xs opacity-0 transition-opacity duration-150 pointer-events-none",style:{opacity:S?1:p?N?1:0:1},children:S?"Loading...":"Tap to show/hide controls"})}),(0,Na.jsx)("style",{children:"\n              .slider::-webkit-slider-thumb {\n                appearance: none;\n                height: 16px;\n                width: 16px;\n                border-radius: 50%;\n                background: #3B82F6;\n                cursor: pointer;\n                box-shadow: 0 0 10px rgba(59, 130, 246, 0.8);\n                border: 2px solid white;\n              }\n              .slider::-moz-range-thumb {\n                height: 16px;\n                width: 16px;\n                border-radius: 50%;\n                background: #3B82F6;\n                cursor: pointer;\n                box-shadow: 0 0 10px rgba(59, 130, 246, 0.8);\n                border: 2px solid white;\n              }\n              \n              /* Mobile optimizations */\n              @media (max-width: 768px) {\n                .slider::-webkit-slider-thumb {\n                  height: 20px;\n                  width: 20px;\n                }\n                .slider::-moz-range-thumb {\n                  height: 20px;\n                  width: 20px;\n                }\n              }\n            "}),a&&(0,Na.jsx)("div",{className:"absolute top-4 left-4 bg-black bg-opacity-70 text-white px-3 py-2 rounded-lg text-sm font-medium z-25",children:a}),(0,Na.jsx)("video",{ref:c,className:"absolute inset-0 w-full h-full opacity-0 pointer-events-none",playsInline:!0}),(0,Na.jsx)("div",{className:"absolute inset-0 z-15 cursor-pointer",onClick:E,style:{pointerEvents:"auto"}}),(0,Na.jsx)("div",{className:"absolute inset-0 w-full h-full bg-black flex items-center justify-center transition-all duration-75 cursor-pointer z-20 ".concat(S?"opacity-100":p?"opacity-0 pointer-events-none":"opacity-100"),onClick:E,children:(0,Na.jsxs)("div",{className:"text-center text-white",children:[(0,Na.jsx)("p",{className:"text-xl md:text-2xl font-medium mb-2",children:a||"Video Player"}),(0,Na.jsx)("p",{className:"text-sm text-gray-400 opacity-75",children:S?"Loading video...":"Tap anywhere to play"})]})}),(0,Na.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black to-transparent px-3 pb-0 pt-2 z-30 transition-opacity duration-75 ".concat(S?"opacity-100":p?N?"opacity-100":"opacity-0":"opacity-100"),children:[(0,Na.jsx)("div",{className:"mb-0",children:(0,Na.jsx)("input",{type:"range",min:"0",max:"100",value:x?f/x*100:0,onChange:T,className:"w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer slider",style:{background:"linear-gradient(to right, #3B82F6 0%, #3B82F6 ".concat(x?f/x*100:0,"%, #374151 ").concat(x?f/x*100:0,"%, #374151 100%)"),boxShadow:"0 0 10px rgba(59, 130, 246, 0.5)"}})}),(0,Na.jsxs)("div",{className:"flex items-center justify-between text-white",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3 md:space-x-4",children:[(0,Na.jsx)("button",{onClick:E,className:"hover:text-blue-400 transition-colors transition-opacity p-1 md:p-0 ".concat(S?"opacity-100":p?N?"opacity-100":"opacity-0":"opacity-100"),children:p?(0,Na.jsx)("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Na.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 00-1 1v2a1 1 0 001 1h6a1 1 0 001-1V9a1 1 0 00-1-1H7z",clipRule:"evenodd"})}):(0,Na.jsx)("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Na.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)("button",{onClick:L,className:"hover:text-blue-400 transition-colors p-1 md:p-0",children:w?(0,Na.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Na.jsx)("path",{fillRule:"evenodd",d:"M13.477 14.89A6 6 0 0018 10a6 6 0 00-6-6 6 6 0 00-1.477 1.89L8 8.586l-2.523-2.523A6 6 0 002 10a6 6 0 006 6 6 6 0 001.477-1.89L12 11.414l1.477 1.477z",clipRule:"evenodd"})}):(0,Na.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Na.jsx)("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.617.923L4.383 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.383l4.017-2.923a1 1 0 011.617.923z",clipRule:"evenodd"})})}),(0,Na.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:w?0:b,onChange:P,className:"w-12 md:w-16 h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer slider",style:{background:"linear-gradient(to right, #3B82F6 0%, #3B82F6 ".concat(100*(w?0:b),"%, #374151 ").concat(100*(w?0:b),"%, #374151 100%)"),boxShadow:w?"none":"0 0 5px rgba(59, 130, 246, 0.3)"}})]})]}),(0,Na.jsx)("button",{onClick:A,className:"hover:text-blue-400 transition-colors p-1 md:p-0",children:(0,Na.jsx)("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Na.jsx)("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h4a1 1 0 010 2H6.414l2.293 2.293a1 1 0 11-1.414 1.414L5 6.414V8a1 1 0 01-2 0V4zm9 1a1 1 0 010-2h4a1 1 0 011 1v4a1 1 0 01-2 0V6.414l-2.293 2.293a1 1 0 11-1.414-1.414L13.586 5H12z",clipRule:"evenodd"})})})]})]})]})}):(0,Na.jsx)("div",{className:"w-full bg-black rounded-lg overflow-hidden",children:(0,Na.jsxs)("div",{className:"relative w-full",style:{paddingTop:"56.25%"},children:[(0,Na.jsx)("video",{ref:c,className:"absolute inset-0 w-full h-full",playsInline:!0,controls:!0,children:(0,Na.jsx)("source",{src:n,type:"video/mp4"})}),a&&(0,Na.jsx)("div",{className:"absolute top-4 left-4 bg-black bg-opacity-70 text-white px-3 py-2 rounded-lg text-sm font-medium z-10",children:a})]})})},ri=()=>{const t=pe(),{courseId:n}=he();console.log("CourseView render:",{courseId:n});const[r,a]=(0,e.useState)(null),[s,i]=(0,e.useState)([]),[o,l]=(0,e.useState)(!0),[c,d]=(0,e.useState)(""),[u,m]=(0,e.useState)(null);(0,e.useEffect)(()=>{if(console.log("useEffect triggered with courseId:",n),n){(async()=>{console.log("Starting to fetch data for courseId:",n);try{l(!0),d("");const{data:e,error:t}=await ya.from("courses").select("*").eq("id",n).single();if(t)throw t;console.log("Course data fetched:",e);const{data:r,error:s}=await ya.from("course_videos").select("*").eq("course_id",n).order("order_index");if(s)throw s;console.log("Videos data fetched:",r),a(e),i(r||[]),r&&r.length>0&&m(r[0])}catch(e){console.error("Error fetching course:",e),d("Failed to load course data")}finally{l(!1)}})()}},[n]);const p=e=>{if(e.includes(":"))return e;if(e.includes("m")&&e.includes("s"))return e;if(e.startsWith("PT")){var t,n;const r=(null===(t=e.match(/(\d+)M/))||void 0===t?void 0:t[1])||"0",a=(null===(n=e.match(/(\d+)S/))||void 0===n?void 0:n[1])||"0";return"".concat(r,":").concat(a.padStart(2,"0"))}return e};return o?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-24",children:(0,Na.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Na.jsxs)("div",{className:"text-center py-12",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,Na.jsx)("p",{className:"text-gray-600",children:"Loading course..."})]})})}):c||!r?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-24",children:(0,Na.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Na.jsxs)("div",{className:"text-center py-12",children:[(0,Na.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Course Not Found"}),(0,Na.jsx)("p",{className:"text-gray-600 mb-6",children:c||"The requested course could not be found."}),(0,Na.jsx)("button",{onClick:()=>t("/admin/courses"),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Back to Courses"})]})})}):(0,Na.jsx)(Na.Fragment,{children:(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-24",children:(0,Na.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Na.jsx)("div",{className:"mb-8",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsxs)("button",{onClick:()=>t("/admin/courses"),className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:[(0,Na.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Courses"]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Course Preview"}),(0,Na.jsx)("p",{className:"mt-2 text-gray-600",children:"Viewing course as a student would see it"})]})]}),(0,Na.jsx)("div",{className:"flex space-x-3",children:(0,Na.jsx)("button",{onClick:()=>t("/admin/courses/".concat(n,"/edit")),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Edit Course"})})]})}),(0,Na.jsx)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-8",children:(0,Na.jsxs)("div",{className:"md:flex",children:[(0,Na.jsx)("div",{className:"md:flex-shrink-0",children:r.cover_photo_url?(0,Na.jsx)("img",{className:"h-48 w-full object-cover md:w-48",src:r.cover_photo_url,alt:r.title}):(0,Na.jsx)("div",{className:"h-48 w-full md:w-48 bg-gradient-to-br from-indigo-100 to-purple-100 flex items-center justify-center",children:(0,Na.jsx)("svg",{className:"h-24 w-24 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})}),(0,Na.jsxs)("div",{className:"p-8",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(e=>{const t={beginner:{color:"bg-green-100 text-green-800",text:"Lv 1 \u2013 Beginner"},intermediate:{color:"bg-yellow-100 text-yellow-800",text:"Lv 2 \u2013 Intermediate"},advanced:{color:"bg-red-100 text-red-800",text:"Lv 3 \u2013 Advanced"},expert:{color:"bg-purple-100 text-purple-800",text:"Lv 4 \u2013 Expert"},mastery:{color:"bg-indigo-100 text-indigo-800",text:"Lv 5 \u2013 Mastery"}},n=t[e]||t.beginner;return(0,Na.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(n.color),children:n.text})})(r.level),(0,Na.jsxs)("span",{className:"text-sm text-gray-500",children:["Created ",new Date(r.created_at).toLocaleDateString()]})]}),(0,Na.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:r.title}),(0,Na.jsx)("p",{className:"text-gray-600 text-lg leading-relaxed mb-6",children:r.description}),(0,Na.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[(0,Na.jsxs)("span",{children:[s.length," lessons"]}),(0,Na.jsx)("span",{children:"\u2022"}),(0,Na.jsx)("span",{children:"Admin Preview Mode"})]})]})]})}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Na.jsx)("div",{className:"lg:col-span-2",children:(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,Na.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Lesson Player"}),(0,Na.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Preview videos exactly as students will see them",(0,Na.jsx)("span",{className:"ml-2 text-xs text-green-600",children:"\u2728 YouTube streaming player with zero branding"}),(0,Na.jsx)("span",{className:"ml-2 text-blue-600",children:"\ud83d\udca1 Use unlisted YouTube videos to prevent suggestions"})]}),u?(0,Na.jsxs)("div",{className:"-mx-6",children:[(0,Na.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2 px-6",children:u.name}),(0,Na.jsx)("div",{className:"w-full overflow-hidden",style:{minHeight:"280px",height:"55vh",maxHeight:"580px",margin:0,padding:0,marginBottom:0},children:(h=u.link,h.includes("youtube.com")||h.includes("youtu.be")||h.includes("youtube-nocookie.com")?(0,Na.jsx)(ni,{src:(e=>{const t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:e})(u.link),type:"youtube",title:u.name,autoplay:!1,onPlay:()=>console.log("Video started playing"),onPause:()=>console.log("Video paused"),onEnded:()=>console.log("Video ended")}):(0,Na.jsx)("div",{className:"w-full h-full bg-gray-900 flex items-center justify-center text-white",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("svg",{className:"h-16 w-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,Na.jsx)("p",{className:"text-lg font-medium mb-2",children:"Video Player"}),(0,Na.jsx)("p",{className:"text-sm text-gray-300",children:u.link.includes("http")?"Direct video link detected":"Video source not supported"}),(0,Na.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Currently supporting YouTube videos only"})]})}))}),(0,Na.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 px-6 -mt-2",children:[(0,Na.jsxs)("span",{children:["Duration: ",p(u.duration)]}),(0,Na.jsxs)("span",{children:["Lesson ",s.findIndex(e=>e.id===u.id)+1," of ",s.length]})]})]}):(0,Na.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,Na.jsx)("svg",{className:"h-16 w-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,Na.jsx)("p",{children:"Select a lesson to start learning"})]})]})}),(0,Na.jsx)("div",{className:"lg:col-span-1",children:(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,Na.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Course Lessons"}),(0,Na.jsx)("div",{className:"space-y-3",children:s.map((e,t)=>(0,Na.jsx)("button",{onClick:()=>m(e),className:"w-full text-left p-4 rounded-lg border transition-all duration-200 ".concat((null===u||void 0===u?void 0:u.id)===e.id?"border-indigo-500 bg-indigo-50 text-indigo-900":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsx)("div",{className:"flex-1 min-w-0",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat((null===u||void 0===u?void 0:u.id)===e.id?"bg-indigo-600 text-white":"bg-gray-200 text-gray-600"),children:t+1}),(0,Na.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Na.jsx)("p",{className:"font-medium truncate ".concat((null===u||void 0===u||u.id,e.id,"text-indigo-900")),children:e.name}),(0,Na.jsx)("p",{className:"text-sm text-gray-500",children:p(e.duration)})]})]})}),(null===u||void 0===u?void 0:u.id)===e.id&&(0,Na.jsx)("svg",{className:"h-5 w-5 text-indigo-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Na.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]})},e.id))})]})})]})]})})});var h};var ai=n(950);const si="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function ii(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function oi(e){return"nodeType"in e}function li(e){var t,n;return e?ii(e)?e:oi(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function ci(e){const{Document:t}=li(e);return e instanceof t}function di(e){return!ii(e)&&e instanceof li(e).HTMLElement}function ui(e){return e instanceof li(e).SVGElement}function mi(e){return e?ii(e)?e.document:oi(e)?ci(e)?e:di(e)||ui(e)?e.ownerDocument:document:document:document}const pi=si?e.useLayoutEffect:e.useEffect;function hi(t){const n=(0,e.useRef)(t);return pi(()=>{n.current=t}),(0,e.useCallback)(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)},[])}function fi(t,n){void 0===n&&(n=[t]);const r=(0,e.useRef)(t);return pi(()=>{r.current!==t&&(r.current=t)},n),r}function gi(t,n){const r=(0,e.useRef)();return(0,e.useMemo)(()=>{const e=t(r.current);return r.current=e,e},[...n])}function xi(t){const n=(0,e.useRef)();return(0,e.useEffect)(()=>{n.current=t},[t]),n.current}let vi={};function bi(t,n){return(0,e.useMemo)(()=>{if(n)return n;const e=null==vi[t]?0:vi[t]+1;return vi[t]=e,t+"-"+e},[t,n])}function yi(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((t,n)=>{const r=Object.entries(n);for(const[a,s]of r){const n=t[a];null!=n&&(t[a]=n+e*s)}return t},l({},t))}}const wi=yi(1),ji=yi(-1);function Ni(e){if(!e)return!1;const{KeyboardEvent:t}=li(e.target);return t&&e instanceof t}function ki(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=li(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const Si="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function _i(e){return e.matches(Si)?e:e.querySelector(Si)}const Ci={display:"none"};function Ei(t){let{id:n,value:r}=t;return e.createElement("div",{id:n,style:Ci},r)}function Ti(t){let{id:n,announcement:r,ariaLiveType:a="assertive"}=t;return e.createElement("div",{id:n,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":a,"aria-atomic":!0},r)}const Pi=["transform"],Li=["id","accessibility","autoScroll","children","sensors","collisionDetection","measuring","modifiers"],Ai=(0,e.createContext)(null);const Oi={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},Di={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Ri(t){let{announcements:n=Di,container:r,hiddenTextDescribedById:a,screenReaderInstructions:s=Oi}=t;const{announce:i,announcement:o}=function(){const[t,n]=(0,e.useState)("");return{announce:(0,e.useCallback)(e=>{null!=e&&n(e)},[]),announcement:t}}(),l=bi("DndLiveRegion"),[c,d]=(0,e.useState)(!1);if((0,e.useEffect)(()=>{d(!0)},[]),function(t){const n=(0,e.useContext)(Ai);(0,e.useEffect)(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(t)},[t,n])}((0,e.useMemo)(()=>({onDragStart(e){let{active:t}=e;i(n.onDragStart({active:t}))},onDragMove(e){let{active:t,over:r}=e;n.onDragMove&&i(n.onDragMove({active:t,over:r}))},onDragOver(e){let{active:t,over:r}=e;i(n.onDragOver({active:t,over:r}))},onDragEnd(e){let{active:t,over:r}=e;i(n.onDragEnd({active:t,over:r}))},onDragCancel(e){let{active:t,over:r}=e;i(n.onDragCancel({active:t,over:r}))}}),[i,n])),!c)return null;const u=e.createElement(e.Fragment,null,e.createElement(Ei,{id:a,value:s.draggable}),e.createElement(Ti,{id:l,announcement:o}));return r?(0,ai.createPortal)(u,r):u}var zi;function Mi(){}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(zi||(zi={}));const Ii=Object.freeze({x:0,y:0});function Fi(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Bi(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Ui(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Wi(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const Hi=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=Wi(t,t.left,t.top),s=[];for(const i of r){const{id:e}=i,t=n.get(e);if(t){const n=Fi(Wi(t),a);s.push({id:e,data:{droppableContainer:i,value:n}})}}return s.sort(Bi)};function qi(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),i=a-r,o=s-n;if(r<a&&n<s){const n=t.width*t.height,r=e.width*e.height,a=i*o;return Number((a/(n+r-a)).toFixed(4))}return 0}const Vi=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const s of r){const{id:e}=s,r=n.get(e);if(r){const n=qi(r,t);n>0&&a.push({id:e,data:{droppableContainer:s,value:n}})}}return a.sort(Ui)};function Ki(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ii}function Gi(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((t,n)=>l(l({},t),{},{top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),l({},t))}}const Yi=Gi(1);function Ji(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const $i={ignoreTransform:!1};function Qi(e,t){void 0===t&&(t=$i);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=li(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=Ji(t);if(!r)return e;const{scaleX:a,scaleY:s,x:i,y:o}=r,l=e.left-i-(1-a)*parseFloat(n),c=e.top-o-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=a?e.width/a:e.width,u=s?e.height/s:e.height;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l}}(n,t,r))}const{top:r,left:a,width:s,height:i,bottom:o,right:l}=n;return{top:r,left:a,width:s,height:i,bottom:o,right:l}}function Xi(e){return Qi(e,{ignoreTransform:!0})}function Zi(e,t){const n=[];return e?function r(a){if(null!=t&&n.length>=t)return n;if(!a)return n;if(ci(a)&&null!=a.scrollingElement&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!di(a)||ui(a))return n;if(n.includes(a))return n;const s=li(e).getComputedStyle(a);return a!==e&&function(e,t){void 0===t&&(t=li(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const r=t[e];return"string"===typeof r&&n.test(r)})}(a,s)&&n.push(a),function(e,t){return void 0===t&&(t=li(e).getComputedStyle(e)),"fixed"===t.position}(a,s)?n:r(a.parentNode)}(e):n}function eo(e){const[t]=Zi(e,1);return null!=t?t:null}function to(e){return si&&e?ii(e)?e:oi(e)?ci(e)||e===mi(e).scrollingElement?window:di(e)?e:null:null:null}function no(e){return ii(e)?e.scrollX:e.scrollLeft}function ro(e){return ii(e)?e.scrollY:e.scrollTop}function ao(e){return{x:no(e),y:ro(e)}}var so;function io(e){return!(!si||!e)&&e===document.scrollingElement}function oo(e){const t={x:0,y:0},n=io(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(so||(so={}));const lo={x:.2,y:.2};function co(e,t,n,r,a){let{top:s,left:i,right:o,bottom:l}=n;void 0===r&&(r=10),void 0===a&&(a=lo);const{isTop:c,isBottom:d,isLeft:u,isRight:m}=oo(e),p={x:0,y:0},h={x:0,y:0},f=t.height*a.y,g=t.width*a.x;return!c&&s<=t.top+f?(p.y=so.Backward,h.y=r*Math.abs((t.top+f-s)/f)):!d&&l>=t.bottom-f&&(p.y=so.Forward,h.y=r*Math.abs((t.bottom-f-l)/f)),!m&&o>=t.right-g?(p.x=so.Forward,h.x=r*Math.abs((t.right-g-o)/g)):!u&&i<=t.left+g&&(p.x=so.Backward,h.x=r*Math.abs((t.left+g-i)/g)),{direction:p,speed:h}}function uo(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function mo(e){return e.reduce((e,t)=>wi(e,ao(t)),Ii)}function po(e,t){if(void 0===t&&(t=Qi),!e)return;const{top:n,left:r,bottom:a,right:s}=t(e);eo(e)&&(a<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const ho=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+no(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+ro(t),0)}]];class fo{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Zi(t),r=mo(n);this.rect=l({},e),this.width=e.width,this.height=e.height;for(const[a,s,i]of ho)for(const e of s)Object.defineProperty(this,e,{get:()=>{const t=i(n),s=r[a]-t;return this.rect[e]+s},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class go{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function xo(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"===typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var vo,bo;function yo(e){e.preventDefault()}function wo(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(vo||(vo={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(bo||(bo={}));const jo={start:[bo.Space,bo.Enter],cancel:[bo.Esc],end:[bo.Space,bo.Enter,bo.Tab]},No=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case bo.Right:return l(l({},n),{},{x:n.x+25});case bo.Left:return l(l({},n),{},{x:n.x-25});case bo.Down:return l(l({},n),{},{y:n.y+25});case bo.Up:return l(l({},n),{},{y:n.y-25})}};class ko{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new go(mi(t)),this.windowListeners=new go(li(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(vo.Resize,this.handleCancel),this.windowListeners.add(vo.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(vo.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&po(n),t(Ii)}handleKeyDown(e){if(Ni(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:a=jo,coordinateGetter:s=No,scrollBehavior:i="smooth"}=r,{code:o}=e;if(a.end.includes(o))return void this.handleEnd(e);if(a.cancel.includes(o))return void this.handleCancel(e);const{collisionRect:l}=n.current,c=l?{x:l.left,y:l.top}:Ii;this.referenceCoordinates||(this.referenceCoordinates=c);const d=s(e,{active:t,context:n.current,currentCoordinates:c});if(d){const t=ji(d,c),r={x:0,y:0},{scrollableAncestors:a}=n.current;for(const n of a){const a=e.code,{isTop:s,isRight:o,isLeft:l,isBottom:c,maxScroll:u,minScroll:m}=oo(n),p=uo(n),h={x:Math.min(a===bo.Right?p.right-p.width/2:p.right,Math.max(a===bo.Right?p.left:p.left+p.width/2,d.x)),y:Math.min(a===bo.Down?p.bottom-p.height/2:p.bottom,Math.max(a===bo.Down?p.top:p.top+p.height/2,d.y))},f=a===bo.Right&&!o||a===bo.Left&&!l,g=a===bo.Down&&!c||a===bo.Up&&!s;if(f&&h.x!==d.x){const e=n.scrollLeft+t.x,s=a===bo.Right&&e<=u.x||a===bo.Left&&e>=m.x;if(s&&!t.y)return void n.scrollTo({left:e,behavior:i});r.x=s?n.scrollLeft-e:a===bo.Right?n.scrollLeft-u.x:n.scrollLeft-m.x,r.x&&n.scrollBy({left:-r.x,behavior:i});break}if(g&&h.y!==d.y){const e=n.scrollTop+t.y,s=a===bo.Down&&e<=u.y||a===bo.Up&&e>=m.y;if(s&&!t.x)return void n.scrollTo({top:e,behavior:i});r.y=s?n.scrollTop-e:a===bo.Down?n.scrollTop-u.y:n.scrollTop-m.y,r.y&&n.scrollBy({top:-r.y,behavior:i});break}}this.handleMove(e,wi(ji(d,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function So(e){return Boolean(e&&"distance"in e)}function _o(e){return Boolean(e&&"delay"in e)}ko.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=jo,onActivation:a}=t,{active:s}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const t=s.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==a||a({event:e.nativeEvent}),!0)}return!1}}];class Co{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=li(e);return e instanceof t?e:mi(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:s}=a;this.props=e,this.events=t,this.document=mi(s),this.documentListeners=new go(this.document),this.listeners=new go(n),this.windowListeners=new go(li(s)),this.initialCoordinates=null!=(r=ki(a))?r:Ii,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(vo.Resize,this.handleCancel),this.windowListeners.add(vo.DragStart,yo),this.windowListeners.add(vo.VisibilityChange,this.handleCancel),this.windowListeners.add(vo.ContextMenu,yo),this.documentListeners.add(vo.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(_o(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(So(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(vo.Click,wo,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(vo.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:a}=this,{onMove:s,options:{activationConstraint:i}}=a;if(!r)return;const o=null!=(t=ki(e))?t:Ii,l=ji(r,o);if(!n&&i){if(So(i)){if(null!=i.tolerance&&xo(l,i.tolerance))return this.handleCancel();if(xo(l,i.distance))return this.handleStart()}return _o(i)&&xo(l,i.tolerance)?this.handleCancel():void this.handlePending(i,l)}e.cancelable&&e.preventDefault(),s(o)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===bo.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Eo={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class To extends Co{constructor(e){const{event:t}=e,n=mi(t.target);super(e,Eo,n)}}To.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const Po={move:{name:"mousemove"},end:{name:"mouseup"}};var Lo;!function(e){e[e.RightClick=2]="RightClick"}(Lo||(Lo={}));(class extends Co{constructor(e){super(e,Po,mi(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==Lo.RightClick&&(null==r||r({event:n}),!0)}}];const Ao={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var Oo,Do;function Ro(t){let{acceleration:n,activator:r=Oo.Pointer,canScroll:a,draggingRect:s,enabled:i,interval:o=5,order:l=Do.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:m,threshold:p}=t;const h=function(e){let{delta:t,disabled:n}=e;const r=xi(t);return gi(e=>{if(n||!r||!e)return zo;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[so.Backward]:e.x[so.Backward]||-1===a.x,[so.Forward]:e.x[so.Forward]||1===a.x},y:{[so.Backward]:e.y[so.Backward]||-1===a.y,[so.Forward]:e.y[so.Forward]||1===a.y}}},[n,t,r])}({delta:m,disabled:!i}),[f,g]=function(){const t=(0,e.useRef)(null);return[(0,e.useCallback)((e,n)=>{t.current=setInterval(e,n)},[]),(0,e.useCallback)(()=>{null!==t.current&&(clearInterval(t.current),t.current=null)},[])]}(),x=(0,e.useRef)({x:0,y:0}),v=(0,e.useRef)({x:0,y:0}),b=(0,e.useMemo)(()=>{switch(r){case Oo.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Oo.DraggableRect:return s}},[r,s,c]),y=(0,e.useRef)(null),w=(0,e.useCallback)(()=>{const e=y.current;if(!e)return;const t=x.current.x*v.current.x,n=x.current.y*v.current.y;e.scrollBy(t,n)},[]),j=(0,e.useMemo)(()=>l===Do.TreeOrder?[...d].reverse():d,[l,d]);(0,e.useEffect)(()=>{if(i&&d.length&&b){for(const e of j){if(!1===(null==a?void 0:a(e)))continue;const t=d.indexOf(e),r=u[t];if(!r)continue;const{direction:s,speed:i}=co(e,r,b,n,p);for(const e of["x","y"])h[e][s[e]]||(i[e]=0,s[e]=0);if(i.x>0||i.y>0)return g(),y.current=e,f(w,o),x.current=i,void(v.current=s)}x.current={x:0,y:0},v.current={x:0,y:0},g()}else g()},[n,w,a,g,i,o,JSON.stringify(b),JSON.stringify(h),f,d,j,u,JSON.stringify(p)])}(class extends Co{constructor(e){super(e,Ao)}static setup(){return window.addEventListener(Ao.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ao.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return!(a.length>1)&&(null==r||r({event:n}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(Oo||(Oo={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(Do||(Do={}));const zo={x:{[so.Backward]:!1,[so.Forward]:!1},y:{[so.Backward]:!1,[so.Forward]:!1}};var Mo,Io;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(Mo||(Mo={})),function(e){e.Optimized="optimized"}(Io||(Io={}));const Fo=new Map;function Bo(e,t){return gi(n=>e?n||("function"===typeof t?t(e):e):null,[t,e])}function Uo(t){let{callback:n,disabled:r}=t;const a=hi(n),s=(0,e.useMemo)(()=>{if(r||"undefined"===typeof window||"undefined"===typeof window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(a)},[r]);return(0,e.useEffect)(()=>()=>null==s?void 0:s.disconnect(),[s]),s}function Wo(e){return new fo(Qi(e),e)}function Ho(t,n,r){void 0===n&&(n=Wo);const[a,s]=(0,e.useState)(null);function i(){s(e=>{if(!t)return null;var a;if(!1===t.isConnected)return null!=(a=null!=e?e:r)?a:null;const s=n(t);return JSON.stringify(e)===JSON.stringify(s)?e:s})}const o=function(t){let{callback:n,disabled:r}=t;const a=hi(n),s=(0,e.useMemo)(()=>{if(r||"undefined"===typeof window||"undefined"===typeof window.MutationObserver)return;const{MutationObserver:e}=window;return new e(a)},[a,r]);return(0,e.useEffect)(()=>()=>null==s?void 0:s.disconnect(),[s]),s}({callback(e){if(t)for(const n of e){const{type:e,target:r}=n;if("childList"===e&&r instanceof HTMLElement&&r.contains(t)){i();break}}}}),l=Uo({callback:i});return pi(()=>{i(),t?(null==l||l.observe(t),null==o||o.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==o||o.disconnect())},[t]),a}const qo=[];function Vo(t,n){void 0===n&&(n=[]);const r=(0,e.useRef)(null);return(0,e.useEffect)(()=>{r.current=null},n),(0,e.useEffect)(()=>{const e=t!==Ii;e&&!r.current&&(r.current=t),!e&&r.current&&(r.current=null)},[t]),r.current?ji(t,r.current):Ii}function Ko(t){return(0,e.useMemo)(()=>t?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(t):null,[t])}const Go=[];function Yo(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return di(t)?t:e}function Jo(t){let{measure:n}=t;const[r,a]=(0,e.useState)(null),s=(0,e.useCallback)(e=>{for(const{target:t}of e)if(di(t)){a(e=>{const r=n(t);return e?l(l({},e),{},{width:r.width,height:r.height}):r});break}},[n]),i=Uo({callback:s}),o=(0,e.useCallback)(e=>{const t=Yo(e);null==i||i.disconnect(),t&&(null==i||i.observe(t)),a(t?n(t):null)},[n,i]),[c,d]=function(t){const n=hi(t),r=(0,e.useRef)(null),a=(0,e.useCallback)(e=>{e!==r.current&&(null==n||n(e,r.current)),r.current=e},[]);return[r,a]}(o);return(0,e.useMemo)(()=>({nodeRef:c,rect:r,setRef:d}),[r,c,d])}const $o=[{sensor:To,options:{}},{sensor:ko,options:{}}],Qo={current:{}},Xo={draggable:{measure:Xi},droppable:{measure:Xi,strategy:Mo.WhileDragging,frequency:Io.Optimized},dragOverlay:{measure:Qi}};class Zo extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const el={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Zo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Mi},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Xo,measureDroppableContainers:Mi,windowRect:null,measuringScheduled:!1},tl={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Mi,draggableNodes:new Map,over:null,measureDroppableContainers:Mi},nl=(0,e.createContext)(tl),rl=(0,e.createContext)(el);function al(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Zo}}}function sl(e,t){switch(t.type){case zi.DragStart:return l(l({},e),{},{draggable:l(l({},e.draggable),{},{initialCoordinates:t.initialCoordinates,active:t.active})});case zi.DragMove:return null==e.draggable.active?e:l(l({},e),{},{draggable:l(l({},e.draggable),{},{translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}})});case zi.DragEnd:case zi.DragCancel:return l(l({},e),{},{draggable:l(l({},e.draggable),{},{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case zi.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new Zo(e.droppable.containers);return a.set(r,n),l(l({},e),{},{droppable:l(l({},e.droppable),{},{containers:a})})}case zi.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const i=new Zo(e.droppable.containers);return i.set(n,l(l({},s),{},{disabled:a})),l(l({},e),{},{droppable:l(l({},e.droppable),{},{containers:i})})}case zi.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const s=new Zo(e.droppable.containers);return s.delete(n),l(l({},e),{},{droppable:l(l({},e.droppable),{},{containers:s})})}default:return e}}function il(t){let{disabled:n}=t;const{active:r,activatorEvent:a,draggableNodes:s}=(0,e.useContext)(nl),i=xi(a),o=xi(null==r?void 0:r.id);return(0,e.useEffect)(()=>{if(!n&&!a&&i&&null!=o){if(!Ni(i))return;if(document.activeElement===i.target)return;const e=s.get(o);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=_i(e);if(t){t.focus();break}}})}},[a,n,s,o,i]),null}function ol(e,t){let{transform:n}=t,a=r(t,Pi);return null!=e&&e.length?e.reduce((e,t)=>t(l({transform:e},a)),n):n}const ll=(0,e.createContext)(l(l({},Ii),{},{scaleX:1,scaleY:1}));var cl;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(cl||(cl={}));const dl=(0,e.memo)(function(t){var n,a,s,i;let{id:o,accessibility:c,autoScroll:d=!0,children:u,sensors:m=$o,collisionDetection:p=Vi,measuring:h,modifiers:f}=t,g=r(t,Li);const x=(0,e.useReducer)(sl,void 0,al),[v,b]=x,[y,w]=function(){const[t]=(0,e.useState)(()=>new Set),n=(0,e.useCallback)(e=>(t.add(e),()=>t.delete(e)),[t]);return[(0,e.useCallback)(e=>{let{type:n,event:r}=e;t.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)})},[t]),n]}(),[j,N]=(0,e.useState)(cl.Uninitialized),k=j===cl.Initialized,{draggable:{active:S,nodes:_,translate:C},droppable:{containers:E}}=v,T=null!=S?_.get(S):null,P=(0,e.useRef)({initial:null,translated:null}),L=(0,e.useMemo)(()=>{var e;return null!=S?{id:S,data:null!=(e=null==T?void 0:T.data)?e:Qo,rect:P}:null},[S,T]),A=(0,e.useRef)(null),[O,D]=(0,e.useState)(null),[R,z]=(0,e.useState)(null),M=fi(g,Object.values(g)),I=bi("DndDescribedBy",o),F=(0,e.useMemo)(()=>E.getEnabled(),[E]),B=(U=h,(0,e.useMemo)(()=>({draggable:l(l({},Xo.draggable),null==U?void 0:U.draggable),droppable:l(l({},Xo.droppable),null==U?void 0:U.droppable),dragOverlay:l(l({},Xo.dragOverlay),null==U?void 0:U.dragOverlay)}),[null==U?void 0:U.draggable,null==U?void 0:U.droppable,null==U?void 0:U.dragOverlay]));var U;const{droppableRects:W,measureDroppableContainers:H,measuringScheduled:q}=function(t,n){let{dragging:r,dependencies:a,config:s}=n;const[i,o]=(0,e.useState)(null),{frequency:l,measure:c,strategy:d}=s,u=(0,e.useRef)(t),m=function(){switch(d){case Mo.Always:return!1;case Mo.BeforeDragging:return r;default:return!r}}(),p=fi(m),h=(0,e.useCallback)(function(e){void 0===e&&(e=[]),p.current||o(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[p]),f=(0,e.useRef)(null),g=gi(e=>{if(m&&!r)return Fo;if(!e||e===Fo||u.current!==t||null!=i){const e=new Map;for(let n of t){if(!n)continue;if(i&&i.length>0&&!i.includes(n.id)&&n.rect.current){e.set(n.id,n.rect.current);continue}const t=n.node.current,r=t?new fo(c(t),t):null;n.rect.current=r,r&&e.set(n.id,r)}return e}return e},[t,i,r,m,c]);return(0,e.useEffect)(()=>{u.current=t},[t]),(0,e.useEffect)(()=>{m||h()},[r,m]),(0,e.useEffect)(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),(0,e.useEffect)(()=>{m||"number"!==typeof l||null!==f.current||(f.current=setTimeout(()=>{h(),f.current=null},l))},[l,m,h,...a]),{droppableRects:g,measureDroppableContainers:h,measuringScheduled:null!=i}}(F,{dragging:k,dependencies:[C.x,C.y],config:B.droppable}),V=function(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return gi(e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null},[r,t])}(_,S),K=(0,e.useMemo)(()=>R?ki(R):null,[R]),G=function(){const e=!1===(null==O?void 0:O.autoScrollEnabled),t="object"===typeof d?!1===d.enabled:!1===d,n=k&&!e&&!t;if("object"===typeof d)return l(l({},d),{},{enabled:n});return{enabled:n}}(),Y=function(e,t){return Bo(e,t)}(V,B.draggable.measure);!function(t){let{activeNode:n,measure:r,initialRect:a,config:s=!0}=t;const i=(0,e.useRef)(!1),{x:o,y:l}="boolean"===typeof s?{x:s,y:s}:s;pi(()=>{if(!o&&!l||!n)return void(i.current=!1);if(i.current||!a)return;const e=null==n?void 0:n.node.current;if(!e||!1===e.isConnected)return;const t=Ki(r(e),a);if(o||(t.x=0),l||(t.y=0),i.current=!0,Math.abs(t.x)>0||Math.abs(t.y)>0){const n=eo(e);n&&n.scrollBy({top:t.y,left:t.x})}},[n,o,l,a,r])}({activeNode:null!=S?_.get(S):null,config:G.layoutShiftCompensation,initialRect:Y,measure:B.draggable.measure});const J=Ho(V,B.draggable.measure,Y),$=Ho(V?V.parentElement:null),Q=(0,e.useRef)({activatorEvent:null,active:null,activeNode:V,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:_,draggingNode:null,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),X=E.getNodeFor(null==(n=Q.current.over)?void 0:n.id),Z=Jo({measure:B.dragOverlay.measure}),ee=null!=(a=Z.nodeRef.current)?a:V,te=k?null!=(s=Z.rect)?s:J:null,ne=Boolean(Z.nodeRef.current&&Z.rect),re=Ki(ae=ne?null:J,Bo(ae));var ae;const se=Ko(ee?li(ee):null),ie=function(t){const n=(0,e.useRef)(t),r=gi(e=>t?e&&e!==qo&&t&&n.current&&t.parentNode===n.current.parentNode?e:Zi(t):qo,[t]);return(0,e.useEffect)(()=>{n.current=t},[t]),r}(k?null!=X?X:V:null),oe=function(t,n){void 0===n&&(n=Qi);const[r]=t,a=Ko(r?li(r):null),[s,i]=(0,e.useState)(Go);function o(){i(()=>t.length?t.map(e=>io(e)?a:new fo(n(e),e)):Go)}const l=Uo({callback:o});return pi(()=>{null==l||l.disconnect(),o(),t.forEach(e=>null==l?void 0:l.observe(e))},[t]),s}(ie),le=ol(f,{transform:{x:C.x-re.x,y:C.y-re.y,scaleX:1,scaleY:1},activatorEvent:R,active:L,activeNodeRect:J,containerNodeRect:$,draggingNodeRect:te,over:Q.current.over,overlayNodeRect:Z.rect,scrollableAncestors:ie,scrollableAncestorRects:oe,windowRect:se}),ce=K?wi(K,C):null,de=function(t){const[n,r]=(0,e.useState)(null),a=(0,e.useRef)(t),s=(0,e.useCallback)(e=>{const t=to(e.target);t&&r(e=>e?(e.set(t,ao(t)),new Map(e)):null)},[]);return(0,e.useEffect)(()=>{const e=a.current;if(t!==e){n(e);const i=t.map(e=>{const t=to(e);return t?(t.addEventListener("scroll",s,{passive:!0}),[t,ao(t)]):null}).filter(e=>null!=e);r(i.length?new Map(i):null),a.current=t}return()=>{n(t),n(e)};function n(e){e.forEach(e=>{const t=to(e);null==t||t.removeEventListener("scroll",s)})}},[s,t]),(0,e.useMemo)(()=>t.length?n?Array.from(n.values()).reduce((e,t)=>wi(e,t),Ii):mo(t):Ii,[t,n])}(ie),ue=Vo(de),me=Vo(de,[J]),pe=wi(le,ue),he=te?Yi(te,le):null,fe=L&&he?p({active:L,collisionRect:he,droppableRects:W,droppableContainers:F,pointerCoordinates:ce}):null,ge=function(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}(fe,"id"),[xe,ve]=(0,e.useState)(null),be=function(e,t,n){return l(l({},e),{},{scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1})}(ne?le:wi(le,me),null!=(i=null==xe?void 0:xe.rect)?i:null,J),ye=(0,e.useRef)(null),we=(0,e.useCallback)((e,t)=>{let{sensor:n,options:r}=t;if(null==A.current)return;const a=_.get(A.current);if(!a)return;const s=e.nativeEvent,i=new n({active:A.current,activeNode:a,event:s,options:r,context:Q,onAbort(e){if(!_.get(e))return;const{onDragAbort:t}=M.current,n={id:e};null==t||t(n),y({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!_.get(e))return;const{onDragPending:a}=M.current,s={id:e,constraint:t,initialCoordinates:n,offset:r};null==a||a(s),y({type:"onDragPending",event:s})},onStart(e){const t=A.current;if(null==t)return;const n=_.get(t);if(!n)return;const{onDragStart:r}=M.current,a={activatorEvent:s,active:{id:t,data:n.data,rect:P}};(0,ai.unstable_batchedUpdates)(()=>{null==r||r(a),N(cl.Initializing),b({type:zi.DragStart,initialCoordinates:e,active:t}),y({type:"onDragStart",event:a}),D(ye.current),z(s)})},onMove(e){b({type:zi.DragMove,coordinates:e})},onEnd:o(zi.DragEnd),onCancel:o(zi.DragCancel)});function o(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:a}=Q.current;let i=null;if(t&&a){const{cancelDrop:o}=M.current;if(i={activatorEvent:s,active:t,collisions:n,delta:a,over:r},e===zi.DragEnd&&"function"===typeof o){await Promise.resolve(o(i))&&(e=zi.DragCancel)}}A.current=null,(0,ai.unstable_batchedUpdates)(()=>{b({type:e}),N(cl.Uninitialized),ve(null),D(null),z(null),ye.current=null;const t=e===zi.DragEnd?"onDragEnd":"onDragCancel";if(i){const e=M.current[t];null==e||e(i),y({type:t,event:i})}})}}ye.current=i},[_]),je=(0,e.useCallback)((e,t)=>(n,r)=>{const a=n.nativeEvent,s=_.get(r);if(null!==A.current||!s||a.dndKit||a.defaultPrevented)return;const i={active:s};!0===e(n,t.options,i)&&(a.dndKit={capturedBy:t.sensor},A.current=r,we(n,t))},[_,we]),Ne=function(t,n){return(0,e.useMemo)(()=>t.reduce((e,t)=>{const{sensor:r}=t;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:n(e.handler,t)}))]},[]),[t,n])}(m,je);!function(t){(0,e.useEffect)(()=>{if(!si)return;const e=t.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const t of e)null==t||t()}},t.map(e=>{let{sensor:t}=e;return t}))}(m),pi(()=>{J&&j===cl.Initializing&&N(cl.Initialized)},[J,j]),(0,e.useEffect)(()=>{const{onDragMove:e}=M.current,{active:t,activatorEvent:n,collisions:r,over:a}=Q.current;if(!t||!n)return;const s={active:t,activatorEvent:n,collisions:r,delta:{x:pe.x,y:pe.y},over:a};(0,ai.unstable_batchedUpdates)(()=>{null==e||e(s),y({type:"onDragMove",event:s})})},[pe.x,pe.y]),(0,e.useEffect)(()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:a}=Q.current;if(!e||null==A.current||!t||!a)return;const{onDragOver:s}=M.current,i=r.get(ge),o=i&&i.rect.current?{id:i.id,rect:i.rect.current,data:i.data,disabled:i.disabled}:null,l={active:e,activatorEvent:t,collisions:n,delta:{x:a.x,y:a.y},over:o};(0,ai.unstable_batchedUpdates)(()=>{ve(o),null==s||s(l),y({type:"onDragOver",event:l})})},[ge]),pi(()=>{Q.current={activatorEvent:R,active:L,activeNode:V,collisionRect:he,collisions:fe,droppableRects:W,draggableNodes:_,draggingNode:ee,draggingNodeRect:te,droppableContainers:E,over:xe,scrollableAncestors:ie,scrollAdjustedTranslate:pe},P.current={initial:te,translated:he}},[L,V,fe,he,_,ee,te,W,E,xe,ie,pe]),Ro(l(l({},G),{},{delta:C,draggingRect:he,pointerCoordinates:ce,scrollableAncestors:ie,scrollableAncestorRects:oe}));const ke=(0,e.useMemo)(()=>({active:L,activeNode:V,activeNodeRect:J,activatorEvent:R,collisions:fe,containerNodeRect:$,dragOverlay:Z,draggableNodes:_,droppableContainers:E,droppableRects:W,over:xe,measureDroppableContainers:H,scrollableAncestors:ie,scrollableAncestorRects:oe,measuringConfiguration:B,measuringScheduled:q,windowRect:se}),[L,V,J,R,fe,$,Z,_,E,W,xe,H,ie,oe,B,q,se]),Se=(0,e.useMemo)(()=>({activatorEvent:R,activators:Ne,active:L,activeNodeRect:J,ariaDescribedById:{draggable:I},dispatch:b,draggableNodes:_,over:xe,measureDroppableContainers:H}),[R,Ne,L,J,b,I,_,xe,H]);return e.createElement(Ai.Provider,{value:w},e.createElement(nl.Provider,{value:Se},e.createElement(rl.Provider,{value:ke},e.createElement(ll.Provider,{value:be},u)),e.createElement(il,{disabled:!1===(null==c?void 0:c.restoreFocus)})),e.createElement(Ri,l(l({},c),{},{hiddenTextDescribedById:I})))});var ul=n(173);function ml(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(Pc){s(Pc)}}function o(e){try{l(r.throw(e))}catch(Pc){s(Pc)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const pl=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function hl(e,t,n){const r=function(e){const{name:t}=e;if(t&&-1!==t.lastIndexOf(".")&&!e.type){const n=t.split(".").pop().toLowerCase(),r=pl.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e),{webkitRelativePath:a}=e,s="string"===typeof t?t:"string"===typeof a&&a.length>0?a:"./".concat(e.name);return"string"!==typeof r.path&&fl(r,"path",s),void 0!==n&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),fl(r,"relativePath",s),r}function fl(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const gl=[".DS_Store","Thumbs.db"];function xl(e){return"object"===typeof e&&null!==e}function vl(e){return e.filter(e=>-1===gl.indexOf(e.name))}function bl(e){if(null===e)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function yl(e){if("function"!==typeof e.webkitGetAsEntry)return jl(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?kl(t):jl(e,t)}function wl(e){return e.reduce((e,t)=>[...e,...Array.isArray(t)?wl(t):[t]],[])}function jl(e,t){return ml(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&"function"===typeof e.getAsFileSystemHandle){const t=yield e.getAsFileSystemHandle();if(null===t)throw new Error("".concat(e," is not a File"));if(void 0!==t){const e=yield t.getFile();return e.handle=t,hl(e)}}const r=e.getAsFile();if(!r)throw new Error("".concat(e," is not a File"));return hl(r,null!==(n=null===t||void 0===t?void 0:t.fullPath)&&void 0!==n?n:void 0)})}function Nl(e){return ml(this,void 0,void 0,function*(){return e.isDirectory?kl(e):function(e){return ml(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(n=>{const r=hl(n,e.fullPath);t(r)},e=>{n(e)})})})}(e)})}function kl(e){const t=e.createReader();return new Promise((e,n)=>{const r=[];!function a(){t.readEntries(t=>ml(this,void 0,void 0,function*(){if(t.length){const e=Promise.all(t.map(Nl));r.push(e),a()}else try{const t=yield Promise.all(r);e(t)}catch(s){n(s)}}),e=>{n(e)})}()})}var Sl=n(628);function _l(e){return function(e){if(Array.isArray(e))return Al(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ll(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function El(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cl(Object(n),!0).forEach(function(t){Tl(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,s=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);i=!0);}catch(l){o=!0,a=l}finally{try{i||null==n.return||n.return()}finally{if(o)throw a}}return s}(e,t)||Ll(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ll(e,t){if(e){if("string"===typeof e)return Al(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Al(e,t):void 0}}function Al(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ol="function"===typeof Sl?Sl:Sl.default,Dl="file-invalid-type",Rl="file-too-large",zl="file-too-small",Ml="too-many-files",Il=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),t=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:Dl,message:"File type must be ".concat(t)}},Fl=function(e){return{code:Rl,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},Bl=function(e){return{code:zl,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},Ul={code:Ml,message:"Too many files"};function Wl(e,t){var n="application/x-moz-file"===e.type||Ol(e,t);return[n,n?null:Il(t)]}function Hl(e,t,n){if(ql(e.size))if(ql(t)&&ql(n)){if(e.size>n)return[!1,Fl(n)];if(e.size<t)return[!1,Bl(t)]}else{if(ql(t)&&e.size<t)return[!1,Bl(t)];if(ql(n)&&e.size>n)return[!1,Fl(n)]}return[!0,null]}function ql(e){return void 0!==e&&null!==e}function Vl(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function Kl(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(e){return"Files"===e||"application/x-moz-file"===e}):!!e.target&&!!e.target.files}function Gl(e){e.preventDefault()}function Yl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t.some(function(t){return!Vl(e)&&t&&t.apply(void 0,[e].concat(r)),Vl(e)})}}function Jl(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||"application/*"===e||/\w+\/[-+.\w]+/g.test(e)}function $l(e){return/^.*\.[\w]+$/.test(e)}var Ql=["children"],Xl=["open"],Zl=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ec=["refKey","onChange","onClick"];function tc(e){return function(e){if(Array.isArray(e))return ac(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,s=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);i=!0);}catch(l){o=!0,a=l}finally{try{i||null==n.return||n.return()}finally{if(o)throw a}}return s}(e,t)||rc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rc(e,t){if(e){if("string"===typeof e)return ac(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ac(e,t):void 0}}function ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ic(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sc(Object(n),!0).forEach(function(t){oc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lc(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var cc=(0,e.forwardRef)(function(t,n){var r=t.children,a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=ic(ic({},dc),t),r=n.accept,a=n.disabled,s=n.getFilesFromEvent,i=n.maxSize,o=n.minSize,l=n.multiple,c=n.maxFiles,d=n.onDragEnter,u=n.onDragLeave,m=n.onDragOver,p=n.onDrop,h=n.onDropAccepted,f=n.onDropRejected,g=n.onFileDialogCancel,x=n.onFileDialogOpen,v=n.useFsAccessApi,b=n.autoFocus,y=n.preventDropOnDocument,w=n.noClick,j=n.noKeyboard,N=n.noDrag,k=n.noDragEventsBubbling,S=n.onError,_=n.validator,C=(0,e.useMemo)(function(){return function(e){if(ql(e))return Object.entries(e).reduce(function(e,t){var n=Pl(t,2),r=n[0],a=n[1];return[].concat(_l(e),[r],_l(a))},[]).filter(function(e){return Jl(e)||$l(e)}).join(",")}(r)},[r]),E=(0,e.useMemo)(function(){return function(e){return ql(e)?[{description:"Files",accept:Object.entries(e).filter(function(e){var t=Pl(e,2),n=t[0],r=t[1],a=!0;return Jl(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),Array.isArray(r)&&r.every($l)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(e,t){var n=Pl(t,2),r=n[0],a=n[1];return El(El({},e),{},Tl({},r,a))},{})}]:e}(r)},[r]),T=(0,e.useMemo)(function(){return"function"===typeof x?x:hc},[x]),P=(0,e.useMemo)(function(){return"function"===typeof g?g:hc},[g]),L=(0,e.useRef)(null),A=(0,e.useRef)(null),O=nc((0,e.useReducer)(pc,mc),2),D=O[0],R=O[1],z=D.isFocused,M=D.isFileDialogActive,I=(0,e.useRef)("undefined"!==typeof window&&window.isSecureContext&&v&&"showOpenFilePicker"in window),F=function(){!I.current&&M&&setTimeout(function(){A.current&&(A.current.files.length||(R({type:"closeDialog"}),P()))},300)};(0,e.useEffect)(function(){return window.addEventListener("focus",F,!1),function(){window.removeEventListener("focus",F,!1)}},[A,M,P,I]);var B=(0,e.useRef)([]),U=function(e){L.current&&L.current.contains(e.target)||(e.preventDefault(),B.current=[])};(0,e.useEffect)(function(){return y&&(document.addEventListener("dragover",Gl,!1),document.addEventListener("drop",U,!1)),function(){y&&(document.removeEventListener("dragover",Gl),document.removeEventListener("drop",U))}},[L,y]),(0,e.useEffect)(function(){return!a&&b&&L.current&&L.current.focus(),function(){}},[L,b,a]);var W=(0,e.useCallback)(function(e){S?S(e):console.error(e)},[S]),H=(0,e.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e),B.current=[].concat(tc(B.current),[e.target]),Kl(e)&&Promise.resolve(s(e)).then(function(t){if(!Vl(e)||k){var n=t.length,r=n>0&&function(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,s=e.multiple,i=e.maxFiles,o=e.validator;return!(!s&&t.length>1||s&&i>=1&&t.length>i)&&t.every(function(e){var t=Pl(Wl(e,n),1)[0],s=Pl(Hl(e,r,a),1)[0],i=o?o(e):null;return t&&s&&!i})}({files:t,accept:C,minSize:o,maxSize:i,multiple:l,maxFiles:c,validator:_});R({isDragAccept:r,isDragReject:n>0&&!r,isDragActive:!0,type:"setDraggedFiles"}),d&&d(e)}}).catch(function(e){return W(e)})},[s,d,W,k,C,o,i,l,c,_]),q=(0,e.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e);var t=Kl(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&m&&m(e),!1},[m,k]),V=(0,e.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e);var t=B.current.filter(function(e){return L.current&&L.current.contains(e)}),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),B.current=t,t.length>0||(R({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Kl(e)&&u&&u(e))},[L,u,k]),K=(0,e.useCallback)(function(e,t){var n=[],r=[];e.forEach(function(e){var t=nc(Wl(e,C),2),a=t[0],s=t[1],l=nc(Hl(e,o,i),2),c=l[0],d=l[1],u=_?_(e):null;if(a&&c&&!u)n.push(e);else{var m=[s,d];u&&(m=m.concat(u)),r.push({file:e,errors:m.filter(function(e){return e})})}}),(!l&&n.length>1||l&&c>=1&&n.length>c)&&(n.forEach(function(e){r.push({file:e,errors:[Ul]})}),n.splice(0)),R({acceptedFiles:n,fileRejections:r,isDragReject:r.length>0,type:"setFiles"}),p&&p(n,r,t),r.length>0&&f&&f(r,t),n.length>0&&h&&h(n,t)},[R,l,C,o,i,c,p,h,f,_]),G=(0,e.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e),B.current=[],Kl(e)&&Promise.resolve(s(e)).then(function(t){Vl(e)&&!k||K(t,e)}).catch(function(e){return W(e)}),R({type:"reset"})},[s,K,W,k]),Y=(0,e.useCallback)(function(){if(I.current){R({type:"openDialog"}),T();var e={multiple:l,types:E};window.showOpenFilePicker(e).then(function(e){return s(e)}).then(function(e){K(e,null),R({type:"closeDialog"})}).catch(function(e){var t;(t=e)instanceof DOMException&&("AbortError"===t.name||t.code===t.ABORT_ERR)?(P(e),R({type:"closeDialog"})):!function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?W(e):(I.current=!1,A.current?(A.current.value=null,A.current.click()):W(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided.")))})}else A.current&&(R({type:"openDialog"}),T(),A.current.value=null,A.current.click())},[R,T,P,v,K,W,E,l]),J=(0,e.useCallback)(function(e){L.current&&L.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),Y()))},[L,Y]),$=(0,e.useCallback)(function(){R({type:"focus"})},[]),Q=(0,e.useCallback)(function(){R({type:"blur"})},[]),X=(0,e.useCallback)(function(){w||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?Y():setTimeout(Y,0))},[w,Y]),Z=function(e){return a?null:e},ee=function(e){return j?null:Z(e)},te=function(e){return N?null:Z(e)},ne=function(e){k&&e.stopPropagation()},re=(0,e.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.role,s=e.onKeyDown,i=e.onFocus,o=e.onBlur,l=e.onClick,c=e.onDragEnter,d=e.onDragOver,u=e.onDragLeave,m=e.onDrop,p=lc(e,Zl);return ic(ic(oc({onKeyDown:ee(Yl(s,J)),onFocus:ee(Yl(i,$)),onBlur:ee(Yl(o,Q)),onClick:Z(Yl(l,X)),onDragEnter:te(Yl(c,H)),onDragOver:te(Yl(d,q)),onDragLeave:te(Yl(u,V)),onDrop:te(Yl(m,G)),role:"string"===typeof r&&""!==r?r:"presentation"},n,L),a||j?{}:{tabIndex:0}),p)}},[L,J,$,Q,X,H,q,V,G,j,N,a]),ae=(0,e.useCallback)(function(e){e.stopPropagation()},[]),se=(0,e.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onChange,a=e.onClick,s=lc(e,ec);return ic(ic({},oc({accept:C,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Z(Yl(r,G)),onClick:Z(Yl(a,ae)),tabIndex:-1},n,A)),s)}},[A,r,l,G,a]);return ic(ic({},D),{},{isFocused:z&&!a,getRootProps:re,getInputProps:se,rootRef:L,inputRef:A,open:Z(Y)})}(lc(t,Ql)),s=a.open,i=lc(a,Xl);return(0,e.useImperativeHandle)(n,function(){return{open:s}},[s]),e.createElement(e.Fragment,null,r(ic(ic({},i),{},{open:s})))});cc.displayName="Dropzone";var dc={disabled:!1,getFilesFromEvent:function(e){return ml(this,void 0,void 0,function*(){return xl(e)&&xl(e.dataTransfer)?function(e,t){return ml(this,void 0,void 0,function*(){if(e.items){const n=bl(e.items).filter(e=>"file"===e.kind);if("drop"!==t)return n;return vl(wl(yield Promise.all(n.map(yl))))}return vl(bl(e.files).map(e=>hl(e)))})}(e.dataTransfer,e.type):function(e){return xl(e)&&xl(e.target)}(e)?function(e){return bl(e.target.files).map(e=>hl(e))}(e):Array.isArray(e)&&e.every(e=>"getFile"in e&&"function"===typeof e.getFile)?function(e){return ml(this,void 0,void 0,function*(){return(yield Promise.all(e.map(e=>e.getFile()))).map(e=>hl(e))})}(e):[]})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};cc.defaultProps=dc,cc.propTypes={children:ul.func,accept:ul.objectOf(ul.arrayOf(ul.string)),multiple:ul.bool,preventDropOnDocument:ul.bool,noClick:ul.bool,noKeyboard:ul.bool,noDrag:ul.bool,noDragEventsBubbling:ul.bool,minSize:ul.number,maxSize:ul.number,maxFiles:ul.number,disabled:ul.bool,getFilesFromEvent:ul.func,onFileDialogCancel:ul.func,onFileDialogOpen:ul.func,useFsAccessApi:ul.bool,autoFocus:ul.bool,onDragEnter:ul.func,onDragLeave:ul.func,onDragOver:ul.func,onDrop:ul.func,onDropAccepted:ul.func,onDropRejected:ul.func,onError:ul.func,validator:ul.func};const uc=cc;var mc={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function pc(e,t){switch(t.type){case"focus":return ic(ic({},e),{},{isFocused:!0});case"blur":return ic(ic({},e),{},{isFocused:!1});case"openDialog":return ic(ic({},mc),{},{isFileDialogActive:!0});case"closeDialog":return ic(ic({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return ic(ic({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return ic(ic({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return ic({},mc);default:return e}}function hc(){}const fc=/[?&]list=([a-zA-Z0-9_-]+)/,gc=()=>{const t=pe(),{user:n}=Sa(),[r,a]=(0,e.useState)(1),[s,i]=(0,e.useState)(""),o=(0,e.useMemo)(()=>fc.test(s),[s]),[c,d]=(0,e.useState)(!1),[u,m]=(0,e.useState)(null),[p,h]=(0,e.useState)([]),[f,g]=(0,e.useState)(null),[x,v]=(0,e.useState)(null),[b,y]=(0,e.useState)(""),[w,j]=(0,e.useState)(""),[N,k]=(0,e.useState)(!1),[S,_]=(0,e.useState)(null),C="admin"===(null===n||void 0===n?void 0:n.role),E=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,e.useMemo)(()=>[...n].filter(e=>null!=e),[...n])}((T=To,(0,e.useMemo)(()=>({sensor:T,options:null!=P?P:{}}),[T,P])));var T,P;return C?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Na.jsxs)("div",{className:"bg-white border rounded-xl p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Na.jsx)("h1",{className:"text-2xl font-bold",children:"Add Course"}),(0,Na.jsx)("div",{className:"flex items-center gap-2",children:[1,2,3].map(e=>(0,Na.jsx)("div",{className:"h-2 w-16 rounded ".concat(r>=e?"bg-primary-600":"bg-gray-200")},e))})]}),1===r&&(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsx)("label",{className:"block text-sm text-gray-700",children:"YouTube Playlist Link"}),(0,Na.jsx)("input",{type:"url",value:s,onChange:e=>i(e.target.value),placeholder:"https://www.youtube.com/playlist?list=...",className:"w-full px-3 py-2 border rounded"}),u&&(0,Na.jsx)("div",{className:"text-sm text-red-600",children:u}),(0,Na.jsxs)("div",{className:"flex justify-between gap-3",children:[(0,Na.jsx)("button",{onClick:()=>t(-1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"BACK"}),(0,Na.jsx)("button",{onClick:async()=>{m(null);const e=(e=>{const t=e.match(fc);return t?t[1]:null})(s);if(e){d(!0);try{const{data:t,error:n}=await ya.functions.invoke("fetch_youtube_playlist",{body:{playlistId:e}});if(n)throw n;const r=Array.isArray(null===t||void 0===t?void 0:t.items)?t.items:[];if(0===r.length)throw new Error("No videos returned from playlist.");const s=r.map((e,t)=>({id:e.videoId||e.id||"vid-".concat(t+1),title:e.title||"Lesson ".concat(t+1),thumbnail:e.thumbnailUrl||e.thumbnail||null,position:t+1}));h(s),a(2)}catch(Pc){const t=Array.from({length:6}).map((e,t)=>({id:"mock-".concat(t+1),title:"Sample Lesson ".concat(t+1),thumbnail:null,position:t+1}));h(t),m("Could not fetch playlist from Edge Function. Using mock lessons for UI preview."),a(2)}finally{d(!1)}}else m("Please paste a valid YouTube playlist URL.")},disabled:c||!o,className:"px-4 py-2 rounded text-white ".concat(!c&&o?"bg-primary-600 hover:bg-primary-700":"bg-gray-400 cursor-not-allowed"),children:c?"Fetching\u2026":"NEXT"})]})]}),2===r&&(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsx)("h2",{className:"text-lg font-semibold",children:"Arrange Lessons"}),(0,Na.jsx)(dl,{sensors:E,collisionDetection:Hi,onDragEnd:e=>{const{active:t,over:n}=e;if(!n||t.id===n.id)return;const r=p.findIndex(e=>e.id===t.id),a=p.findIndex(e=>e.id===n.id),s=function(e,t,n){const r=e.slice(),a=t<0?r.length+t:t;if(a>=0&&a<r.length){const[e]=r.splice(t,1);r.splice(n,0,e)}return r}(p,r,a).map((e,t)=>l(l({},e),{},{position:t+1}));h(s)},children:(0,Na.jsx)("div",{className:"space-y-3",children:p.map(e=>(0,Na.jsxs)("div",{id:e.id,className:"flex items-center gap-3 p-3 border rounded",children:[(0,Na.jsx)("div",{className:"w-20 h-12 bg-gray-100 rounded overflow-hidden",children:e.thumbnail?(0,Na.jsx)("img",{src:e.thumbnail,alt:"thumb",className:"w-full h-full object-cover"}):(0,Na.jsx)("div",{className:"w-full h-full bg-gray-200"})}),(0,Na.jsx)("input",{value:e.title,onChange:t=>h(n=>n.map(n=>n.id===e.id?l(l({},n),{},{title:t.target.value}):n)),className:"flex-1 px-2 py-1 border rounded"}),(0,Na.jsx)("button",{"aria-label":"Delete",onClick:()=>{return t=e.id,h(e=>e.filter(e=>e.id!==t));var t},className:"px-2 py-1 border rounded text-red-600 hover:bg-red-50",children:"\u2715"})]},e.id))})}),(0,Na.jsxs)("div",{className:"flex justify-between",children:[(0,Na.jsx)("button",{onClick:()=>a(1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"BACK"}),(0,Na.jsx)("button",{onClick:()=>a(3),disabled:0===p.length,className:"px-4 py-2 rounded text-white ".concat(p.length?"bg-primary-600 hover:bg-primary-700":"bg-gray-400 cursor-not-allowed"),children:"NEXT"})]})]}),3===r&&(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsx)("h2",{className:"text-lg font-semibold",children:"Cover & Details"}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)(uc,{onDrop:e=>{const t=e[0];t&&(g(t),v(URL.createObjectURL(t)))},accept:{"image/*":[]},multiple:!1,children:e=>{let{getRootProps:t,getInputProps:n,isDragActive:r}=e;return(0,Na.jsxs)("div",l(l({},t()),{},{className:"border-2 border-dashed rounded p-6 text-center cursor-pointer ".concat(r?"bg-primary-50 border-primary-300":"bg-gray-50 border-gray-300"),children:[(0,Na.jsx)("input",l({},n())),(0,Na.jsx)("p",{className:"text-gray-700",children:"Drag & drop cover image here, or click to select"})]}))}}),x&&(0,Na.jsx)("img",{src:x,alt:"preview",className:"w-full h-40 object-cover rounded border mt-3"})]}),(0,Na.jsxs)("div",{className:"space-y-3",children:[(0,Na.jsx)("label",{className:"block text-sm text-gray-700",children:"Course Title"}),(0,Na.jsx)("input",{value:b,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border rounded"}),(0,Na.jsx)("label",{className:"block text-sm text-gray-700",children:"Description"}),(0,Na.jsx)("textarea",{value:w,onChange:e=>j(e.target.value),rows:6,className:"w-full px-3 py-2 border rounded"})]})]}),S&&(0,Na.jsx)("div",{className:"text-sm text-red-600",children:S}),(0,Na.jsxs)("div",{className:"flex justify-between",children:[(0,Na.jsx)("button",{onClick:()=>a(2),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"BACK"}),(0,Na.jsx)("button",{onClick:async()=>{if(C){k(!0),_(null);try{let e=null;if(f){const t=f.name.split(".").pop()||"jpg",n="covers/".concat(Date.now(),"_").concat(Math.random().toString(36).slice(2),".").concat(t),{error:r}=await ya.storage.from("course-covers").upload(n,f,{upsert:!1});if(r)throw r;const{data:a}=ya.storage.from("course-covers").getPublicUrl(n);e=a.publicUrl}const{data:n,error:r}=await ya.from("courses").insert({title:b||"Untitled Course",description:w||null,cover_url:e,playlist_url:s,lessons_count:p.length}).select("id").single();if(r)throw r;const a=p.map(e=>{var t;return{course_id:n.id,order_index:e.position,title:e.title,video_id:e.id,video_url:"https://www.youtube.com/watch?v=".concat(e.id),thumbnail_url:null!==(t=e.thumbnail)&&void 0!==t?t:null}}),{error:i}=await ya.from("lessons").insert(a);if(i)throw i;t("/admin/courses")}catch(Pc){_((null===Pc||void 0===Pc?void 0:Pc.message)||"Failed to save course")}finally{k(!1)}}},disabled:N||!b||0===p.length,className:"px-4 py-2 rounded text-white ".concat(!N&&b&&p.length?"bg-primary-600 hover:bg-primary-700":"bg-gray-400 cursor-not-allowed"),children:N?"Saving\u2026":"SAVE COURSE"})]})]})]})})}):(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16 flex items-center justify-center",children:(0,Na.jsxs)("div",{className:"bg-white border rounded-xl p-8 text-center max-w-md",children:[(0,Na.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"403 \u2013 Admins Only"}),(0,Na.jsx)("p",{className:"text-gray-600",children:"You do not have permission to access this page."})]})})},xc=()=>{const{user:t}=Sa(),n=pe(),[r,a]=(0,e.useState)([]),[s,i]=(0,e.useState)(!0),[o,c]=(0,e.useState)(""),[d,u]=(0,e.useState)(0),[m,p]=(0,e.useState)(!0),[h,f]=(0,e.useState)(!1);(0,e.useEffect)(()=>{"admin"===(null===t||void 0===t?void 0:t.role)&&g(0,!1)},[t]);const g=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{0===e?i(!0):f(!0),c(""),console.log("\ud83d\udd0d Fetching blog posts page ".concat(e,"..."));const{data:r,error:s}=await ya.from("blog_posts").select("\n          *,\n          categories:blog_post_categories(\n            category_id,\n            blog_categories(id, name, slug)\n          ),\n          tags:blog_post_tags(\n            tag_id,\n            blog_tags(id, name, slug)\n          )\n        ").order("created_at",{ascending:!1}).range(10*e,10*e+10-1);var n;if(s)return console.error("Supabase error:",s),void("PGRST303"===s.code||null!==(n=s.message)&&void 0!==n&&n.includes("JWT expired")?c("Authentication expired. Please refresh the page and try again."):c("Database error: ".concat(s.message)));console.log("\ud83d\udcca Supabase response for page ".concat(e,":"),{data:r,error:s});const o=(r||[]).map(e=>{var t,n;return l(l({},e),{},{categories:(null===(t=e.categories)||void 0===t?void 0:t.map(e=>{var t,n,r;return{id:(null===(t=e.blog_categories)||void 0===t?void 0:t.id)||"",name:(null===(n=e.blog_categories)||void 0===n?void 0:n.name)||"",slug:(null===(r=e.blog_categories)||void 0===r?void 0:r.slug)||""}}))||[],tags:(null===(n=e.tags)||void 0===n?void 0:n.map(e=>{var t,n,r;return{id:(null===(t=e.blog_tags)||void 0===t?void 0:t.id)||"",name:(null===(n=e.blog_tags)||void 0===n?void 0:n.name)||"",slug:(null===(r=e.blog_tags)||void 0===r?void 0:r.slug)||""}}))||[]})});console.log("\u2705 Blog posts data received for page ".concat(e,":"),o),console.log("\ud83d\udd0d Sample blog post data:",o[0]),console.log("\ud83d\udd04 Transformed blog posts for page ".concat(e,":"),o),a(t?e=>[...e,...o]:o);const d=r&&10===r.length;p(d),console.log("\ud83d\udcca Has more blog posts:",d)}catch(r){c("Failed to fetch blog posts"),console.error("Error fetching blog posts:",r)}finally{i(!1),f(!1)}};return"admin"!==(null===t||void 0===t?void 0:t.role)?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Access Denied"}),(0,Na.jsx)("p",{className:"mt-2 text-gray-600",children:"You don't have permission to access this page."})]})})}):(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Na.jsx)("div",{className:"mb-8",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsx)("button",{onClick:()=>n("/admin"),className:"p-2 text-gray-600 hover:text-gray-900 transition-colors",title:"Back to Admin",children:(0,Na.jsx)(Fa,{className:"w-5 h-5"})}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Blog"}),(0,Na.jsx)("p",{className:"text-gray-600 mt-1",children:"Create and manage your blog posts"})]})]}),(0,Na.jsxs)("button",{onClick:()=>n("/admin/blog/new"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,Na.jsx)(bs,{className:"w-4 h-4 mr-2"}),"Add Blog Post"]})]})}),s?(0,Na.jsxs)("div",{className:"text-center py-12",children:[(0,Na.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),(0,Na.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading blog posts..."})]}):o?(0,Na.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[(0,Na.jsx)("p",{className:"text-red-700 font-medium",children:o}),(0,Na.jsx)("button",{onClick:()=>g(0,!1),className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]}):0===r.length?(0,Na.jsxs)("div",{className:"text-center py-12",children:[(0,Na.jsx)("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,Na.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No blog posts yet"}),(0,Na.jsx)("p",{className:"text-gray-500 mb-6",children:"Get started by creating your first blog post."}),(0,Na.jsxs)("button",{onClick:()=>n("/admin/blog/new"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,Na.jsx)(bs,{className:"w-4 h-4 mr-2"}),"Create Your First Post"]})]}):(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)("div",{className:"mb-6 text-center",children:(0,Na.jsxs)("p",{className:"text-gray-600",children:["Showing ",(0,Na.jsx)("span",{className:"font-semibold text-gray-900",children:r.length})," blog posts",m&&(0,Na.jsx)("span",{className:"text-gray-500",children:" \u2022 More available"})]})}),(0,Na.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>{return(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)("img",{src:e.featured_image_url||"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=400&h=250&fit=crop",alt:e.title,className:"w-full h-48 object-cover"}),(0,Na.jsx)("div",{className:"absolute top-4 right-4",children:(t=e.status,"published"===t?(0,Na.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Published"}):(0,Na.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Draft"}))})]}),(0,Na.jsxs)("div",{className:"p-6",children:[(0,Na.jsx)("div",{className:"flex items-center space-x-2 mb-3",children:e.categories&&e.categories.length>0&&(0,Na.jsx)("span",{className:"text-sm text-gray-500 capitalize",children:e.categories[0].name})}),(0,Na.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2 line-clamp-2",children:e.title||"Untitled"}),(0,Na.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-3",children:e.excerpt||(e.content?e.content.substring(0,150)+"...":"No content available")}),(0,Na.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.tags&&e.tags.slice(0,3).map((e,t)=>(0,Na.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:e.name||"Untagged"},t)),e.tags&&e.tags.length>3&&(0,Na.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["+",e.tags.length-3," more"]})]}),(0,Na.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[(0,Na.jsxs)("span",{children:["Created: ",e.created_at?new Date(e.created_at).toLocaleDateString():"Unknown"]}),(0,Na.jsxs)("span",{children:["Updated: ",e.updated_at?new Date(e.updated_at).toLocaleDateString():"Unknown"]})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsxs)("button",{onClick:()=>n("/admin/blog/".concat(e.id,"/edit")),className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,Na.jsx)(Za,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,Na.jsxs)("button",{onClick:()=>n("/admin/blog/".concat(e.id,"/view")),className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,Na.jsx)(ns,{className:"w-4 h-4 mr-2"}),"View"]}),(0,Na.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this blog post?"))try{await ya.from("blog_post_tags").delete().eq("post_id",e),await ya.from("blog_post_categories").delete().eq("post_id",e);const{error:t}=await ya.from("blog_posts").delete().eq("id",e);if(t)throw t;a(t=>t.filter(t=>t.id!==e)),alert("Blog post deleted successfully!")}catch(t){c("Failed to delete blog post"),console.error("Error deleting blog post:",t),alert("Failed to delete blog post. Please try again.")}})(e.id),className:"inline-flex items-center justify-center px-3 py-2 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:(0,Na.jsx)(Ts,{className:"w-4 h-4"})})]})]})]},e.id);var t})}),m&&(0,Na.jsx)("div",{className:"mt-8 text-center",children:(0,Na.jsx)("button",{onClick:async()=>{const e=d+1;u(e),await g(e,!0)},disabled:h,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Loading..."]}):(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)(bs,{className:"w-5 h-5 mr-2"}),"Load More Posts"]})})})]})]})})},vc=t=>{let{tags:n,onChange:r,placeholder:a="Type and press Enter to add tags...",maxTags:s=10,className:i=""}=t;const[o,l]=(0,e.useState)(""),c=()=>{const e=o.trim();if(e&&!n.includes(e)&&n.length<s){const t=[...n,e];r(t),l("")}},d=e=>{const t=n.filter((t,n)=>n!==e);r(t)};return(0,Na.jsxs)("div",{className:"border border-gray-300 rounded-lg p-3 focus-within:ring-2 focus-within:ring-primary-500 focus-within:border-primary-500 transition-all duration-200 ".concat(i),children:[(0,Na.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:n.map((e,t)=>(0,Na.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 text-sm font-medium rounded-full",children:[e,(0,Na.jsx)("button",{type:"button",onClick:()=>d(t),className:"ml-1 text-primary-600 hover:text-primary-800 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-1 rounded-full p-0.5 transition-colors","aria-label":"Remove tag: ".concat(e),children:(0,Na.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t))}),n.length<s&&(0,Na.jsx)("input",{type:"text",value:o,onChange:e=>{l(e.target.value)},onKeyDown:e=>{"Enter"===e.key||","===e.key?(e.preventDefault(),c()):"Backspace"===e.key&&""===o&&n.length>0&&d(n.length-1)},onBlur:()=>{o.trim()&&c()},placeholder:a,className:"w-full border-none outline-none text-sm placeholder-gray-400 focus:ring-0 focus:outline-none"}),n.length>=s&&(0,Na.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum ",s," tags reached"]})]})},bc=()=>{const{user:t}=Sa(),n=pe(),{id:r}=he(),a=!!r,[s,i]=(0,e.useState)({title:"",header:"",body:"",conclusion:"",image:"",status:"draft",reading_time:1,featured:!1,selectedCategory:"",selectedTags:[]}),[o,c]=(0,e.useState)(!1),[d,u]=(0,e.useState)(!1),[m,p]=(0,e.useState)(!1),h=(0,e.useCallback)(async()=>{if(r)try{var e,t,n,a;p(!0);const{data:s,error:o}=await ya.from("blog_posts").select("\n          *,\n          blog_post_categories!inner(\n            blog_categories!inner(name)\n          ),\n          blog_post_tags!inner(\n            blog_tags!inner(name)\n          )\n        ").eq("id",r).single();if(o)throw o;const l=s.content||"",c=l.indexOf("## Conclusion\n\n"),d=-1!==c?l.substring(c+18).trim():"",u=-1!==c?l.substring(0,c).trim():l;i({title:s.title||"",header:s.excerpt||"",body:u,conclusion:d,image:s.featured_image_url||"",status:s.status||"draft",reading_time:s.reading_time||1,featured:s.featured||!1,selectedCategory:(null===(e=s.blog_post_categories)||void 0===e||null===(t=e[0])||void 0===t||null===(n=t.blog_categories)||void 0===n?void 0:n.name)||"",selectedTags:(null===(a=s.blog_post_tags)||void 0===a?void 0:a.map(e=>e.blog_tags.name))||[]}),p(!1)}catch(s){console.error("Error fetching existing blog post:",s),p(!1)}},[r]);(0,e.useEffect)(()=>{a&&r&&h()},[a,r,h]);const f=(e,t)=>{i(n=>l(l({},n),{},{[e]:t}))},g=async e=>{if(s.selectedCategory)try{const{data:t,error:n}=await ya.from("blog_categories").select("id").eq("name",s.selectedCategory).single();if(n){console.log("Category not found, creating new one:",s.selectedCategory);const{data:t,error:n}=await ya.from("blog_categories").insert([{name:s.selectedCategory,slug:s.selectedCategory.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")}]).select().single();if(n)console.error("Error creating category:",n);else{const{error:n}=await ya.from("blog_post_categories").insert([{post_id:e,category_id:t.id}]);n&&console.error("Error saving category relationship:",n)}}else if(t){const{error:n}=await ya.from("blog_post_categories").insert([{post_id:e,category_id:t.id}]);n&&console.error("Error saving category relationship:",n)}}catch(t){console.error("Error handling category:",t)}if(s.selectedTags.length>0)for(const n of s.selectedTags)try{let{data:t}=await ya.from("blog_tags").select("id").eq("name",n).single();if(!t){const{data:e,error:r}=await ya.from("blog_tags").insert([{name:n,slug:n.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")}]).select().single();if(r){console.error("Error creating tag:",r);continue}t=e}const{error:r}=await ya.from("blog_post_tags").insert([{post_id:e,tag_id:t.id}]);r&&console.error("Error saving tag relationship:",r)}catch(t){console.error("Error handling tag:",n,t)}},x=async()=>{if(r)try{await ya.from("blog_post_categories").delete().eq("post_id",r),await ya.from("blog_post_tags").delete().eq("post_id",r),await g(r)}catch(e){console.error("Error updating category and tags:",e)}};return"admin"!==(null===t||void 0===t?void 0:t.role)?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Access Denied"}),(0,Na.jsx)("p",{className:"mt-2 text-gray-600",children:"You don't have permission to access this page."})]})})}):m?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Na.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),(0,Na.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading blog post..."})]})})}):(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Na.jsx)("div",{className:"mb-8",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsx)("button",{onClick:()=>n("/admin/blog"),className:"p-2 text-gray-600 hover:text-gray-900 transition-colors",title:"Back to Blog Management",children:(0,Na.jsx)(Fa,{className:"w-5 h-5"})}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:a?"Edit Blog Post":"Add Blog Post"}),(0,Na.jsx)("p",{className:"text-gray-600 mt-1",children:a?"Update your existing blog post":"Create a new blog post for your audience"})]})]}),(0,Na.jsx)("div",{className:"flex items-center space-x-3",children:(0,Na.jsxs)("button",{onClick:()=>u(!d),className:"inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md transition-colors ".concat(d?"border-primary-300 text-primary-700 bg-primary-50":"border-gray-300 text-gray-700 bg-white hover:bg-gray-50"),children:[(0,Na.jsx)(ns,{className:"w-4 h-4 mr-2"}),d?"Edit Mode":"Preview"]})})]})}),d?(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,Na.jsxs)("div",{className:"relative",children:[s.image&&(0,Na.jsx)("img",{src:s.image,alt:s.title||"Blog Post",className:"w-full h-64 object-cover"}),(0,Na.jsx)("div",{className:"absolute top-4 right-4",children:(0,Na.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat("published"===s.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:"published"===s.status?"Published":"Draft"})})]}),(0,Na.jsxs)("div",{className:"p-8",children:[(0,Na.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[s.selectedCategory&&(0,Na.jsx)("span",{className:"inline-block px-3 py-1 bg-primary-100 text-primary-800 text-sm font-medium rounded-full",children:s.selectedCategory}),s.featured&&(0,Na.jsx)("span",{className:"inline-block px-3 py-1 bg-yellow-100 text-yellow-800 text-sm font-medium rounded-full",children:"\u2b50 Featured"}),(0,Na.jsxs)("span",{className:"inline-block px-3 py-1 bg-gray-100 text-gray-600 text-sm font-medium rounded-full",children:["\ud83d\udcd6 ",s.reading_time," min read"]})]}),(0,Na.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:s.title||"Blog Post Title"}),(0,Na.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:s.header||"Blog Post Header"}),(0,Na.jsxs)("div",{className:"prose prose-lg max-w-none mb-8",children:[(0,Na.jsx)("div",{className:"text-gray-600 leading-relaxed whitespace-pre-line",children:s.body||"Blog post body will appear here..."}),s.conclusion&&(0,Na.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Conclusion"}),(0,Na.jsx)("div",{className:"text-gray-600 leading-relaxed whitespace-pre-line",children:s.conclusion})]})]}),s.selectedTags.length>0&&(0,Na.jsx)("div",{className:"mt-6 pt-6 border-t",children:(0,Na.jsx)("div",{className:"flex flex-wrap gap-2",children:s.selectedTags.map((e,t)=>(0,Na.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800",children:e},t))})})]})]}):(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,Na.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Basic Information"}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),(0,Na.jsx)("input",{type:"text",value:s.title,onChange:e=>f("title",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter blog post title"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Header *"}),(0,Na.jsx)("input",{type:"text",value:s.header,onChange:e=>f("header",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter blog post header"})]})]})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,Na.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Content"}),(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Body *"}),(0,Na.jsx)("textarea",{value:s.body,onChange:e=>f("body",e.target.value),rows:8,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Write your blog post body here..."})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Conclusion *"}),(0,Na.jsx)("textarea",{value:s.conclusion,onChange:e=>f("conclusion",e.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Write your blog post conclusion here..."})]})]})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,Na.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Media & Tags"}),(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image"}),(0,Na.jsx)("input",{type:"url",value:s.image,onChange:e=>f("image",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"}),(0,Na.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Enter a URL for the blog post image (optional)"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,Na.jsxs)("select",{value:s.selectedCategory,onChange:e=>f("selectedCategory",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Na.jsx)("option",{value:"",children:"Select a category"}),["Business & Entrepreneurship","Branding & Public Relations","Content & Communication","Digital Advertising","Email & SEO Strategies","UI/UX Design","Visual Communication","Video Editing & Creation","Data Science & Analytics","Artificial Intelligence & Cloud","Project & Workflow Management","Information Security"].map(e=>(0,Na.jsx)("option",{value:e,children:e},e))]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,Na.jsx)(vc,{tags:s.selectedTags,onChange:e=>f("selectedTags",e),placeholder:"Type and press Enter to add tags...",maxTags:10}),(0,Na.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Add relevant tags to help readers find your post"})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reading Time (minutes)"}),(0,Na.jsx)("input",{type:"number",min:"1",max:"120",value:s.reading_time,onChange:e=>f("reading_time",parseInt(e.target.value)||1),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"5"}),(0,Na.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Estimated reading time in minutes"})]}),(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsxs)("label",{className:"flex items-center",children:[(0,Na.jsx)("input",{type:"checkbox",checked:s.featured,onChange:e=>f("featured",e.target.checked),className:"mr-2 text-primary-600 focus:ring-primary-500 rounded"}),(0,Na.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Featured Post"})]}),(0,Na.jsx)("p",{className:"text-sm text-gray-500 ml-2",children:"Show this post prominently"})]})]})]})]}),(0,Na.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsxs)("label",{className:"flex items-center",children:[(0,Na.jsx)("input",{type:"radio",name:"status",value:"draft",checked:"draft"===s.status,onChange:e=>f("status",e.target.value),className:"mr-2 text-primary-600 focus:ring-primary-500"}),(0,Na.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Save as Draft"})]}),(0,Na.jsxs)("label",{className:"flex items-center",children:[(0,Na.jsx)("input",{type:"radio",name:"status",value:"published",checked:"published"===s.status,onChange:e=>f("status",e.target.value),className:"mr-2 text-primary-600 focus:ring-primary-500"}),(0,Na.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Publish Now"})]})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)("button",{onClick:()=>n("/admin/blog"),className:"px-6 py-3 border border-gray-300 text-gray-700 bg-white rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Na.jsxs)("button",{onClick:async()=>{if(s.title&&s.header&&s.body&&s.conclusion)try{let e;if(c(!0),a&&r){const{data:t,error:n}=await ya.from("blog_posts").update({title:s.title,slug:s.title.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),content:s.body+(s.conclusion?"\n\n## Conclusion\n\n"+s.conclusion:""),excerpt:s.header,featured_image_url:s.image||null,status:"draft",published_at:null}).eq("id",r).select().single();if(n)throw n;e=r,console.log("Blog post updated successfully")}else{const{data:t,error:n}=await ya.from("blog_posts").insert([{title:s.title,slug:s.title.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),content:s.body+(s.conclusion?"\n\n## Conclusion\n\n"+s.conclusion:""),excerpt:s.header,featured_image_url:s.image||null,status:"draft",published_at:null}]).select().single();if(n)throw n;e=t.id,console.log("Blog post created successfully")}if(a&&r)await x();else{if(s.selectedCategory){const{error:t}=await ya.from("blog_post_categories").insert([{post_id:e,category_id:s.selectedCategory}]);t&&console.error("Error saving category:",t)}if(s.selectedTags.length>0)for(const t of s.selectedTags){let{data:n}=await ya.from("blog_tags").select("id").eq("name",t).single();if(!n){const{data:e,error:r}=await ya.from("blog_tags").insert([{name:t}]).select().single();if(r){console.error("Error creating tag:",r);continue}n=e}const{error:r}=await ya.from("blog_post_tags").insert([{post_id:e,tag_id:n.id}]);r&&console.error("Error saving tag relationship:",r)}}alert(a?"Blog post updated successfully!":"Blog post saved successfully!"),n("/admin/blog")}catch(e){console.error("Error saving blog post:",e),alert("Failed to save blog post. Please try again.")}finally{c(!1)}else alert("Please fill in all required fields")},disabled:o,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Na.jsx)(ws,{className:"w-4 h-4 mr-2 inline"}),o?"Saving...":a?"Update Draft":"Save Draft"]}),(0,Na.jsx)("button",{onClick:async()=>{if(s.title&&s.header&&s.body&&s.conclusion)try{let e;if(c(!0),a&&r){const{data:t,error:n}=await ya.from("blog_posts").update({title:s.title,slug:s.title.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),content:s.body+(s.conclusion?"\n\n## Conclusion\n\n"+s.conclusion:""),excerpt:s.header,featured_image_url:s.image||null,status:"published",published_at:(new Date).toISOString()}).eq("id",r).select().single();if(n)throw n;e=r,console.log("Blog post updated and published successfully")}else{const{data:t,error:n}=await ya.from("blog_posts").insert([{title:s.title,slug:s.title.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),content:s.body+(s.conclusion?"\n\n## Conclusion\n\n"+s.conclusion:""),excerpt:s.header,featured_image_url:s.image||null,status:"published",published_at:(new Date).toISOString()}]).select().single();if(n)throw n;e=t.id,console.log("Blog post created and published successfully")}a&&r?await x():await g(e),alert(a?"Blog post updated and published successfully!":"Blog post published successfully!"),n("/admin/blog")}catch(e){console.error("Error publishing blog post:",e),alert("Failed to publish blog post. Please try again.")}finally{c(!1)}else alert("Please fill in all required fields")},disabled:o,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Publishing...":a?"Update & Publish":"Publish Now"})]})]})})]})]})})},yc=()=>{const{id:t}=he(),{user:n}=Sa(),r=pe(),[a,s]=(0,e.useState)(null),[i,o]=(0,e.useState)(!0),[l,c]=(0,e.useState)(null);(0,e.useEffect)(()=>{t&&d()},[t]);const d=async()=>{try{var e,n;o(!0);const{data:r,error:a}=await ya.from("blog_posts").select("\n          *,\n          blog_post_categories!inner(\n            blog_categories!inner(name)\n          ),\n          blog_post_tags!inner(\n            blog_tags!inner(name)\n          )\n        ").eq("id",t).single();if(a)throw a;const i={id:r.id,title:r.title,slug:r.slug,content:r.content,excerpt:r.excerpt,featured_image_url:r.featured_image_url,status:r.status,published_at:r.published_at,created_at:r.created_at,updated_at:r.updated_at,categories:(null===(e=r.blog_post_categories)||void 0===e?void 0:e.map(e=>({name:e.blog_categories.name})))||[],tags:(null===(n=r.blog_post_tags)||void 0===n?void 0:n.map(e=>({name:e.blog_tags.name})))||[]};s(i)}catch(l){console.error("Error fetching blog post:",l),c("Failed to load blog post")}finally{o(!1)}};return"admin"!==(null===n||void 0===n?void 0:n.role)?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Access Denied"}),(0,Na.jsx)("p",{className:"mt-2 text-gray-600",children:"You don't have permission to access this page."})]})})}):i?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Na.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),(0,Na.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading blog post..."})]})})}):l||!a?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Error"}),(0,Na.jsx)("p",{className:"mt-2 text-gray-600",children:l||"Blog post not found"}),(0,Na.jsx)("button",{onClick:()=>r("/admin/blog"),className:"mt-4 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Blog Management"})]})})}):(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Na.jsx)("div",{className:"mb-8",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsx)("button",{onClick:()=>r("/admin/blog"),className:"p-2 text-gray-600 hover:text-gray-900 transition-colors",title:"Back to Blog Management",children:(0,Na.jsx)(Fa,{className:"w-5 h-5"})}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"View Blog Post"}),(0,Na.jsx)("p",{className:"text-gray-600 mt-1",children:"Preview and manage your blog post"})]})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsxs)("button",{onClick:()=>r("/admin/blog/".concat(a.id,"/edit")),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 transition-colors",children:[(0,Na.jsx)(Za,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,Na.jsxs)("button",{onClick:async()=>{if(a&&window.confirm("Are you sure you want to delete this blog post?"))try{await ya.from("blog_post_tags").delete().eq("post_id",a.id),await ya.from("blog_post_categories").delete().eq("post_id",a.id);const{error:e}=await ya.from("blog_posts").delete().eq("id",a.id);if(e)throw e;alert("Blog post deleted successfully!"),r("/admin/blog")}catch(l){console.error("Error deleting blog post:",l),alert("Failed to delete blog post")}},className:"inline-flex items-center px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-md hover:bg-red-700 transition-colors",children:[(0,Na.jsx)(Ts,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})}),(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[a.featured_image_url&&(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)("img",{src:a.featured_image_url,alt:a.title,className:"w-full h-64 object-cover"}),(0,Na.jsx)("div",{className:"absolute top-4 right-4",children:(0,Na.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat("published"===a.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:"published"===a.status?"Published":"Draft"})})]}),(0,Na.jsxs)("div",{className:"p-8",children:[(0,Na.jsxs)("div",{className:"flex items-center gap-4 mb-6 text-sm text-gray-600",children:[(0,Na.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Na.jsx)(qa,{className:"w-4 h-4"}),(0,Na.jsx)("span",{children:a.published_at?new Date(a.published_at).toLocaleDateString():"Not published yet"})]}),(0,Na.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Na.jsx)(As,{className:"w-4 h-4"}),(0,Na.jsx)("span",{children:"Admin"})]}),(0,Na.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Na.jsx)(Ja,{className:"w-4 h-4"}),(0,Na.jsxs)("span",{children:[Math.ceil(a.content.split(" ").length/200)," min read"]})]})]}),(0,Na.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[a.categories.length>0&&(0,Na.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Na.jsx)(as,{className:"w-4 h-4 text-gray-500"}),a.categories.map((e,t)=>(0,Na.jsx)("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full",children:e.name},t))]}),a.tags.length>0&&(0,Na.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Na.jsx)(Cs,{className:"w-4 h-4 text-gray-500"}),a.tags.map((e,t)=>(0,Na.jsx)("span",{className:"inline-block px-3 py-1 bg-gray-100 text-gray-600 text-sm font-medium rounded-full",children:e.name},t))]})]}),(0,Na.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:a.title}),a.excerpt&&(0,Na.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:a.excerpt}),(0,Na.jsx)("div",{className:"prose prose-lg max-w-none text-gray-700 leading-relaxed whitespace-pre-line",children:a.content}),(0,Na.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,Na.jsxs)("span",{children:["Created: ",new Date(a.created_at).toLocaleDateString()]}),(0,Na.jsxs)("span",{children:["Updated: ",new Date(a.updated_at).toLocaleDateString()]})]})})]})]})]})})},wc=()=>{const{user:t,updateProfile:n,fetchProfile:r}=Sa(),[a,s]=(0,e.useState)(!1),[i,o]=(0,e.useState)(!1),[l,c]=(0,e.useState)(!1),[d,u]=(0,e.useState)(!1),[m,p]=(0,e.useState)(!1),[h,f]=(0,e.useState)(1),[g,x]=(0,e.useState)(""),[v,b]=(0,e.useState)(""),[y,w]=(0,e.useState)(!1),[j,N]=(0,e.useState)(null),[k,S]=(0,e.useState)([]),[_,C]=(0,e.useState)(!0),[E,T]=(0,e.useState)(!0),[P,L]=(0,e.useState)(()=>{try{return Hs.isSubscriptionActive()}catch(e){return!1}});(0,e.useEffect)(()=>{const e=()=>{try{const e=Hs.isSubscriptionActive();console.log("\ud83d\udd04 Secure storage check - subscription_active:",e),L(e)}catch(e){console.log("\u274c Error reading secure storage"),L(!1)}};e();const t=setInterval(e,5e3);return()=>clearInterval(t)},[]);const[A,O]=(0,e.useState)((null===t||void 0===t?void 0:t.name)||""),[D,R]=(0,e.useState)((null===t||void 0===t?void 0:t.bio)||""),z=300,[M,I]=(0,e.useState)(""),[F,B]=(0,e.useState)(""),[U,W]=(0,e.useState)(!1),[H,q]=(0,e.useState)(!1),[V,K]=(0,e.useState)(null),[G,Y]=(0,e.useState)(null),J=(0,e.useRef)(null),$="pk_test_021c63210a1910a260b520b8bfa97cce19e996d8",Q="PLN_fx0dayx3idr67x1",[X,Z]=(0,e.useState)(!1),[ee,te]=(0,e.useState)(null),ne=(0,e.useCallback)(async()=>{if(null!==t&&void 0!==t&&t.id)try{C(!0),T(!0);try{const{data:e,error:n}=await ya.from("user_subscriptions").select("*").eq("user_id",t.id).eq("status","active").order("created_at",{ascending:!1}).limit(1).single();!n&&e?(N(e),L(!0),console.log("\u2705 Found active subscription:",e)):(console.log("No active subscription found"),N(null),L(!1))}catch(e){console.log("user_subscriptions table not available yet, using secure storage fallback");const t=Hs.isSubscriptionActive();if(console.log("Secure storage subscription status:",t),t){const e=Hs.getSubscriptionData(),t={plan_name:"Monthly Membership",status:"active",amount:25e4,currency:"NGN",start_date:(new Date).toISOString(),migration:"secure storage fallback",next_payment_date:e.subscription_next_renewal||(new Date).toISOString()};N(t),L(!0),console.log("\u2705 Set subscription active from secure storage fallback")}else N(null),L(!1),console.log("\u274c No active subscription in secure storage")}try{const{data:e,error:n}=await ya.from("subscription_payments").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});!n&&e?(S(e),console.log("\u2705 Found billing history:",e)):(console.log("No billing history found"),S([]))}catch(e){console.log("subscription_payments table not available yet, using secure storage fallback");const t=Hs.isSubscriptionActive();if(console.log("Secure storage billing fallback, subscription active:",t),t){const e={id:"secure-1",amount:25e4,currency:"NGN",status:"success",created_at:Hs.getSubscriptionData().subscription_next_renewal||(new Date).toISOString()};S([e]),console.log("\u2705 Set billing history from secure storage fallback")}else S([]),console.log("\u274c No billing history in secure storage")}}catch(G){console.error("Error fetching subscription data:",G),N(null),S([])}finally{C(!1),T(!1)}},[null===t||void 0===t?void 0:t.id]);(0,e.useEffect)(()=>{const e="paystack-inline-js",t=document.getElementById(e);if(t)return void(window.PaystackPop?Z(!0):t.addEventListener("load",()=>Z(!0)));const n=document.createElement("script");n.id=e,n.src="https://js.paystack.co/v1/inline.js",n.async=!0,n.onload=()=>Z(!0),n.onerror=()=>te("Failed to load Paystack script"),document.body.appendChild(n)},[$]),(0,e.useEffect)(()=>{null!==t&&void 0!==t&&t.id&&ne()},[null===t||void 0===t?void 0:t.id,ne]);(0,e.useEffect)(()=>{O((null===t||void 0===t?void 0:t.name)||""),R((null===t||void 0===t?void 0:t.bio)||"")},[null===t||void 0===t?void 0:t.name,null===t||void 0===t?void 0:t.bio]),(0,e.useEffect)(()=>{null!==t&&void 0!==t&&t.id&&ne()},[null===t||void 0===t?void 0:t.id,ne]);return(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8 grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8",children:[(0,Na.jsxs)("div",{className:"lg:col-span-2 bg-white border rounded-2xl shadow-sm p-6",children:[(0,Na.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Your Profile"}),V&&(0,Na.jsx)("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 text-green-700 rounded",children:V}),G&&(0,Na.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded",children:G}),(0,Na.jsxs)("div",{className:"flex items-start gap-4 md:gap-6 flex-col sm:flex-row",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"relative w-28 h-28 rounded-full overflow-hidden border bg-gray-100 cursor-pointer group ".concat(U?"opacity-70":""),onClick:()=>{var e;return null===(e=J.current)||void 0===e?void 0:e.click()},"aria-label":"Change profile photo",role:"button",children:[null!==t&&void 0!==t&&t.avatar_url?(0,Na.jsx)("img",{src:t.avatar_url,alt:"avatar",className:"w-full h-full object-cover"}):(0,Na.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,Na.jsx)(As,{className:"h-10 w-10"})}),(0,Na.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 flex items-center justify-center transition",children:(0,Na.jsx)("div",{className:"text-white/90 text-xs px-2 py-1 rounded bg-black/50 hidden group-hover:block",children:"Change"})}),U&&(0,Na.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white/60",children:(0,Na.jsxs)("svg",{className:"animate-spin h-6 w-6 text-primary-600",viewBox:"0 0 24 24",children:[(0,Na.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Na.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})})]}),(0,Na.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,Na.jsxs)("label",{className:"inline-flex items-center gap-2 px-3 py-2 border rounded-lg text-sm text-gray-700 hover:bg-gray-50 cursor-pointer",children:[(0,Na.jsx)(ds,{})," Change Photo",(0,Na.jsx)("input",{ref:J,type:"file",accept:"image/jpeg,image/png,image/webp",className:"hidden",onChange:e=>{var a;const s=null===(a=e.target.files)||void 0===a?void 0:a[0];s&&(async a=>{if(t){W(!0),K(null),Y(null);try{const e=setTimeout(()=>W(!1),1e4);if(!["image/jpeg","image/png","image/webp"].includes(a.type))throw new Error("Please upload a JPG, PNG, or WEBP image");const i=5242880;if(a.size>i)throw new Error("Image must be 5MB or smaller");const o=a.name.split(".").pop()||"jpg",l="avatars/".concat(t.id,"/").concat(Date.now(),".").concat(o),{error:c}=await ya.storage.from("avatars").upload(l,a,{upsert:!1});if(c)throw new Error(c.message||"Failed to upload file");const{data:d}=ya.storage.from("avatars").getPublicUrl(l),u=d.publicUrl,{error:m}=await n({avatar_url:u});if(m)throw new Error(m.message||"Failed to update avatar URL");K("Profile photo updated");try{await r()}catch(s){}clearTimeout(e)}catch(e){Y((null===e||void 0===e?void 0:e.message)||"Failed to upload photo")}finally{W(!1),J.current&&(J.current.value="")}}})(s)},disabled:U})]}),(null===t||void 0===t?void 0:t.avatar_url)&&(0,Na.jsx)("button",{onClick:async()=>{if(t&&null!==t&&void 0!==t&&t.avatar_url){W(!0),K(null),Y(null);try{const a=setTimeout(()=>W(!1),8e3);try{const e=t.avatar_url,n="/storage/v1/object/public/avatars/",r=e.indexOf(n);if(-1!==r){const t=e.substring(r+n.length);await ya.storage.from("avatars").remove([t])}}catch(e){}const{error:s}=await n({avatar_url:null});if(s)throw new Error(s.message||"Failed to remove avatar");K("Profile photo removed");try{await r()}catch(e){}clearTimeout(a)}catch(Pc){Y((null===Pc||void 0===Pc?void 0:Pc.message)||"Failed to remove photo")}finally{W(!1),J.current&&(J.current.value="")}}},disabled:U,className:"px-3 py-2 border rounded-lg text-sm text-red-600 hover:bg-red-50",children:"Remove"})]}),(0,Na.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"JPG, PNG, or WEBP. Max 5MB."})]}),(0,Na.jsxs)("div",{className:"flex-1 space-y-5 w-full",children:[(0,Na.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"text-sm text-gray-500",children:"Name"}),(0,Na.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:(null===t||void 0===t?void 0:t.name)||"\u2014"})]}),(0,Na.jsxs)("button",{onClick:()=>{O((null===t||void 0===t?void 0:t.name)||""),s(!0)},className:"inline-flex items-center gap-2 px-3 py-1.5 border rounded-lg text-sm hover:bg-gray-50",children:[(0,Na.jsx)(Za,{})," Edit"]})]}),(0,Na.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Na.jsxs)("div",{className:"max-w-prose",children:[(0,Na.jsx)("div",{className:"text-sm text-gray-500",children:"Bio"}),(0,Na.jsx)("div",{className:"text-gray-800 whitespace-pre-wrap",children:(null===t||void 0===t?void 0:t.bio)||"Tell us about yourself."})]}),(0,Na.jsxs)("button",{onClick:()=>{R((null===t||void 0===t?void 0:t.bio)||""),o(!0)},className:"inline-flex items-center gap-2 px-3 py-1.5 border rounded-lg text-sm hover:bg-gray-50",children:[(0,Na.jsx)(Za,{})," Edit"]})]}),(0,Na.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,Na.jsx)(es,{}),(0,Na.jsx)("span",{children:(null===t||void 0===t?void 0:t.email)||"\u2014"})]})]})]})]}),(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"bg-white border rounded-2xl shadow-sm p-6",children:[(0,Na.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Subscription"}),_?(0,Na.jsxs)("div",{className:"flex items-center justify-center py-4",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),(0,Na.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading..."})]}):(console.log("\ud83d\udd0d Profile render - subscription:",j,"subActive:",P),j||P?(0,Na.jsxs)("div",{className:"space-y-2 text-sm text-gray-700",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsx)("span",{children:"Plan"}),(0,Na.jsx)("span",{className:"font-medium text-primary-700",children:(null===j||void 0===j?void 0:j.plan_name)||"Monthly Membership"})]}),(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsx)("span",{children:"Status"}),(0,Na.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-green-100 text-green-700",children:"Active"})]}),(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsx)("span",{children:"Amount"}),(0,Na.jsxs)("span",{className:"font-medium text-primary-700",children:["\u20a6",((null===j||void 0===j?void 0:j.amount)||25e4)/100]})]}),(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsx)("span",{children:"Started"}),(0,Na.jsx)("span",{children:null!==j&&void 0!==j&&j.start_date?new Date(j.start_date).toLocaleDateString():"Recently"})]}),(null===j||void 0===j?void 0:j.next_payment_date)&&(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsx)("span",{children:"Next Payment"}),(0,Na.jsx)("span",{children:new Date(j.next_payment_date).toLocaleDateString()})]})]}):(0,Na.jsxs)("div",{className:"space-y-2 text-sm text-gray-700",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsx)("span",{children:"Plan"}),(0,Na.jsx)("span",{className:"font-medium text-gray-500",children:"No Active Plan"})]}),(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsx)("span",{children:"Status"}),(0,Na.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-gray-200 text-gray-700",children:"Inactive"})]}),(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsx)("span",{children:"Renews"}),(0,Na.jsx)("span",{children:"\u2014"})]})]})),(0,Na.jsx)("button",{onClick:()=>u(!0),className:"mt-4 w-full inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ".concat(j||P?"border rounded-lg hover:bg-gray-50":"bg-gradient-to-r from-primary-600 to-primary-700 text-white hover:from-primary-700 hover:to-primary-800 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"),children:j||P?"Manage Subscription":"Subscribe here"}),(0,Na.jsxs)("button",{onClick:ne,className:"mt-2 w-full inline-flex items-center justify-center gap-2 px-4 py-2 border rounded-lg hover:bg-gray-50",children:[(0,Na.jsx)(Qa,{className:"h-4 w-4"}),"Refresh Status"]})]}),(0,Na.jsxs)("div",{className:"bg-white border rounded-2xl shadow-sm p-6",children:[(0,Na.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Na.jsx)(cs,{className:"h-5 w-5"}),"Billing History"]}),E?(0,Na.jsxs)("div",{className:"flex items-center justify-center py-4",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),(0,Na.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading billing history..."})]}):k.length>0?(0,Na.jsx)("div",{className:"space-y-3 text-sm",children:k.map(e=>(0,Na.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Na.jsx)("div",{className:"text-gray-700",children:new Date(e.created_at).toLocaleDateString()}),(0,Na.jsxs)("div",{className:"text-gray-800 font-medium",children:["\u20a6",(e.amount/100).toLocaleString()]}),(0,Na.jsx)("div",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("success"===e.status?"bg-green-100 text-green-700":"failed"===e.status?"bg-red-100 text-red-700":"pending"===e.status?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]},e.id))}):(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)(cs,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),(0,Na.jsx)("p",{className:"text-gray-500 mb-2",children:"No billing history yet"}),(0,Na.jsx)("p",{className:"text-sm text-gray-400",children:"Your payment history will appear here once you make your first subscription payment."})]})]}),(0,Na.jsxs)("div",{className:"bg-white border rounded-2xl shadow-sm p-6",children:[(0,Na.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account"}),(0,Na.jsxs)("button",{onClick:()=>c(!0),className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2 border rounded-lg hover:bg-gray-50",children:[(0,Na.jsx)(us,{})," Change Password"]})]}),(0,Na.jsxs)("div",{className:"bg-white border rounded-2xl shadow-sm p-6",children:[(0,Na.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tips"}),(0,Na.jsx)("p",{className:"text-sm text-gray-600",children:"Use a real name and a friendly bio so instructors and peers can recognize you."})]})]}),a&&(0,Na.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>s(!1),children:(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",onClick:e=>e.stopPropagation(),children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold",children:"Edit Name"}),(0,Na.jsx)("button",{onClick:()=>s(!1),className:"text-gray-500 hover:text-gray-700",children:(0,Na.jsx)(Es,{})})]}),(0,Na.jsx)("input",{value:A,onChange:e=>O(e.target.value),className:"w-full px-3 py-2 border rounded mb-4"}),(0,Na.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,Na.jsx)("button",{onClick:()=>s(!1),className:"px-4 py-2 border rounded",children:"Cancel"}),(0,Na.jsxs)("button",{onClick:async()=>{const e=A.trim();if(e){q(!0),Y(null),K(null);try{const{error:o}=await n({name:e});if(o){var a,i;const{data:n}=await ya.auth.getUser(),r=null===n||void 0===n||null===(a=n.user)||void 0===a?void 0:a.id,s=(null===n||void 0===n||null===(i=n.user)||void 0===i?void 0:i.email)||(null===t||void 0===t?void 0:t.email)||"";if(!r)throw new Error(o.message||"Failed to update name");{const{error:t}=await ya.rpc("create_profile",{p_id:r,p_name:e,p_email:s,p_bio:null,p_role:null});if(t)throw new Error(t.message||"Failed to create profile")}}s(!1),K("Name updated"),await r()}catch(Pc){Y((null===Pc||void 0===Pc?void 0:Pc.message)||"Failed to update name")}finally{q(!1)}}else Y("Name cannot be empty")},disabled:H||!A.trim(),className:"px-4 py-2 rounded text-white ".concat(!H&&A.trim()?"bg-primary-600 hover:bg-primary-700":"bg-gray-400 cursor-not-allowed"),children:[H?(0,Na.jsxs)("svg",{className:"inline mr-2 h-4 w-4 animate-spin",viewBox:"0 0 24 24",children:[(0,Na.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Na.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}):(0,Na.jsx)(ws,{className:"inline mr-2"}),"Save"]})]})]})}),i&&(0,Na.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>o(!1),children:(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",onClick:e=>e.stopPropagation(),children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold",children:"Edit Bio"}),(0,Na.jsx)("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700",children:(0,Na.jsx)(Es,{})})]}),(0,Na.jsx)("textarea",{value:D,onChange:e=>R(e.target.value.slice(0,z)),rows:5,className:"w-full px-3 py-2 border rounded mb-2"}),(0,Na.jsxs)("div",{className:"text-xs text-gray-500 mb-2 text-right",children:[D.length,"/",z]}),(0,Na.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,Na.jsx)("button",{onClick:()=>o(!1),className:"px-4 py-2 border rounded",children:"Cancel"}),(0,Na.jsxs)("button",{onClick:async()=>{if(D.length>z)Y("Bio must be ".concat(z," characters or fewer"));else{q(!0),Y(null),K(null);try{const{error:e}=await n({bio:D});if(e)throw new Error(e.message||"Failed to update bio");o(!1),K("Bio updated"),await r()}catch(Pc){Y((null===Pc||void 0===Pc?void 0:Pc.message)||"Failed to update bio")}finally{q(!1)}}},disabled:H,className:"px-4 py-2 rounded text-white ".concat(H?"bg-gray-400 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700"),children:[H?(0,Na.jsxs)("svg",{className:"inline mr-2 h-4 w-4 animate-spin",viewBox:"0 0 24 24",children:[(0,Na.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Na.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}):(0,Na.jsx)(ws,{className:"inline mr-2"}),"Save"]})]})]})}),l&&(0,Na.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>c(!1),children:(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",onClick:e=>e.stopPropagation(),children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold",children:"Change Password"}),(0,Na.jsx)("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700",children:(0,Na.jsx)(Es,{})})]}),(0,Na.jsx)("input",{type:"password",placeholder:"New password",value:M,onChange:e=>I(e.target.value),className:"w-full px-3 py-2 border rounded mb-3"}),(0,Na.jsx)("input",{type:"password",placeholder:"Confirm new password",value:F,onChange:e=>B(e.target.value),className:"w-full px-3 py-2 border rounded mb-4"}),(0,Na.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,Na.jsx)("button",{onClick:()=>c(!1),className:"px-4 py-2 border rounded",children:"Cancel"}),(0,Na.jsxs)("button",{onClick:async()=>{if(M&&M===F){q(!0),Y(null),K(null);try{const{error:e}=await ya.auth.updateUser({password:M});if(e)throw new Error(e.message||"Failed to update password");c(!1),K("Password updated"),I(""),B("")}catch(Pc){Y((null===Pc||void 0===Pc?void 0:Pc.message)||"Failed to change password")}finally{q(!1)}}else Y("Passwords do not match")},disabled:H||!M||M!==F,className:"px-4 py-2 rounded text-white ".concat(!H&&M&&M===F?"bg-primary-600 hover:bg-primary-700":"bg-gray-400 cursor-not-allowed"),children:[(0,Na.jsx)(ws,{className:"inline mr-2"})," Save"]})]})]})}),d&&(0,Na.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>u(!1),children:(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",onClick:e=>e.stopPropagation(),children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold",children:P?"Manage Subscription":"Subscribe to Access"}),(0,Na.jsx)("button",{onClick:()=>u(!1),className:"text-gray-500 hover:text-gray-700",children:(0,Na.jsx)(Es,{})})]}),(0,Na.jsxs)("div",{className:"space-y-3 text-sm text-gray-700",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsx)("span",{children:"Current Plan"}),(0,Na.jsx)("span",{className:"font-medium",children:"Membership"})]}),(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsx)("span",{children:"Billing Cycle"}),(0,Na.jsx)("span",{children:"Monthly"})]}),(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsx)("span",{children:"Amount"}),(0,Na.jsx)("span",{children:"\u20a62,500"})]})]}),(0,Na.jsxs)("div",{className:"mt-5 grid grid-cols-1 gap-2",children:[ee?(0,Na.jsxs)("div",{className:"px-4 py-2 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:[(0,Na.jsx)("p",{className:"font-medium",children:"Payment System Error"}),(0,Na.jsx)("p",{children:ee}),(0,Na.jsx)("p",{className:"mt-1 text-xs",children:"Please contact support or check your configuration."})]}):(0,Na.jsx)("button",{onClick:()=>{try{if(K(null),Y(null),null===t||void 0===t||!t.email)return void Y("Sign in required to subscribe");if(!window.PaystackPop)return void Y("Payment library not loaded yet. Please wait a moment and try again.");const e="KEA-".concat(Date.now(),"-").concat(Math.floor(1e6*Math.random())),n=window.PaystackPop.setup({key:$,email:t.email,plan:Q,ref:e,amount:25e4,currency:"NGN",callback:function(n){if(console.log("Paystack payment successful:",n),"success"===n.status)try{const r=new Date;r.setMonth(r.getMonth()+1);const a=r.toISOString().slice(0,10);L(!0),u(!1),K("Subscription started successfully! Reference: ".concat(n.reference||e)),Hs.setSubscriptionData({subscription_active:"true",subscription_ref:n.reference||e,subscription_amount:"2500",subscription_currency:"NGN",subscription_next_renewal:a}),null!==t&&void 0!==t&&t.id&&setTimeout(()=>{(async()=>{try{const{error:a}=await ya.from("user_subscriptions").insert({user_id:t.id,paystack_subscription_id:n.reference||e,paystack_customer_code:t.email,plan_name:"Monthly Membership",status:"active",amount:25e4,currency:"NGN",start_date:(new Date).toISOString(),next_payment_date:r.toISOString()});a?(console.error("Error saving subscription to database:",a),console.log("\u26a0\ufe0f Database save failed, but secureStorage is already updated")):console.log("\u2705 Subscription saved to database successfully");const{error:s}=await ya.from("subscription_payments").insert({user_id:t.id,paystack_transaction_id:n.reference||e,paystack_reference:n.reference||e,amount:25e4,currency:"NGN",status:"success",payment_method:"card",paid_at:(new Date).toISOString()});s?console.error("Error saving payment to database:",s):console.log("\u2705 Payment saved to database successfully"),ne()}catch(G){console.error("Error saving to database:",G),console.log("\u26a0\ufe0f Database save failed, but secureStorage is already updated")}})()},100),(async(e,t)=>{try{const n=await fetch("/api/payments/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reference:e,userId:t})}),r=await n.json();r.success?console.log("Payment verified successfully on server:",r.data):console.warn("Payment verification warning:",r.message)}catch(G){console.error("Payment verification failed:",G)}})(n.reference,t.id)}catch(Pc){console.error("Error storing subscription data:",Pc),Y("Payment successful but failed to update subscription status. Please contact support.")}else Y("Payment was not successful. Please try again.")},onClose:function(){K("Payment window closed. You can try again anytime.")}});n.openIframe()}catch(Pc){console.error("Paystack initialization error:",Pc),Y((null===Pc||void 0===Pc?void 0:Pc.message)||"Failed to initialize payment. Please try again.")}},disabled:!X||P,className:"px-4 py-2 rounded-lg ".concat(X&&!P?"bg-primary-600 text-white hover:bg-primary-700":"bg-gray-300 text-white cursor-not-allowed"," border-0"),children:X?P?"Update subscription":"Subscribe Now":"Loading payment..."}),(0,Na.jsx)("button",{disabled:!P,className:"px-4 py-2 border rounded-lg ".concat(P?"hover:bg-red-50 text-red-600":"text-gray-400 cursor-not-allowed"," "),onClick:()=>{P&&(p(!0),f(1),x(""),b(""),w(!1))},children:"Cancel subscription"})]})]})}),m&&(0,Na.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>p(!1),children:(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",onClick:e=>e.stopPropagation(),children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold",children:"Cancel Subscription"}),(0,Na.jsx)("button",{onClick:()=>p(!1),className:"text-gray-500 hover:text-gray-700",children:(0,Na.jsx)(Es,{})})]}),1===h&&(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsx)("p",{className:"text-sm text-gray-700",children:"We\u2019re sorry to see you go. Please tell us why you\u2019re canceling:"}),(0,Na.jsx)("div",{className:"space-y-2 text-sm",children:["Too expensive","Not using enough","Technical issues","Other"].map(e=>(0,Na.jsxs)("label",{className:"flex items-center gap-2",children:[(0,Na.jsx)("input",{type:"radio",name:"cancel-reason",checked:g===e,onChange:()=>x(e)}),(0,Na.jsx)("span",{children:e})]},e))}),"Other"===g&&(0,Na.jsx)("input",{placeholder:"Please share a brief reason",value:v,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border rounded"}),(0,Na.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,Na.jsx)("button",{onClick:()=>p(!1),className:"px-4 py-2 border rounded",children:"Back"}),(0,Na.jsx)("button",{onClick:()=>f(2),disabled:""===g||"Other"===g&&!v.trim(),className:"px-4 py-2 rounded text-white ".concat(""===g||"Other"===g&&!v.trim()?"bg-gray-400 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700"),children:"Continue"})]})]}),2===h&&(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsx)("p",{className:"text-sm text-gray-700",children:"Before you cancel, please confirm:"}),(0,Na.jsxs)("label",{className:"flex items-start gap-2 text-sm text-gray-700",children:[(0,Na.jsx)("input",{type:"checkbox",checked:y,onChange:e=>w(e.target.checked)}),(0,Na.jsx)("span",{children:"I understand my membership benefits will end at the close of my billing period."})]}),(0,Na.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,Na.jsx)("button",{onClick:()=>f(1),className:"px-4 py-2 border rounded",children:"Back"}),(0,Na.jsx)("button",{onClick:()=>{try{localStorage.setItem("subscription_active","false"),localStorage.removeItem("subscription_ref"),localStorage.removeItem("subscription_next_renewal"),L(!1),K("Subscription canceled. You will retain access until the end of the current billing period.")}catch(e){}p(!1),u(!1)},disabled:!y,className:"px-4 py-2 rounded text-white ".concat(y?"bg-red-600 hover:bg-red-700":"bg-gray-400 cursor-not-allowed"),children:"Confirm Cancel"})]}),(0,Na.jsx)("p",{className:"text-xs text-gray-500",children:"Note: In production, cancellation should be processed with your payment provider and verified on your server."})]})]})})]})})},jc=e=>{let{size:t=64,strokeWidth:n=6,progress:r,className:a}=e;const s=Math.max(0,Math.min(100,r)),i=(t-n)/2,o=2*Math.PI*i,l=s/100*o;return(0,Na.jsx)("div",{className:a,style:{width:t,height:t},children:(0,Na.jsxs)("svg",{width:t,height:t,children:[(0,Na.jsx)("circle",{stroke:"#e5e7eb",fill:"transparent",strokeWidth:n,r:i,cx:t/2,cy:t/2}),(0,Na.jsx)("circle",{stroke:"#10b981",fill:"transparent",strokeLinecap:"round",strokeWidth:n,r:i,cx:t/2,cy:t/2,style:{transform:"rotate(-90deg)",transformOrigin:"50% 50%",strokeDasharray:"".concat(l," ").concat(o-l),transition:"stroke-dasharray 300ms ease"}}),(0,Na.jsxs)("text",{x:"50%",y:"50%",dominantBaseline:"central",textAnchor:"middle",fontSize:Math.max(12,.28*t),fill:"#111827",fontWeight:700,children:[Math.round(s),"%"]})]})})},Nc=()=>{var t;const n=pe(),{id:r}=he(),{user:a}=Sa(),[s,i]=(0,e.useState)(null),[o,l]=(0,e.useState)(!0),[c,d]=(0,e.useState)(null),[u,m]=(0,e.useState)(0);(0,e.useEffect)(()=>{(async()=>{if(r)try{if(l(!0),d(null),a){const{data:e,error:t}=await ya.auth.refreshSession();if(t){console.log("\u26a0\ufe0f Session refresh failed, trying to get current session:",t);const{data:e}=await ya.auth.getSession();e.session||console.log("\u26a0\ufe0f No valid session for authenticated user")}}else console.log("\ud83d\udc64 Guest user viewing course - allowing read-only access");const{data:e,error:t}=await ya.from("courses").select("\n            *,\n            course_videos (\n              id,\n              name,\n              duration,\n              order_index\n            )\n          ").eq("id",r).single();if(t)throw console.error("\u274c Error fetching course:",t),t;e?(console.log("\u2705 Course data received:",e),i(e)):d("Course not found")}catch(e){console.error("\u274c Error fetching course:",e),d("Failed to load course: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{l(!1)}})()},[r]),(0,e.useEffect)(()=>{(async()=>{if(r&&null!==a&&void 0!==a&&a.id)try{const t=localStorage.getItem("recent_course_id"),n=localStorage.getItem("recent_course_progress"),s="true"===localStorage.getItem("recent_course_completed");if(t===r)return void m(s?100:parseInt(n||"0"));try{const{data:e,error:t}=await ya.from("user_courses").select("progress, completed_lessons, is_completed").eq("user_id",a.id).eq("course_id",r).single();!t&&e&&(e.is_completed?m(100):m(e.progress||0))}catch(e){console.log("Could not fetch progress from database, using localStorage fallback"),t===r&&m(parseInt(n||"0"))}}catch(c){console.error("Error fetching user progress:",c)}})()},[r,null===a||void 0===a?void 0:a.id]);return o?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Na.jsxs)("div",{className:"text-center py-12",children:[(0,Na.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),(0,Na.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading course..."})]})})}):c?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Na.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[(0,Na.jsx)("p",{className:"text-red-700 font-medium mb-3",children:c}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,Na.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"}),(0,Na.jsx)("button",{onClick:()=>n("/courses"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Courses"})]})]})})}):s?(0,Na.jsxs)("div",{className:"min-h-screen bg-gray-50 pt-16",children:[(0,Na.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,Na.jsxs)("button",{onClick:()=>n("/courses"),className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[(0,Na.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,Na.jsx)("span",{className:"font-semibold",children:"Browse all courses \ud83d\udcda"})]})}),(0,Na.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[!a&&(0,Na.jsx)("div",{className:"mb-6 bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl p-6 text-white shadow-xl border border-purple-400",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsx)("div",{className:"bg-white/20 p-3 rounded-full",children:(0,Na.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h3",{className:"text-xl font-bold mb-1",children:"\ud83d\udc4b Preview Mode"}),(0,Na.jsx)("p",{className:"text-purple-100",children:"You're viewing this course as a guest. Sign in to start learning and track your progress!"})]})]}),(0,Na.jsx)("div",{className:"text-right",children:(0,Na.jsx)("button",{onClick:()=>n("/signin"),className:"bg-white text-purple-600 px-6 py-3 rounded-full font-semibold hover:bg-purple-50 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Sign In to Start"})})]})}),(0,Na.jsxs)("div",{className:"relative overflow-hidden rounded-xl sm:rounded-2xl bg-gradient-to-r from-primary-700 to-primary-500 text-white p-4 sm:p-6 md:p-8 mb-6 sm:mb-8",children:[(0,Na.jsxs)("div",{className:"max-w-3xl",children:[(0,Na.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold mb-2 sm:mb-3 leading-tight",children:s.title||"Course Title"}),(0,Na.jsx)("p",{className:"text-primary-100 mb-4 sm:mb-6 text-sm sm:text-base leading-relaxed",children:s.description||"A clean, cinematic overview that invites you to begin immediately."}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[(0,Na.jsx)("button",{onClick:()=>{var e,t;a?null!==s&&void 0!==s&&s.course_videos&&s.course_videos.length>0?n("/course/".concat(r,"/lesson/").concat(s.course_videos[0].id)):n("/course/".concat(r,"/lesson/1")):n("/signin",{state:{redirectTo:"/course/".concat(r,"/lesson/").concat((null===s||void 0===s||null===(e=s.course_videos)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.id)||"1"),message:"Please sign in to access this course"}})},className:"w-full sm:w-auto bg-white text-primary-700 font-semibold px-4 sm:px-5 py-2 sm:py-3 rounded-lg hover:bg-primary-50 transition text-sm sm:text-base",children:a?"Start Course":"Sign In to Start"}),a&&(0,Na.jsxs)("div",{className:"bg-white/10 rounded-full p-1 self-center sm:self-auto",children:[(0,Na.jsx)(jc,{size:48,strokeWidth:5,progress:u,className:"sm:hidden"}),(0,Na.jsx)(jc,{size:64,strokeWidth:6,progress:u,className:"hidden sm:block"})]})]})]}),(0,Na.jsx)("div",{className:"absolute right-0 top-0 bottom-0 w-1/3 bg-white/10"})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[(0,Na.jsxs)("div",{className:"bg-white border rounded-lg sm:rounded-xl p-3 sm:p-4",children:[(0,Na.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:"Lessons"}),(0,Na.jsx)("div",{className:"text-lg sm:text-xl font-bold",children:(null===(t=s.course_videos)||void 0===t?void 0:t.length)||0})]}),(0,Na.jsxs)("div",{className:"bg-white border rounded-lg sm:rounded-xl p-3 sm:p-4",children:[(0,Na.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:"Duration"}),(0,Na.jsx)("div",{className:"text-lg sm:text-xl font-bold",children:(e=>{if(!e||0===e.length)return"0 min";let t=0;e.forEach(e=>{const n=e.duration;if(n)if(n.includes(":")){const e=n.split(":");2===e.length?(t+=60*(parseInt(e[0])||0),t+=parseInt(e[1])||0):3===e.length&&(t+=3600*(parseInt(e[0])||0),t+=60*(parseInt(e[1])||0),t+=parseInt(e[2])||0)}else if(n.includes("min")||n.includes("m")){const e=n.match(/(\d+)/);e&&(t+=60*(parseInt(e[1])||0))}else if(n.includes("h")||n.includes("hour")){const e=n.match(/(\d+)/);e&&(t+=3600*(parseInt(e[1])||0))}else{const e=parseInt(n);isNaN(e)||(t+=60*e)}});const n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?0===r&&0===a?"".concat(n,"h"):0===a?"".concat(n,"h ").concat(r,"m"):"".concat(n,"h ").concat(r,"m ").concat(a,"s"):r>0?0===a?"".concat(r,"m"):"".concat(r,"m ").concat(a,"s"):"".concat(a,"s")})(s.course_videos||[])})]}),(0,Na.jsxs)("div",{className:"bg-white border rounded-lg sm:rounded-xl p-3 sm:p-4",children:[(0,Na.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:"Level"}),(0,Na.jsx)("div",{className:"text-lg sm:text-xl font-bold capitalize",children:s.level||"Beginner"})]})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[(0,Na.jsxs)("div",{className:"bg-white border rounded-lg sm:rounded-xl p-4 sm:p-6",children:[(0,Na.jsx)("h2",{className:"text-base sm:text-lg font-bold mb-2",children:"Course Rewards"}),(0,Na.jsxs)("ul",{className:"text-gray-700 list-disc list-inside space-y-1 text-sm sm:text-base",children:[(0,Na.jsx)("li",{children:"\ud83c\udfc5 Badge unlocked at 100%"}),(0,Na.jsx)("li",{children:"\ud83c\udf93 Certificate available on completion"})]})]}),(0,Na.jsxs)("div",{className:"bg-white border rounded-lg sm:rounded-xl p-4 sm:p-6",children:[(0,Na.jsx)("h2",{className:"text-base sm:text-lg font-bold mb-2",children:"Motivation"}),(0,Na.jsx)("p",{className:"text-gray-700 text-sm sm:text-base",children:"\u201cIn 7 days, you could master this skill \u2014 let\u2019s start today.\u201d"})]})]})]})]}):(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Na.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[(0,Na.jsx)("p",{className:"text-yellow-700 font-medium mb-3",children:"Course not found"}),(0,Na.jsx)("button",{onClick:()=>n("/courses"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Courses"})]})})})},kc=()=>{var t,n,r,a,s,i,o,l;const c=pe(),{id:d,lessonId:u}=he(),{user:m}=Sa(),[p,h]=(0,e.useState)(null),[f,g]=(0,e.useState)(null),[x,v]=(0,e.useState)(!0),[b,y]=(0,e.useState)(null),[w,j]=(0,e.useState)(0),[N,k]=(0,e.useState)(new Set);(0,e.useEffect)(()=>{(async()=>{if(d&&u)try{v(!0),y(null);const{error:t}=await ya.auth.refreshSession();if(t){console.log("\u26a0\ufe0f Session refresh failed, trying to get current session:",t);const{data:e}=await ya.auth.getSession();if(!e.session)return y("Authentication required. Please sign in again."),void v(!1)}if(null!==m&&void 0!==m&&m.id)try{const{error:e}=await ya.from("user_courses").upsert({user_id:m.id,course_id:d,progress:0,completed_lessons:0,last_accessed:(new Date).toISOString()},{onConflict:"user_id,course_id"});e?console.log("Database enrollment failed, using localStorage fallback"):console.log("\u2705 User auto-enrolled in course via database")}catch(b){console.log("Database operation failed, using localStorage fallback")}try{localStorage.setItem("recent_course_id",d),localStorage.setItem("recent_course_progress","0"),localStorage.setItem("recent_course_timestamp",(new Date).toISOString()),console.log("\u2705 Course activity stored in localStorage")}catch(e){console.log("Could not store course activity in localStorage")}const{data:n,error:r}=await ya.from("courses").select("\n            *,\n            course_videos (\n              id,\n              name,\n              duration,\n              link,\n              order_index\n            )\n          ").eq("id",d).single();if(r)throw console.error("\u274c Error fetching course:",r),r;if(n){console.log("\u2705 Course data received:",n),h(n);const e=n.course_videos||[],t=e.sort((e,t)=>e.order_index-t.order_index);let r=e.find(e=>e.id===u);if(!r){const e=parseInt(u)-1;r=t[e]}r?(g(r),j(t.findIndex(e=>e.id===r.id))):t.length>0&&(g(t[0]),j(0))}else y("Course not found")}catch(t){console.error("\u274c Error fetching course:",t),y("Failed to load course: ".concat(t instanceof Error?t.message:"Unknown error"))}finally{v(!1)}})()},[d,u,null===m||void 0===m?void 0:m.id]);return x?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Na.jsxs)("div",{className:"text-center py-12",children:[(0,Na.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),(0,Na.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading lesson..."})]})})}):b?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Na.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[(0,Na.jsx)("p",{className:"text-red-700 font-medium mb-3",children:b}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,Na.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"}),(0,Na.jsx)("button",{onClick:()=>c("/courses"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Courses"})]})]})})}):p&&f?(0,Na.jsxs)("div",{className:"min-h-screen bg-gray-50 pt-16",children:[(0,Na.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,Na.jsxs)("button",{onClick:()=>c("/courses"),className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[(0,Na.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,Na.jsx)("span",{className:"font-semibold",children:"Want to explore more courses? \ud83d\ude80"})]})}),(0,Na.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 grid grid-cols-12 gap-6",children:[(0,Na.jsxs)("aside",{className:"hidden md:block md:col-span-3 bg-white border rounded-xl h-fit p-4",children:[(0,Na.jsx)("div",{className:"font-bold mb-3",children:"Lessons"}),(0,Na.jsx)("div",{className:"space-y-2",children:null===(t=p.course_videos)||void 0===t?void 0:t.sort((e,t)=>e.order_index-t.order_index).map((e,t)=>{const n=N.has(e.id);return(0,Na.jsxs)("div",{className:"px-3 py-2 rounded border cursor-pointer flex items-center justify-between ".concat(f.id===e.id?"bg-primary-50 border-primary-200 text-primary-700":n?"bg-green-50 border-green-200 text-green-700":"hover:bg-gray-50"),onClick:()=>c("/course/".concat(d,"/lesson/").concat(e.id)),children:[(0,Na.jsx)("span",{children:e.name||"Lesson ".concat(t+1)}),n&&(0,Na.jsx)("span",{className:"text-green-600",children:"\u2713"})]},e.id)})})]}),(0,Na.jsxs)("main",{className:"col-span-12 md:col-span-6",children:[(0,Na.jsxs)("div",{className:"bg-white rounded-xl border overflow-hidden mb-4",children:[(0,Na.jsxs)("div",{className:"p-4 border-b flex items-center justify-between gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"font-bold",children:f.name}),(0,Na.jsx)("div",{className:"h-1.5 bg-gray-100 rounded mt-2",children:(0,Na.jsx)("div",{className:"h-1.5 bg-primary-500 rounded transition-all",style:{width:"".concat((w+1)/((null===(n=p.course_videos)||void 0===n?void 0:n.length)||1)*100,"%")}})}),(0,Na.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[w+1," of ",(null===(r=p.course_videos)||void 0===r?void 0:r.length)||0," lessons",N.size>0&&(0,Na.jsxs)("span",{className:"ml-2 text-green-600",children:["\u2022 ",N.size," completed"]})]})]}),(0,Na.jsx)("div",{className:"hidden sm:block",children:(0,Na.jsx)(jc,{size:52,strokeWidth:6,progress:Math.round((w+1)/((null===(a=p.course_videos)||void 0===a?void 0:a.length)||1)*100)})})]}),(0,Na.jsx)("div",{className:"w-full overflow-hidden",style:{minHeight:"280px",height:"55vh",maxHeight:"580px",margin:0,padding:0,marginBottom:0},children:(S=f.link,S.includes("youtube.com")||S.includes("youtu.be")||S.includes("youtube-nocookie.com")?(0,Na.jsx)(ni,{src:(e=>{const t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:e})(f.link),type:"youtube",title:f.name,autoplay:!1,onPlay:()=>{console.log("Lesson ".concat(u," video started playing"))},onPause:()=>{console.log("Lesson ".concat(u," video paused"))},onEnded:async()=>{if(console.log("Lesson ".concat(u," video completed")),null!==m&&void 0!==m&&m.id&&d&&u)try{if(null!==m&&void 0!==m&&m.id)try{const{error:e}=await ya.from("user_lesson_progress").upsert({user_id:m.id,course_id:d,lesson_id:u,is_completed:!0,completed_at:(new Date).toISOString()},{onConflict:"user_id,course_id,lesson_id"});e?console.log("Database tracking failed, using localStorage fallback"):console.log("\u2705 Lesson completion tracked in database");try{const{error:e}=await ya.rpc("update_user_xp_and_streak",{user_id:m.id,xp_to_add:50,activity_type:"lesson_completion"});e?console.log("XP update failed (function might not exist yet)"):console.log("\u2705 XP and streak updated in database")}catch(t){console.log("XP update function not available yet")}}catch(b){console.log("Database operations failed, using localStorage fallback")}k(e=>{const t=new Set(e);return t.add(u),t});try{var e;const t=N.size+1,n=(null===p||void 0===p||null===(e=p.course_videos)||void 0===e?void 0:e.length)||1,r=Math.round(t/n*100);localStorage.setItem("recent_course_id",d),localStorage.setItem("recent_course_progress",r.toString()),localStorage.setItem("recent_course_timestamp",(new Date).toISOString()),console.log("\u2705 Progress updated in localStorage:",r+"%")}catch(n){console.log("Could not update localStorage progress")}}catch(b){console.error("Error in lesson completion tracking:",b)}}}):(0,Na.jsx)("div",{className:"w-full h-full bg-gray-900 flex items-center justify-center text-white",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("svg",{className:"h-16 w-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,Na.jsx)("p",{className:"text-lg font-medium mb-2",children:"Video Player"}),(0,Na.jsx)("p",{className:"text-sm text-gray-300",children:f.link.includes("http")?"Direct video link detected":"Video source not supported"}),(0,Na.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Currently supporting YouTube videos only"})]})}))}),(0,Na.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 px-4 -mt-2",children:[(0,Na.jsxs)("span",{children:["Duration: ",(e=>{if(e.includes(":"))return e;if(e.includes("m")&&e.includes("s"))return e;if(e.startsWith("PT")){var t,n;const r=(null===(t=e.match(/(\d+)M/))||void 0===t?void 0:t[1])||"0",a=(null===(n=e.match(/(\d+)S/))||void 0===n?void 0:n[1])||"0";return"".concat(r,":").concat(a.padStart(2,"0"))}return e})(f.duration)]}),(0,Na.jsxs)("span",{children:["Lesson ",w+1," of ",(null===(s=p.course_videos)||void 0===s?void 0:s.length)||0]})]}),(0,Na.jsxs)("div",{className:"p-4 space-y-4",children:[(0,Na.jsx)("div",{className:"text-sm text-gray-700",children:"Downloadable resources \u2022 Transcript \u2022 Notes"}),(0,Na.jsx)("div",{className:"bg-primary-50 border border-primary-100 p-3 rounded text-sm text-primary-800",children:"\ud83d\udd25 Great job! You\u2019re on track \u2014 keep going."}),(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsx)("button",{onClick:()=>{if(null!==p&&void 0!==p&&p.course_videos&&w>0){const e=p.course_videos[w-1];c("/course/".concat(d,"/lesson/").concat(e.id))}},disabled:!(null!==p&&void 0!==p&&p.course_videos)||w<=0,className:"px-4 py-2 rounded-lg border ".concat(null===p||void 0===p||!p.course_videos||w<=0?"text-gray-400 border-gray-200 cursor-not-allowed bg-gray-50":"hover:bg-gray-50"),children:"Previous Lesson"}),w>=((null===(i=p.course_videos)||void 0===i?void 0:i.length)||0)-1?(0,Na.jsx)("button",{onClick:async()=>{try{var e;const{error:n}=await ya.from("user_courses").upsert({user_id:m.id,course_id:d,progress:100,completed_lessons:(null===p||void 0===p||null===(e=p.course_videos)||void 0===e?void 0:e.length)||0,last_accessed:(new Date).toISOString(),completed_at:(new Date).toISOString(),is_completed:!0});n&&console.log("Could not save course completion to database, using localStorage fallback");try{const{error:e}=await ya.rpc("update_user_xp_and_streak",{user_id:m.id,xp_gain:200,activity_type:"course_completed"});e?console.log("Could not award course completion XP:",e):console.log("\u2705 Awarded 200 XP bonus for completing course")}catch(t){console.log("XP system not available yet")}localStorage.setItem("recent_course_id",d),localStorage.setItem("recent_course_progress","100"),localStorage.setItem("recent_course_timestamp",(new Date).toISOString()),localStorage.setItem("recent_course_completed","true"),alert("\ud83c\udf89 Congratulations! You have completed this course!"),c("/courses")}catch(b){console.error("Error completing course:",b),c("/courses")}},className:"px-6 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors font-medium",children:"\ud83c\udf89 Complete Course"}):(0,Na.jsx)("button",{onClick:()=>{if(null!==p&&void 0!==p&&p.course_videos&&w<p.course_videos.length-1){const e=p.course_videos[w+1];c("/course/".concat(d,"/lesson/").concat(e.id))}},className:"px-4 py-2 rounded-lg border bg-primary-600 text-white hover:bg-primary-700",children:"Next Lesson"})]})]})]}),(0,Na.jsx)("div",{className:"block md:hidden",children:(0,Na.jsxs)("div",{className:"bg-white border rounded-xl p-4",children:[(0,Na.jsx)("div",{className:"font-bold mb-3",children:"Lessons"}),(0,Na.jsx)("div",{className:"space-y-2",children:null===(o=p.course_videos)||void 0===o?void 0:o.sort((e,t)=>e.order_index-t.order_index).map((e,t)=>{const n=N.has(e.id);return(0,Na.jsxs)("div",{className:"px-3 py-2 rounded border cursor-pointer flex items-center justify-between ".concat(f.id===e.id?"bg-primary-50 border-primary-200 text-primary-700":n?"bg-green-50 border-green-200 text-green-700":"hover:bg-gray-50"),onClick:()=>c("/course/".concat(d,"/lesson/").concat(e.id)),children:[(0,Na.jsx)("span",{children:e.name||"Lesson ".concat(t+1)}),n&&(0,Na.jsx)("span",{className:"text-green-600",children:"\u2713"})]},e.id)})})]})})]}),(0,Na.jsxs)("aside",{className:"col-span-12 md:col-span-3 space-y-4",children:[(0,Na.jsxs)("div",{className:"bg-white border rounded-xl p-4",children:[(0,Na.jsx)("div",{className:"font-semibold mb-1",children:"Up Next"}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:p.course_videos&&w<p.course_videos.length-1?(null===(l=p.course_videos[w+1])||void 0===l?void 0:l.name)||"Lesson ".concat(w+2):"This is the last lesson"})]}),(0,Na.jsxs)("div",{className:"bg-white border rounded-xl p-4",children:[(0,Na.jsx)("div",{className:"font-semibold mb-1",children:"Daily Streak"}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"You\u2019ve learned 3 days in a row"})]}),(0,Na.jsxs)("div",{className:"bg-white border rounded-xl p-4",children:[(0,Na.jsx)("div",{className:"font-semibold mb-1",children:"Related Courses"}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Suggestions curated for you"})]})]})]})]}):(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Na.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[(0,Na.jsx)("p",{className:"text-yellow-700 font-medium mb-3",children:"Lesson not found"}),(0,Na.jsx)("button",{onClick:()=>c("/courses"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Courses"})]})})});var S},Sc=()=>{const e=pe(),{id:t}=he();return(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center",children:[(0,Na.jsx)("div",{className:"text-5xl",children:"\ud83c\udf89"}),(0,Na.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900 mt-4",children:"Course Completed!"}),(0,Na.jsx)("p",{className:"text-gray-600 mt-2",children:"You unlocked your badge and certificate."}),(0,Na.jsxs)("div",{className:"mt-6 flex items-center justify-center gap-3",children:[(0,Na.jsx)("button",{className:"bg-primary-600 text-white px-5 py-2 rounded-lg hover:bg-primary-700",children:"Download Certificate"}),(0,Na.jsx)("button",{className:"border px-5 py-2 rounded-lg hover:bg-gray-50",children:"Share Achievement"})]}),(0,Na.jsx)("div",{className:"mt-10",children:(0,Na.jsx)("button",{onClick:()=>e("/courses"),className:"text-primary-700 hover:underline",children:"Explore Recommended Courses"})})]})})},_c=()=>{const t=pe(),[n,r]=(0,e.useState)([]),[a,s]=(0,e.useState)(!0),[i,o]=(0,e.useState)(null),[l,c]=(0,e.useState)(""),[d,u]=(0,e.useState)(""),[m,p]=(0,e.useState)(""),[h,f]=(0,e.useState)(1),[g,x]=(0,e.useState)(!0);(0,e.useEffect)(()=>{v()},[h,d,m]);const v=async()=>{try{s(!0);let i=ya.from("blog_posts").select("\n          *,\n          blog_post_categories(\n            blog_categories(name)\n          ),\n          blog_post_tags(\n            blog_tags(name)\n          )\n        ").eq("status","published").order("published_at",{ascending:!1});d&&(i=i.eq("blog_post_categories.blog_categories.name",d)),m&&(i=i.eq("blog_post_tags.blog_tags.name",m));const l=9*(h-1),c=l+9-1;i=i.range(l,c);const{data:u,error:p}=await i;var e,t,n,a;if(p)return console.error("Error fetching blog posts:",p),console.log("Error code:",p.code),console.log("Error message:",p.message),void("PGRST303"===p.code||null!==(e=p.message)&&void 0!==e&&e.includes("JWT expired")?o("Authentication required. Please sign in again."):"PGRST116"===p.code||null!==(t=p.message)&&void 0!==t&&t.includes("JWT")?o("Access denied. Blog posts are not publicly accessible. Admin needs to disable RLS policies."):"401"===p.code||null!==(n=p.message)&&void 0!==n&&n.includes("Unauthorized")?o("Blog access blocked by Row Level Security (RLS) policies. The admin needs to disable RLS on the blog_posts table."):"PGRST301"===p.code||null!==(a=p.message)&&void 0!==a&&a.includes("permission denied")?o("Permission denied. Blog posts table has restricted access. Admin needs to disable RLS policies."):o("Failed to load blog posts: ".concat(p.message||"Unknown error")));const f=(null===u||void 0===u?void 0:u.map(e=>{var t,n,r,a;return{id:e.id,title:e.title,slug:e.slug,content:e.content,excerpt:e.excerpt,featured_image_url:e.featured_image_url,status:e.status,published_at:e.published_at,created_at:e.created_at,updated_at:e.updated_at,categories:(null===(t=e.blog_post_categories)||void 0===t||null===(n=t.filter(e=>e.blog_categories))||void 0===n?void 0:n.map(e=>({name:e.blog_categories.name})))||[],tags:(null===(r=e.blog_post_tags)||void 0===r||null===(a=r.filter(e=>e.blog_tags))||void 0===a?void 0:a.map(e=>({name:e.blog_tags.name})))||[]}}))||[];r(1===h?f:e=>[...e,...f]),x(9===f.length)}catch(i){console.error("Error fetching blog posts:",i),o("Failed to load blog posts")}finally{s(!1)}},b=e=>{const t=e.split(" ").length;return Math.ceil(t/200)},y=n.filter(e=>{if(l){const t=l.toLowerCase();return e.title.toLowerCase().includes(t)||e.excerpt.toLowerCase().includes(t)||e.content.toLowerCase().includes(t)}return!0});return i?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Blog Access Error"}),(0,Na.jsx)("p",{className:"mt-2 text-gray-600 mb-4",children:i}),i.includes("RLS")||i.includes("security policies")?(0,Na.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 max-w-2xl mx-auto mb-6",children:[(0,Na.jsx)("h3",{className:"text-lg font-medium text-yellow-800 mb-3",children:"Quick Fix Required"}),(0,Na.jsx)("p",{className:"text-yellow-700 mb-4",children:"The blog posts are currently blocked by database security policies. This needs to be fixed by an administrator."}),(0,Na.jsxs)("div",{className:"bg-yellow-100 p-4 rounded-lg",children:[(0,Na.jsx)("p",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Admin Action Required:"}),(0,Na.jsxs)("ol",{className:"text-sm text-yellow-700 space-y-1 list-decimal list-inside",children:[(0,Na.jsxs)("li",{children:["Go to ",(0,Na.jsx)("a",{href:"https://supabase.com/dashboard/project/hclguhbswctxfahhzrrr",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Supabase Dashboard"})]}),(0,Na.jsx)("li",{children:'Click "SQL Editor" in the left sidebar'}),(0,Na.jsxs)("li",{children:["Run this command: ",(0,Na.jsx)("code",{className:"bg-yellow-200 px-2 py-1 rounded font-mono",children:"ALTER TABLE blog_posts DISABLE ROW LEVEL SECURITY;"})]}),(0,Na.jsx)("li",{children:'Click "Run" button'})]})]})]}):null,(0,Na.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})})}):(0,Na.jsxs)("div",{className:"min-h-screen bg-gray-50 pt-16",children:[(0,Na.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-gray-900",children:"Our Blog"}),(0,Na.jsx)("p",{className:"text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto",children:"Discover insights, tips, and strategies to help you master digital skills and grow your business"})]})}),(0,Na.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,Na.jsxs)("div",{className:"mb-8",children:[(0,Na.jsx)("form",{onSubmit:e=>{e.preventDefault(),f(1),v()},className:"mb-6",children:(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Na.jsxs)("div",{className:"flex-1 relative",children:[(0,Na.jsx)(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,Na.jsx)("input",{type:"text",placeholder:"Search blog posts...",value:l,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Na.jsx)("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Search"})]})}),(0,Na.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,Na.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Na.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Categories:"}),(0,Na.jsx)("div",{className:"flex flex-wrap gap-2",children:(()=>{const e=new Set;return n.forEach(t=>{t.categories.forEach(t=>e.add(t.name))}),Array.from(e)})().map(e=>(0,Na.jsx)("button",{onClick:()=>(e=>{u(e===d?"":e),p(""),f(1)})(e),className:"px-3 py-1 text-sm rounded-full transition-colors ".concat(d===e?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:e},e))})]}),(0,Na.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Na.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Tags:"}),(0,Na.jsx)("div",{className:"flex flex-wrap gap-2",children:(()=>{const e=new Set;return n.forEach(t=>{t.tags.forEach(t=>e.add(t.name))}),Array.from(e)})().map(e=>(0,Na.jsx)("button",{onClick:()=>(e=>{p(e===m?"":e),u(""),f(1)})(e),className:"px-3 py-1 text-sm rounded-full transition-colors ".concat(m===e?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:e},e))})]})]})]}),a&&1===h?(0,Na.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),(0,Na.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading blog posts..."})]}):0===y.length?(0,Na.jsxs)("div",{className:"text-center py-12",children:[(0,Na.jsx)("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,Na.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No blog posts found"}),(0,Na.jsx)("p",{className:"text-gray-500",children:l||d||m?"Try adjusting your search or filters.":"No published blog posts yet. Check back later for new content."}),!l&&!d&&!m&&(0,Na.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,Na.jsx)("p",{className:"text-sm text-gray-500",children:"Admin users can create blog posts from the admin panel."}),(0,Na.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md mx-auto",children:[(0,Na.jsx)("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Quick Test"}),(0,Na.jsx)("p",{className:"text-sm text-blue-700 mb-3",children:"To test the blog functionality, you need to:"}),(0,Na.jsxs)("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside",children:[(0,Na.jsx)("li",{children:"Go to Supabase Dashboard \u2192 SQL Editor"}),(0,Na.jsxs)("li",{children:["Run: ",(0,Na.jsx)("code",{className:"bg-blue-100 px-1 rounded",children:"ALTER TABLE blog_posts DISABLE ROW LEVEL SECURITY;"})]}),(0,Na.jsx)("li",{children:"Create a blog post from Admin Panel"})]})]})]})]}):(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:y.map(e=>(0,Na.jsxs)("article",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[e.featured_image_url&&(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)("img",{src:e.featured_image_url,alt:e.title,className:"w-full h-48 object-cover"}),(0,Na.jsx)("div",{className:"absolute top-4 left-4",children:e.categories.length>0&&(0,Na.jsx)("span",{className:"inline-block px-3 py-1 bg-blue-600 text-white text-xs font-medium rounded-full",children:e.categories[0].name})})]}),(0,Na.jsxs)("div",{className:"p-6",children:[(0,Na.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2",children:e.title}),e.excerpt&&(0,Na.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-3",children:e.excerpt}),e.tags.length>0&&(0,Na.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.tags.slice(0,3).map((e,t)=>(0,Na.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:e.name},t)),e.tags.length>3&&(0,Na.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:["+",e.tags.length-3]})]}),(0,Na.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[(0,Na.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Na.jsx)(Ja,{className:"w-4 h-4"}),(0,Na.jsxs)("span",{children:[b(e.content)," min read"]})]}),(0,Na.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Na.jsx)(As,{className:"w-4 h-4"}),(0,Na.jsx)("span",{children:"Admin"})]})]}),(0,Na.jsxs)("button",{onClick:()=>t("/blog/".concat(e.slug)),className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:["Read Article",(0,Na.jsx)(Ba,{className:"w-4 h-4 ml-2"})]})]})]},e.id))}),g&&(0,Na.jsx)("div",{className:"text-center mt-12",children:(0,Na.jsx)("button",{onClick:()=>{f(e=>e+1)},disabled:a,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Loading...":"Load More Posts"})})]})]})]})},Cc=()=>{const{slug:t}=he(),n=pe(),[r,a]=(0,e.useState)(!0),[s,i]=(0,e.useState)(null),[o,l]=(0,e.useState)(null),[c,d]=(0,e.useState)(!1);(0,e.useEffect)(()=>{t&&u()},[t]);const u=async()=>{try{a(!0);const{data:e,error:n}=await ya.from("blog_posts").select("\n          *,\n          blog_post_categories(blog_categories(name)),\n          blog_post_tags(blog_tags(name))\n        ").eq("slug",t).eq("status","published").single();if(n)throw n;if(console.log("Blog post data:",e),l(e),e.id&&void 0!==e.view_count)try{await ya.from("blog_posts").update({view_count:(e.view_count||0)+1}).eq("id",e.id)}catch(s){console.log("Could not update view count:",s)}a(!1)}catch(s){console.error("Error fetching blog post:",s),i("Failed to load blog post"),a(!1)}},m=e=>{const t=encodeURIComponent(window.location.href),n=(encodeURIComponent((null===o||void 0===o?void 0:o.title)||"Check out this blog post"),encodeURIComponent((null===o||void 0===o?void 0:o.excerpt)||"Interesting read from King Ezekiel Academy"));let r="";switch(e){case"twitter":r="https://twitter.com/intent/tweet?text=".concat(n,"&url=").concat(t);break;case"facebook":r="https://www.facebook.com/sharer/sharer.php?u=".concat(t);break;case"linkedin":r="https://www.linkedin.com/sharing/share-offsite/?url=".concat(t);break;case"whatsapp":r="https://wa.me/?text=".concat(n,"%20").concat(t);break;default:return}window.open(r,"_blank","width=600,height=400")},p=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return r?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Na.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),(0,Na.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading blog post..."})]})})}):s||!o?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Blog Post Not Found"}),(0,Na.jsx)("p",{className:"mt-2 text-gray-600",children:s||"The blog post you are looking for does not exist."}),(0,Na.jsx)("button",{onClick:()=>n("/blog"),className:"mt-4 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Blog"})]})})}):(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 pt-16",children:(0,Na.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Na.jsx)("div",{className:"mb-6",children:(0,Na.jsxs)("button",{onClick:()=>n("/blog"),className:"inline-flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[(0,Na.jsx)(Fa,{className:"w-4 h-4 mr-2"}),"Back to Blog"]})}),(0,Na.jsxs)("article",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[o.featured_image_url&&(0,Na.jsx)("div",{className:"w-full h-64 sm:h-80 lg:h-96 relative overflow-hidden",children:(0,Na.jsx)("img",{src:o.featured_image_url,alt:o.title,className:"w-full h-full object-cover"})}),(0,Na.jsxs)("div",{className:"p-6 sm:p-8 lg:p-12",children:[(0,Na.jsxs)("header",{className:"mb-8",children:[(0,Na.jsx)("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 mb-4 leading-tight",children:o.title}),(0,Na.jsxs)("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 text-sm text-gray-600 mb-6",children:[(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(As,{className:"w-4 h-4 mr-2"}),(0,Na.jsx)("span",{children:"Admin"})]}),(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(qa,{className:"w-4 h-4 mr-2"}),(0,Na.jsx)("span",{children:p(o.created_at)})]}),o.reading_time&&(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(Ja,{className:"w-4 h-4 mr-2"}),(0,Na.jsxs)("span",{children:[o.reading_time," min read"]})]}),void 0!==o.view_count&&(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(ns,{className:"w-4 h-4 mr-2"}),(0,Na.jsxs)("span",{children:[o.view_count," views"]})]})]}),(0,Na.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[o.categories&&o.categories.length>0&&(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(as,{className:"w-4 h-4 mr-2 text-gray-400"}),(0,Na.jsx)("div",{className:"flex flex-wrap gap-2",children:o.categories.map((e,t)=>(0,Na.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:e.blog_categories.name},t))})]}),o.tags&&o.tags.length>0&&(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(Cs,{className:"w-4 h-4 mr-2 text-gray-400"}),(0,Na.jsx)("div",{className:"flex flex-wrap gap-2",children:o.tags.map((e,t)=>(0,Na.jsx)("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:e.blog_tags.name},t))})]})]}),o.excerpt&&(0,Na.jsx)("div",{className:"mb-8 p-4 bg-gray-50 rounded-lg",children:(0,Na.jsx)("p",{className:"text-lg text-gray-700 italic",children:o.excerpt})})]}),(0,Na.jsx)("div",{className:"prose prose-lg max-w-none mb-8",children:(0,Na.jsx)("div",{dangerouslySetInnerHTML:{__html:o.content},className:"text-gray-800 leading-relaxed"})}),(0,Na.jsxs)("div",{className:"mb-8 p-6 bg-gray-50 rounded-lg",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Share this post"}),(0,Na.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Na.jsxs)("button",{onClick:()=>m("twitter"),className:"inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[(0,Na.jsx)(Ma,{className:"w-4 h-4 mr-2"}),"Twitter"]}),(0,Na.jsxs)("button",{onClick:()=>m("facebook"),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Na.jsx)(Da,{className:"w-4 h-4 mr-2"}),"Facebook"]}),(0,Na.jsxs)("button",{onClick:()=>m("linkedin"),className:"inline-flex items-center px-4 py-2 bg-blue-700 text-white rounded-lg hover:bg-blue-800 transition-colors",children:[(0,Na.jsx)(za,{className:"w-4 h-4 mr-2"}),"LinkedIn"]}),(0,Na.jsxs)("button",{onClick:()=>m("whatsapp"),className:"inline-flex items-center px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[(0,Na.jsx)(Ia,{className:"w-4 h-4 mr-2"}),"WhatsApp"]})]})]}),(0,Na.jsx)("div",{className:"mt-12 pt-8 border-t border-gray-200",children:(0,Na.jsxs)("div",{className:"text-center py-12",children:[(0,Na.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Na.jsx)(As,{className:"w-8 h-8 text-gray-400"})}),(0,Na.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Comments"}),(0,Na.jsx)("p",{className:"text-gray-600 mb-6",children:"Share your thoughts and engage with other readers"}),(0,Na.jsxs)("div",{className:"inline-flex items-center px-4 py-2 bg-blue-50 text-blue-700 rounded-full text-sm font-medium",children:[(0,Na.jsx)("span",{className:"mr-2",children:"\ud83d\ude80"}),"Comments coming soon!"]})]})}),(0,Na.jsx)("footer",{className:"mt-12 pt-8 border-t border-gray-200",children:(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,Na.jsxs)("span",{children:["Published on ",p(o.created_at)]}),o.updated_at!==o.created_at&&(0,Na.jsxs)("span",{children:["\u2022 Updated on ",p(o.updated_at)]})]}),(0,Na.jsx)("button",{onClick:async()=>{try{const e=window.location.href;await navigator.clipboard.writeText(e),d(!0),setTimeout(()=>d(!1),2e3)}catch(e){console.error("Failed to copy link:",e)}},className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:c?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)(Ya,{className:"w-4 h-4 mr-2"}),"Link Copied!"]}):(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)($a,{className:"w-4 h-4 mr-2"}),"Copy Link"]})})]})})]})]})]})})};const Ec=function(){return(0,Na.jsx)(_a,{children:(0,Na.jsx)(pt,{basename:"/-king-ezekiel-academy",children:(0,Na.jsxs)("div",{className:"App",children:[(0,Na.jsx)(Ds,{}),(0,Na.jsx)(zs,{}),(0,Na.jsx)("main",{children:(0,Na.jsxs)(Oe,{children:[(0,Na.jsx)(Le,{path:"/",element:(0,Na.jsx)(Bs,{})}),(0,Na.jsx)(Le,{path:"/courses",element:(0,Na.jsx)(qs,{})}),(0,Na.jsx)(Le,{path:"/blog",element:(0,Na.jsx)(_c,{})}),(0,Na.jsx)(Le,{path:"/blog/:slug",element:(0,Na.jsx)(Cc,{})}),(0,Na.jsx)(Le,{path:"/about",element:(0,Na.jsx)(Vs,{})}),(0,Na.jsx)(Le,{path:"/contact",element:(0,Na.jsx)(Ks,{})}),(0,Na.jsx)(Le,{path:"/signin",element:(0,Na.jsx)(Gs,{})}),(0,Na.jsx)(Le,{path:"/signup",element:(0,Na.jsx)(Ys,{})}),(0,Na.jsx)(Le,{path:"/dashboard",element:(0,Na.jsx)(Ms,{children:(0,Na.jsx)($s,{})})}),(0,Na.jsx)(Le,{path:"/forgot-password",element:(0,Na.jsx)(Qs,{})}),(0,Na.jsx)(Le,{path:"/admin",element:(0,Na.jsx)(Is,{children:(0,Na.jsx)(Xs,{})})}),(0,Na.jsx)(Le,{path:"/admin/courses",element:(0,Na.jsx)(Is,{children:(0,Na.jsx)(ei,{})})}),(0,Na.jsx)(Le,{path:"/admin/courses/new",element:(0,Na.jsx)(Is,{children:(0,Na.jsx)(Zs,{})})}),(0,Na.jsx)(Le,{path:"/admin/courses/:courseId/edit",element:(0,Na.jsx)(Is,{children:(0,Na.jsx)(ti,{})})}),(0,Na.jsx)(Le,{path:"/admin/courses/:courseId/view",element:(0,Na.jsx)(Is,{children:(0,Na.jsx)(ri,{})})}),(0,Na.jsx)(Le,{path:"/admin/add-course",element:(0,Na.jsx)(Is,{children:(0,Na.jsx)(gc,{})})}),(0,Na.jsx)(Le,{path:"/admin/blog",element:(0,Na.jsx)(Is,{children:(0,Na.jsx)(xc,{})})}),(0,Na.jsx)(Le,{path:"/admin/blog/new",element:(0,Na.jsx)(Is,{children:(0,Na.jsx)(bc,{})})}),(0,Na.jsx)(Le,{path:"/admin/blog/:id/edit",element:(0,Na.jsx)(Is,{children:(0,Na.jsx)(bc,{})})}),(0,Na.jsx)(Le,{path:"/admin/blog/:id/view",element:(0,Na.jsx)(Is,{children:(0,Na.jsx)(yc,{})})}),(0,Na.jsx)(Le,{path:"/profile",element:(0,Na.jsx)(Ms,{children:(0,Na.jsx)(wc,{})})}),(0,Na.jsx)(Le,{path:"/course/:id",element:(0,Na.jsx)(Ms,{children:(0,Na.jsx)(Nc,{})})}),(0,Na.jsx)(Le,{path:"/course/:id/overview",element:(0,Na.jsx)(Ms,{children:(0,Na.jsx)(Nc,{})})}),(0,Na.jsx)(Le,{path:"/course/:id/lesson/:lessonId",element:(0,Na.jsx)(Ms,{children:(0,Na.jsx)(kc,{})})}),(0,Na.jsx)(Le,{path:"/course/:id/complete",element:(0,Na.jsx)(Ms,{children:(0,Na.jsx)(Sc,{})})})]})}),(0,Na.jsx)(Rs,{})]})})})},Tc=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:s,getTTFB:i}=t;n(e),r(e),a(e),s(e),i(e)})};t.createRoot(document.getElementById("root")).render((0,Na.jsx)(e.StrictMode,{children:(0,Na.jsx)(Ec,{})})),Tc()})()})();
//# sourceMappingURL=main.a1da0c76.js.map